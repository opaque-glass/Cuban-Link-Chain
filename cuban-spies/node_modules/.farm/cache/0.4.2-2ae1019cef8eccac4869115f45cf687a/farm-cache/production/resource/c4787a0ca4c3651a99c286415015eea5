index_9954.c7290f6f.js(function(_){for(var r in _){_[r].__farm_resource_pot__='file://'+__filename;(globalThis || window || global)['f081367f80fe14896375a9f8b8918ca3'].__farm_module_system__.register(r,_[r])}})({"253158f3":function  (e,t,n,s){"use strict";var T,o;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return N;}});let r=n("@swc/helpers/_/_interop_require_wildcard"),i=n("507960b3"),c=n("beb501d5"),E=n("47ec597a"),_=n("39171beb"),A=r._(n("559e374d")),I=r._(n("8ddbe450")),l=n("42d73029"),D=r._(n("d342ab36")),p=n("f0b4b8b2"),m=n("b7941f75");(o=T||(T={}))[o.INITIAL=0]="INITIAL",o[o.BEFORE_HTML=1]="BEFORE_HTML",o[o.BEFORE_HEAD=2]="BEFORE_HEAD",o[o.IN_HEAD=3]="IN_HEAD",o[o.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",o[o.AFTER_HEAD=5]="AFTER_HEAD",o[o.IN_BODY=6]="IN_BODY",o[o.TEXT=7]="TEXT",o[o.IN_TABLE=8]="IN_TABLE",o[o.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",o[o.IN_CAPTION=10]="IN_CAPTION",o[o.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",o[o.IN_TABLE_BODY=12]="IN_TABLE_BODY",o[o.IN_ROW=13]="IN_ROW",o[o.IN_CELL=14]="IN_CELL",o[o.IN_SELECT=15]="IN_SELECT",o[o.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",o[o.IN_TEMPLATE=17]="IN_TEMPLATE",o[o.AFTER_BODY=18]="AFTER_BODY",o[o.IN_FRAMESET=19]="IN_FRAMESET",o[o.AFTER_FRAMESET=20]="AFTER_FRAMESET",o[o.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",o[o.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let G={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},d=new Set([p.TAG_ID.TABLE,p.TAG_ID.TBODY,p.TAG_ID.TFOOT,p.TAG_ID.THEAD,p.TAG_ID.TR]),h={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:_.defaultTreeAdapter,onParseError:null};class N{constructor(e,t,n=null,s=null){this.fragmentContext=n,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=T.INITIAL,this.originalInsertionMode=T.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...h,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new i.Tokenizer(this.options,this),this.activeFormattingElements=new E.FormattingElementList(this.treeAdapter),this.fragmentContextID=n?(0,p.getTagID)(this.treeAdapter.getTagName(n)):p.TAG_ID.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new c.OpenElementStack(this.document,this.treeAdapter,this);}static parse(e,t){let n=new this(t);return n.tokenizer.write(e,!0),n.document;}static getFragmentParser(e,t){let n={...h,...t};null!=e||(e=n.treeAdapter.createElement(p.TAG_NAMES.TEMPLATE,p.NS.HTML,[]));let s=n.treeAdapter.createElement("documentmock",p.NS.HTML,[]),o=new this(n,s,e);return o.fragmentContextID===p.TAG_ID.TEMPLATE&&o.tmplInsertionModeStack.unshift(T.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o;}getFragment(){let e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t;}_err(e,t,n){var s;if(!this.onParseError)return;let T=null!==(s=e.location)&&void 0!==s?s:G,o={code:t,startLine:T.startLine,startCol:T.startCol,startOffset:T.startOffset,endLine:n?T.startLine:T.endLine,endCol:n?T.startCol:T.endCol,endOffset:n?T.startOffset:T.endOffset};this.onParseError(o);}onItemPush(e,t,n){var s,T;null===(T=(s=this.treeAdapter).onItemPush)||void 0===T||T.call(s,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t);}onItemPop(e,t){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(s=(n=this.treeAdapter).onItemPop)||void 0===s||s.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):{current:e,currentTagId:t}=this.openElements,this._setContextModes(e,t);}}_setContextModes(e,t){let n=e===this.document||this.treeAdapter.getNamespaceURI(e)===p.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e);}_switchToTextParsing(e,t){this._insertElement(e,p.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=T.TEXT;}switchToPlaintextParsing(){this.insertionMode=T.TEXT,this.originalInsertionMode=T.IN_BODY,this.tokenizer.state=i.TokenizerMode.PLAINTEXT;}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current;}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===p.TAG_NAMES.FORM){this.formElement=e;break;}e=this.treeAdapter.getParentNode(e);}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.NS.HTML)switch(this.fragmentContextID){case p.TAG_ID.TITLE:case p.TAG_ID.TEXTAREA:this.tokenizer.state=i.TokenizerMode.RCDATA;break;case p.TAG_ID.STYLE:case p.TAG_ID.XMP:case p.TAG_ID.IFRAME:case p.TAG_ID.NOEMBED:case p.TAG_ID.NOFRAMES:case p.TAG_ID.NOSCRIPT:this.tokenizer.state=i.TokenizerMode.RAWTEXT;break;case p.TAG_ID.SCRIPT:this.tokenizer.state=i.TokenizerMode.SCRIPT_DATA;break;case p.TAG_ID.PLAINTEXT:this.tokenizer.state=i.TokenizerMode.PLAINTEXT;}}_setDocumentType(e){let t=e.name||"",n=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,s),e.location){let t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location);}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){let n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n);}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{let t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e);}}_appendElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location);}_insertElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID);}_insertFakeElement(e,t){let n=this.treeAdapter.createElement(e,p.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t);}_insertTemplate(e){let t=this.treeAdapter.createElement(e.tagName,p.NS.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null);}_insertFakeRootElement(){let e=this.treeAdapter.createElement(p.TAG_NAMES.HTML,p.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,p.TAG_ID.HTML);}_appendCommentNode(e,t){let n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location);}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;let s=this.treeAdapter.getChildNodes(t),T=n?s.lastIndexOf(n):s.length,o=s[T-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){let{endLine:t,endCol:n,endOffset:s}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:s});}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location);}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n);}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){let n=t.location,s=this.treeAdapter.getTagName(e),T=t.type===m.TokenType.END_TAG&&s===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,T);}}shouldProcessStartTagTokenInForeignContent(e){let t,n;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):{current:t,currentTagId:n}=this.openElements,(e.tagID!==p.TAG_ID.SVG||this.treeAdapter.getTagName(t)!==p.TAG_NAMES.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==p.NS.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===p.TAG_ID.MGLYPH||e.tagID===p.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,t,p.NS.HTML)));}_processToken(e){switch(e.type){case m.TokenType.CHARACTER:this.onCharacter(e);break;case m.TokenType.NULL_CHARACTER:this.onNullCharacter(e);break;case m.TokenType.COMMENT:this.onComment(e);break;case m.TokenType.DOCTYPE:this.onDoctype(e);break;case m.TokenType.START_TAG:this._processStartTag(e);break;case m.TokenType.END_TAG:this.onEndTag(e);break;case m.TokenType.EOF:this.onEof(e);break;case m.TokenType.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e);}}_isIntegrationPoint(e,t,n){let s=this.treeAdapter.getNamespaceURI(t),T=this.treeAdapter.getAttrList(t);return I.isIntegrationPoint(e,s,T,n);}_reconstructActiveFormattingElements(){let e=this.activeFormattingElements.entries.length;if(e){let t=this.activeFormattingElements.entries.findIndex(e=>e.type===E.EntryType.Marker||this.openElements.contains(e.element)),n=t<0?e-1:t-1;for(let e=n;e>=0;e--){let t=this.activeFormattingElements.entries[e];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current;}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=T.IN_ROW;}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.P),this.openElements.popUntilTagNamePopped(p.TAG_ID.P);}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case p.TAG_ID.TR:this.insertionMode=T.IN_ROW;return;case p.TAG_ID.TBODY:case p.TAG_ID.THEAD:case p.TAG_ID.TFOOT:this.insertionMode=T.IN_TABLE_BODY;return;case p.TAG_ID.CAPTION:this.insertionMode=T.IN_CAPTION;return;case p.TAG_ID.COLGROUP:this.insertionMode=T.IN_COLUMN_GROUP;return;case p.TAG_ID.TABLE:this.insertionMode=T.IN_TABLE;return;case p.TAG_ID.BODY:this.insertionMode=T.IN_BODY;return;case p.TAG_ID.FRAMESET:this.insertionMode=T.IN_FRAMESET;return;case p.TAG_ID.SELECT:this._resetInsertionModeForSelect(e);return;case p.TAG_ID.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case p.TAG_ID.HTML:this.insertionMode=this.headElement?T.AFTER_HEAD:T.BEFORE_HEAD;return;case p.TAG_ID.TD:case p.TAG_ID.TH:if(e>0){this.insertionMode=T.IN_CELL;return;}break;case p.TAG_ID.HEAD:if(e>0){this.insertionMode=T.IN_HEAD;return;}}this.insertionMode=T.IN_BODY;}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){let e=this.openElements.tagIDs[t];if(e===p.TAG_ID.TEMPLATE)break;if(e===p.TAG_ID.TABLE){this.insertionMode=T.IN_SELECT_IN_TABLE;return;}}this.insertionMode=T.IN_SELECT;}_isElementCausesFosterParenting(e){return d.has(e);}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId);}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){let t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case p.TAG_ID.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===p.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case p.TAG_ID.TABLE:{let n=this.treeAdapter.getParentNode(t);if(n)return{parent:n,beforeElement:t};return{parent:this.openElements.items[e-1],beforeElement:null};}}}return{parent:this.openElements.items[0],beforeElement:null};}_fosterParentElement(e){let t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e);}_isSpecialElement(e,t){let n=this.treeAdapter.getNamespaceURI(e);return p.SPECIAL_ELEMENTS[n].has(t);}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(e),this.framesetOk=!1;return;}switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.IN_BODY:case T.IN_CAPTION:case T.IN_CELL:case T.IN_TEMPLATE:F(this,e);break;case T.TEXT:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_TABLE_TEXT:Q(this,e);break;case T.IN_COLUMN_GROUP:$(this,e);break;case T.AFTER_BODY:ei(this,e);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){e.chars=D.REPLACEMENT_CHARACTER,this._insertCharacters(e);return;}switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.TEXT:this._insertCharacters(e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_COLUMN_GROUP:$(this,e);break;case T.AFTER_BODY:ei(this,e);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){O(this,e);return;}switch(this.insertionMode){case T.INITIAL:case T.BEFORE_HTML:case T.BEFORE_HEAD:case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:case T.IN_BODY:case T.IN_TABLE:case T.IN_CAPTION:case T.IN_COLUMN_GROUP:case T.IN_TABLE_BODY:case T.IN_ROW:case T.IN_CELL:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:case T.IN_TEMPLATE:case T.IN_FRAMESET:case T.AFTER_FRAMESET:O(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0]);}(this,e);break;case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document);}(this,e);}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case T.INITIAL:!function(e,t){e._setDocumentType(t);let n=t.forceQuirks?p.DOCUMENT_MODE.QUIRKS:A.getDocumentMode(t);A.isConforming(t)||e._err(t,l.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=T.BEFORE_HTML;}(this,e);break;case T.BEFORE_HEAD:case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:this._err(e,l.ERR.misplacedDoctype);break;case T.IN_TABLE_TEXT:J(this,e);}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,l.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(I.causesExit(t))eE(e),e._startTagOutsideForeignContent(t);else{let n=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(n);s===p.NS.MATHML?I.adjustTokenMathMLAttrs(t):s===p.NS.SVG&&(I.adjustTokenSVGTagName(t),I.adjustTokenSVGAttrs(t)),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0;}}(this,e):this._startTagOutsideForeignContent(e);}_startTagOutsideForeignContent(e){switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:e.tagID===p.TAG_ID.HTML?(this._insertElement(e,p.NS.HTML),this.insertionMode=T.BEFORE_HEAD):g(this,e);break;case T.BEFORE_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.HEAD:e._insertElement(t,p.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=T.IN_HEAD;break;default:R(e,t);}}(this,e);break;case T.IN_HEAD:C(this,e);break;case T.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.HEAD:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.STYLE:C(e,t);break;case p.TAG_ID.NOSCRIPT:e._err(t,l.ERR.nestedNoscriptInHead);break;default:b(e,t);}}(this,e);break;case T.AFTER_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BODY:e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=T.IN_BODY;break;case p.TAG_ID.FRAMESET:e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_FRAMESET;break;case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.SCRIPT:case p.TAG_ID.STYLE:case p.TAG_ID.TEMPLATE:case p.TAG_ID.TITLE:e._err(t,l.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,p.TAG_ID.HEAD),C(e,t),e.openElements.remove(e.headElement);break;case p.TAG_ID.HEAD:e._err(t,l.ERR.misplacedStartTagForHeadElement);break;default:f(e,t);}}(this,e);break;case T.IN_BODY:w(this,e);break;case T.IN_TABLE:z(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_CAPTION:!function(e,t){let n=t.tagID;q.has(n)?e.openElements.hasInTableScope(p.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_TABLE,z(e,t)):w(e,t);}(this,e);break;case T.IN_COLUMN_GROUP:Z(this,e);break;case T.IN_TABLE_BODY:ee(this,e);break;case T.IN_ROW:en(this,e);break;case T.IN_CELL:!function(e,t){let n=t.tagID;q.has(n)?(e.openElements.hasInTableScope(p.TAG_ID.TD)||e.openElements.hasInTableScope(p.TAG_ID.TH))&&(e._closeTableCell(),en(e,t)):w(e,t);}(this,e);break;case T.IN_SELECT:ea(this,e);break;case T.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===p.TAG_ID.CAPTION||n===p.TAG_ID.TABLE||n===p.TAG_ID.TBODY||n===p.TAG_ID.TFOOT||n===p.TAG_ID.THEAD||n===p.TAG_ID.TR||n===p.TAG_ID.TD||n===p.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ea(e,t);}(this,e);break;case T.IN_TEMPLATE:!function(e,t){switch(t.tagID){case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.SCRIPT:case p.TAG_ID.STYLE:case p.TAG_ID.TEMPLATE:case p.TAG_ID.TITLE:C(e,t);break;case p.TAG_ID.CAPTION:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.tmplInsertionModeStack[0]=T.IN_TABLE,e.insertionMode=T.IN_TABLE,z(e,t);break;case p.TAG_ID.COL:e.tmplInsertionModeStack[0]=T.IN_COLUMN_GROUP,e.insertionMode=T.IN_COLUMN_GROUP,Z(e,t);break;case p.TAG_ID.TR:e.tmplInsertionModeStack[0]=T.IN_TABLE_BODY,e.insertionMode=T.IN_TABLE_BODY,ee(e,t);break;case p.TAG_ID.TD:case p.TAG_ID.TH:e.tmplInsertionModeStack[0]=T.IN_ROW,e.insertionMode=T.IN_ROW,en(e,t);break;default:e.tmplInsertionModeStack[0]=T.IN_BODY,e.insertionMode=T.IN_BODY,w(e,t);}}(this,e);break;case T.AFTER_BODY:e.tagID===p.TAG_ID.HTML?w(this,e):ei(this,e);break;case T.IN_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.FRAMESET:e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.FRAME:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);break;case T.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);break;case T.AFTER_AFTER_BODY:e.tagID===p.TAG_ID.HTML?w(this,e):ec(this,e);break;case T.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===p.TAG_ID.P||t.tagID===p.TAG_ID.BR){eE(e),e._endTagOutsideForeignContent(t);return;}for(let n=e.openElements.stackTop;n>0;n--){let s=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(s)===p.NS.HTML){e._endTagOutsideForeignContent(t);break;}let T=e.treeAdapter.getTagName(s);if(T.toLowerCase()===t.tagName){t.tagName=T,e.openElements.shortenToLength(n);break;}}}(this,e):this._endTagOutsideForeignContent(e);}_endTagOutsideForeignContent(e){var t;switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:!function(e,t){let n=t.tagID;(n===p.TAG_ID.HTML||n===p.TAG_ID.HEAD||n===p.TAG_ID.BODY||n===p.TAG_ID.BR)&&g(e,t);}(this,e);break;case T.BEFORE_HEAD:!function(e,t){let n=t.tagID;n===p.TAG_ID.HEAD||n===p.TAG_ID.BODY||n===p.TAG_ID.HTML||n===p.TAG_ID.BR?R(e,t):e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}(this,e);break;case T.IN_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HEAD:e.openElements.pop(),e.insertionMode=T.AFTER_HEAD;break;case p.TAG_ID.BODY:case p.TAG_ID.BR:case p.TAG_ID.HTML:S(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case p.TAG_ID.NOSCRIPT:e.openElements.pop(),e.insertionMode=T.IN_HEAD;break;case p.TAG_ID.BR:b(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.AFTER_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.BODY:case p.TAG_ID.HTML:case p.TAG_ID.BR:f(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.IN_BODY:y(this,e);break;case T.TEXT:e.tagID===p.TAG_ID.SCRIPT&&(null===(t=this.scriptHandler)||void 0===t||t.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case T.IN_TABLE:K(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_CAPTION:!function(e,t){let n=t.tagID;switch(n){case p.TAG_ID.CAPTION:case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_TABLE,n===p.TAG_ID.TABLE&&K(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TBODY:case p.TAG_ID.TD:case p.TAG_ID.TFOOT:case p.TAG_ID.TH:case p.TAG_ID.THEAD:case p.TAG_ID.TR:break;default:y(e,t);}}(this,e);break;case T.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case p.TAG_ID.COLGROUP:e.openElements.currentTagId===p.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=T.IN_TABLE);break;case p.TAG_ID.TEMPLATE:u(e,t);break;case p.TAG_ID.COL:break;default:$(e,t);}}(this,e);break;case T.IN_TABLE_BODY:et(this,e);break;case T.IN_ROW:es(this,e);break;case T.IN_CELL:!function(e,t){let n=t.tagID;switch(n){case p.TAG_ID.TD:case p.TAG_ID.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_ROW);break;case p.TAG_ID.TABLE:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),es(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:break;default:y(e,t);}}(this,e);break;case T.IN_SELECT:eT(this,e);break;case T.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===p.TAG_ID.CAPTION||n===p.TAG_ID.TABLE||n===p.TAG_ID.TBODY||n===p.TAG_ID.TFOOT||n===p.TAG_ID.THEAD||n===p.TAG_ID.TR||n===p.TAG_ID.TD||n===p.TAG_ID.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):eT(e,t);}(this,e);break;case T.IN_TEMPLATE:e.tagID===p.TAG_ID.TEMPLATE&&u(this,e);break;case T.AFTER_BODY:er(this,e);break;case T.IN_FRAMESET:e.tagID!==p.TAG_ID.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===p.TAG_ID.FRAMESET||(this.insertionMode=T.AFTER_FRAMESET));break;case T.AFTER_FRAMESET:e.tagID===p.TAG_ID.HTML&&(this.insertionMode=T.AFTER_AFTER_FRAMESET);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onEof(e){switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.IN_BODY:case T.IN_TABLE:case T.IN_CAPTION:case T.IN_COLUMN_GROUP:case T.IN_TABLE_BODY:case T.IN_ROW:case T.IN_CELL:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:W(this,e);break;case T.TEXT:this._err(e,l.ERR.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_TEMPLATE:eo(this,e);break;case T.AFTER_BODY:case T.IN_FRAMESET:case T.AFTER_FRAMESET:case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:k(this,e);}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===D.CODE_POINTS.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1);}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return;}switch(this.insertionMode){case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:case T.TEXT:case T.IN_COLUMN_GROUP:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:case T.IN_FRAMESET:case T.AFTER_FRAMESET:this._insertCharacters(e);break;case T.IN_BODY:case T.IN_CAPTION:case T.IN_CELL:case T.IN_TEMPLATE:case T.AFTER_BODY:case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:B(this,e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_TABLE_TEXT:j(this,e);}}}function L(e,t){for(let n=0;n<8;n++){let n=function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):v(e,t),n;}(e,t);if(!n)break;let s=function(e,t){let n=null,s=e.openElements.stackTop;for(;s>=0;s--){let T=e.openElements.items[s];if(T===t.element)break;e._isSpecialElement(T,e.openElements.tagIDs[s])&&(n=T);}return n||(e.openElements.shortenToLength(s<0?0:s),e.activeFormattingElements.removeEntry(t)),n;}(e,n);if(!s)break;e.activeFormattingElements.bookmark=n;let T=function(e,t,n){let s=t,T=e.openElements.getCommonAncestor(t);for(let o=0,r=T;r!==n;o++,r=T){T=e.openElements.getCommonAncestor(r);let n=e.activeFormattingElements.getElementEntry(r),i=n&&o>=3;!n||i?(i&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(r)):(r=function(e,t){let n=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s;}(e,n),s===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(r,s),s=r);}return s;}(e,s,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(T),o&&function(e,t,n){let s=e.treeAdapter.getTagName(t),T=(0,p.getTagID)(s);if(e._isElementCausesFosterParenting(T))e._fosterParentElement(n);else{let s=e.treeAdapter.getNamespaceURI(t);T===p.TAG_ID.TEMPLATE&&s===p.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n);}}(e,o,T),function(e,t,n){let s=e.treeAdapter.getNamespaceURI(n.element),{token:T}=n,o=e.treeAdapter.createElement(T.tagName,s,T.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,T),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,T.tagID);}(e,s,n);}}function O(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode);}function k(e,t){if(e.stopped=!0,t.location){let n=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=n;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(n);if(s&&!s.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let n=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(n);s&&!s.endTag&&e._setEndLocation(n,t);}}}}function M(e,t){e._err(t,l.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,p.DOCUMENT_MODE.QUIRKS),e.insertionMode=T.BEFORE_HTML,e._processToken(t);}function g(e,t){e._insertFakeRootElement(),e.insertionMode=T.BEFORE_HEAD,e._processToken(t);}function R(e,t){e._insertFakeElement(p.TAG_NAMES.HEAD,p.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=T.IN_HEAD,e._processToken(t);}function C(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.TITLE:e._switchToTextParsing(t,i.TokenizerMode.RCDATA);break;case p.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT):(e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_HEAD_NO_SCRIPT);break;case p.TAG_ID.NOFRAMES:case p.TAG_ID.STYLE:e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SCRIPT:e._switchToTextParsing(t,i.TokenizerMode.SCRIPT_DATA);break;case p.TAG_ID.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=T.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(T.IN_TEMPLATE);break;case p.TAG_ID.HEAD:e._err(t,l.ERR.misplacedStartTagForHeadElement);break;default:S(e,t);}}function u(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TAG_ID.TEMPLATE&&e._err(t,l.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}function S(e,t){e.openElements.pop(),e.insertionMode=T.AFTER_HEAD,e._processToken(t);}function b(e,t){let n=t.type===m.TokenType.EOF?l.ERR.openElementsLeftAfterEof:l.ERR.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=T.IN_HEAD,e._processToken(t);}function f(e,t){e._insertFakeElement(p.TAG_NAMES.BODY,p.TAG_ID.BODY),e.insertionMode=T.IN_BODY,P(e,t);}function P(e,t){switch(t.type){case m.TokenType.CHARACTER:F(e,t);break;case m.TokenType.WHITESPACE_CHARACTER:B(e,t);break;case m.TokenType.COMMENT:O(e,t);break;case m.TokenType.START_TAG:w(e,t);break;case m.TokenType.END_TAG:y(e,t);break;case m.TokenType.EOF:W(e,t);}}function B(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t);}function F(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1;}function H(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;}function U(e){let t=(0,m.getTokenAttr)(e,p.ATTRS.TYPE);return null!=t&&"hidden"===t.toLowerCase();}function Y(e,t){e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);}function x(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML);}function w(e,t){switch(t.tagID){case p.TAG_ID.I:case p.TAG_ID.S:case p.TAG_ID.B:case p.TAG_ID.U:case p.TAG_ID.EM:case p.TAG_ID.TT:case p.TAG_ID.BIG:case p.TAG_ID.CODE:case p.TAG_ID.FONT:case p.TAG_ID.SMALL:case p.TAG_ID.STRIKE:case p.TAG_ID.STRONG:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case p.TAG_ID.A:!function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(p.TAG_NAMES.A);n&&(L(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);}(e,t);break;case p.TAG_ID.H1:case p.TAG_ID.H2:case p.TAG_ID.H3:case p.TAG_ID.H4:case p.TAG_ID.H5:case p.TAG_ID.H6:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),p.NUMBERED_HEADERS.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.P:case p.TAG_ID.DL:case p.TAG_ID.OL:case p.TAG_ID.UL:case p.TAG_ID.DIV:case p.TAG_ID.DIR:case p.TAG_ID.NAV:case p.TAG_ID.MAIN:case p.TAG_ID.MENU:case p.TAG_ID.ASIDE:case p.TAG_ID.CENTER:case p.TAG_ID.FIGURE:case p.TAG_ID.FOOTER:case p.TAG_ID.HEADER:case p.TAG_ID.HGROUP:case p.TAG_ID.DIALOG:case p.TAG_ID.DETAILS:case p.TAG_ID.ADDRESS:case p.TAG_ID.ARTICLE:case p.TAG_ID.SEARCH:case p.TAG_ID.SECTION:case p.TAG_ID.SUMMARY:case p.TAG_ID.FIELDSET:case p.TAG_ID.BLOCKQUOTE:case p.TAG_ID.FIGCAPTION:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.LI:case p.TAG_ID.DD:case p.TAG_ID.DT:!function(e,t){e.framesetOk=!1;let n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){let s=e.openElements.tagIDs[t];if(n===p.TAG_ID.LI&&s===p.TAG_ID.LI||(n===p.TAG_ID.DD||n===p.TAG_ID.DT)&&(s===p.TAG_ID.DD||s===p.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break;}if(s!==p.TAG_ID.ADDRESS&&s!==p.TAG_ID.DIV&&s!==p.TAG_ID.P&&e._isSpecialElement(e.openElements.items[t],s))break;}e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML);}(e,t);break;case p.TAG_ID.BR:case p.TAG_ID.IMG:case p.TAG_ID.WBR:case p.TAG_ID.AREA:case p.TAG_ID.EMBED:case p.TAG_ID.KEYGEN:H(e,t);break;case p.TAG_ID.HR:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._appendElement(t,p.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;break;case p.TAG_ID.RB:case p.TAG_ID.RTC:e.openElements.hasInScope(p.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.RT:case p.TAG_ID.RP:e.openElements.hasInScope(p.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.RTC),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.PRE:case p.TAG_ID.LISTING:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1;break;case p.TAG_ID.XMP:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SVG:e._reconstructActiveFormattingElements(),I.adjustTokenSVGAttrs(t),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.NS.SVG):e._insertElement(t,p.NS.SVG),t.ackSelfClosing=!0;break;case p.TAG_ID.HTML:0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs);break;case p.TAG_ID.BASE:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.STYLE:case p.TAG_ID.TITLE:case p.TAG_ID.SCRIPT:case p.TAG_ID.BGSOUND:case p.TAG_ID.BASEFONT:case p.TAG_ID.TEMPLATE:C(e,t);break;case p.TAG_ID.BODY:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs));}(e,t);break;case p.TAG_ID.FORM:!function(e,t){let n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),n||(e.formElement=e.openElements.current));}(e,t);break;case p.TAG_ID.NOBR:e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.TAG_ID.NOBR)&&(L(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case p.TAG_ID.MATH:e._reconstructActiveFormattingElements(),I.adjustTokenMathMLAttrs(t),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.NS.MATHML):e._insertElement(t,p.NS.MATHML),t.ackSelfClosing=!0;break;case p.TAG_ID.TABLE:e.treeAdapter.getDocumentMode(e.document)!==p.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=T.IN_TABLE;break;case p.TAG_ID.INPUT:e._reconstructActiveFormattingElements(),e._appendElement(t,p.NS.HTML),U(t)||(e.framesetOk=!1),t.ackSelfClosing=!0;break;case p.TAG_ID.PARAM:case p.TAG_ID.TRACK:case p.TAG_ID.SOURCE:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.IMAGE:t.tagName=p.TAG_NAMES.IMG,t.tagID=p.TAG_ID.IMG,H(e,t);break;case p.TAG_ID.BUTTON:e.openElements.hasInScope(p.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1;break;case p.TAG_ID.APPLET:case p.TAG_ID.OBJECT:case p.TAG_ID.MARQUEE:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1;break;case p.TAG_ID.IFRAME:e.framesetOk=!1,e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SELECT:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===T.IN_TABLE||e.insertionMode===T.IN_CAPTION||e.insertionMode===T.IN_TABLE_BODY||e.insertionMode===T.IN_ROW||e.insertionMode===T.IN_CELL?T.IN_SELECT_IN_TABLE:T.IN_SELECT;break;case p.TAG_ID.OPTION:case p.TAG_ID.OPTGROUP:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.NOEMBED:case p.TAG_ID.NOFRAMES:Y(e,t);break;case p.TAG_ID.FRAMESET:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_FRAMESET);}(e,t);break;case p.TAG_ID.TEXTAREA:e._insertElement(t,p.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=i.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=T.TEXT;break;case p.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?Y(e,t):x(e,t);break;case p.TAG_ID.PLAINTEXT:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.tokenizer.state=i.TokenizerMode.PLAINTEXT;break;case p.TAG_ID.COL:case p.TAG_ID.TH:case p.TAG_ID.TD:case p.TAG_ID.TR:case p.TAG_ID.HEAD:case p.TAG_ID.FRAME:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.CAPTION:case p.TAG_ID.COLGROUP:break;default:x(e,t);}}function v(e,t){let n=t.tagName,s=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){let T=e.openElements.items[t],o=e.openElements.tagIDs[t];if(s===o&&(s!==p.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(T)===n)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break;}if(e._isSpecialElement(T,o))break;}}function y(e,t){switch(t.tagID){case p.TAG_ID.A:case p.TAG_ID.B:case p.TAG_ID.I:case p.TAG_ID.S:case p.TAG_ID.U:case p.TAG_ID.EM:case p.TAG_ID.TT:case p.TAG_ID.BIG:case p.TAG_ID.CODE:case p.TAG_ID.FONT:case p.TAG_ID.NOBR:case p.TAG_ID.SMALL:case p.TAG_ID.STRIKE:case p.TAG_ID.STRONG:L(e,t);break;case p.TAG_ID.P:e.openElements.hasInButtonScope(p.TAG_ID.P)||e._insertFakeElement(p.TAG_NAMES.P,p.TAG_ID.P),e._closePElement();break;case p.TAG_ID.DL:case p.TAG_ID.UL:case p.TAG_ID.OL:case p.TAG_ID.DIR:case p.TAG_ID.DIV:case p.TAG_ID.NAV:case p.TAG_ID.PRE:case p.TAG_ID.MAIN:case p.TAG_ID.MENU:case p.TAG_ID.ASIDE:case p.TAG_ID.BUTTON:case p.TAG_ID.CENTER:case p.TAG_ID.FIGURE:case p.TAG_ID.FOOTER:case p.TAG_ID.HEADER:case p.TAG_ID.HGROUP:case p.TAG_ID.DIALOG:case p.TAG_ID.ADDRESS:case p.TAG_ID.ARTICLE:case p.TAG_ID.DETAILS:case p.TAG_ID.SEARCH:case p.TAG_ID.SECTION:case p.TAG_ID.SUMMARY:case p.TAG_ID.LISTING:case p.TAG_ID.FIELDSET:case p.TAG_ID.BLOCKQUOTE:case p.TAG_ID.FIGCAPTION:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n));}(e,t);break;case p.TAG_ID.LI:e.openElements.hasInListItemScope(p.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.LI),e.openElements.popUntilTagNamePopped(p.TAG_ID.LI));break;case p.TAG_ID.DD:case p.TAG_ID.DT:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n));}(e,t);break;case p.TAG_ID.H1:case p.TAG_ID.H2:case p.TAG_ID.H3:case p.TAG_ID.H4:case p.TAG_ID.H5:case p.TAG_ID.H6:e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped());break;case p.TAG_ID.BR:e._reconstructActiveFormattingElements(),e._insertFakeElement(p.TAG_NAMES.BR,p.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1;break;case p.TAG_ID.BODY:!function(e,t){if(e.openElements.hasInScope(p.TAG_ID.BODY)&&(e.insertionMode=T.AFTER_BODY,e.options.sourceCodeLocationInfo)){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t);}}(e,t);break;case p.TAG_ID.HTML:e.openElements.hasInScope(p.TAG_ID.BODY)&&(e.insertionMode=T.AFTER_BODY,er(e,t));break;case p.TAG_ID.FORM:!function(e){let t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.TAG_ID.FORM):n&&e.openElements.remove(n));}(e);break;case p.TAG_ID.APPLET:case p.TAG_ID.OBJECT:case p.TAG_ID.MARQUEE:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker());}(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:v(e,t);}}function W(e,t){e.tmplInsertionModeStack.length>0?eo(e,t):k(e,t);}function X(e,t){if(d.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=T.IN_TABLE_TEXT,t.type){case m.TokenType.CHARACTER:Q(e,t);break;case m.TokenType.WHITESPACE_CHARACTER:j(e,t);}else V(e,t);}function z(e,t){switch(t.tagID){case p.TAG_ID.TD:case p.TAG_ID.TH:case p.TAG_ID.TR:e.openElements.clearBackToTableContext(),e._insertFakeElement(p.TAG_NAMES.TBODY,p.TAG_ID.TBODY),e.insertionMode=T.IN_TABLE_BODY,ee(e,t);break;case p.TAG_ID.STYLE:case p.TAG_ID.SCRIPT:case p.TAG_ID.TEMPLATE:C(e,t);break;case p.TAG_ID.COL:e.openElements.clearBackToTableContext(),e._insertFakeElement(p.TAG_NAMES.COLGROUP,p.TAG_ID.COLGROUP),e.insertionMode=T.IN_COLUMN_GROUP,Z(e,t);break;case p.TAG_ID.FORM:e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,p.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop());break;case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t));break;case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.clearBackToTableContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_TABLE_BODY;break;case p.TAG_ID.INPUT:U(t)?e._appendElement(t,p.NS.HTML):V(e,t),t.ackSelfClosing=!0;break;case p.TAG_ID.CAPTION:e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_CAPTION;break;case p.TAG_ID.COLGROUP:e.openElements.clearBackToTableContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_COLUMN_GROUP;break;default:V(e,t);}}function K(e,t){switch(t.tagID){case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.TABLE),e._resetInsertionMode());break;case p.TAG_ID.TEMPLATE:u(e,t);break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TBODY:case p.TAG_ID.TD:case p.TAG_ID.TFOOT:case p.TAG_ID.TH:case p.TAG_ID.THEAD:case p.TAG_ID.TR:break;default:V(e,t);}}function V(e,t){let n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,P(e,t),e.fosterParentingEnabled=n;}function j(e,t){e.pendingCharacterTokens.push(t);}function Q(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0;}function J(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)V(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t);}let q=new Set([p.TAG_ID.CAPTION,p.TAG_ID.COL,p.TAG_ID.COLGROUP,p.TAG_ID.TBODY,p.TAG_ID.TD,p.TAG_ID.TFOOT,p.TAG_ID.TH,p.TAG_ID.THEAD,p.TAG_ID.TR]);function Z(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.COL:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.TEMPLATE:C(e,t);break;default:$(e,t);}}function $(e,t){e.openElements.currentTagId===p.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=T.IN_TABLE,e._processToken(t));}function ee(e,t){switch(t.tagID){case p.TAG_ID.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_ROW;break;case p.TAG_ID.TH:case p.TAG_ID.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(p.TAG_NAMES.TR,p.TAG_ID.TR),e.insertionMode=T.IN_ROW,en(e,t);break;case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE,z(e,t));break;default:z(e,t);}}function et(e,t){let n=t.tagID;switch(t.tagID){case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE);break;case p.TAG_ID.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE,K(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TD:case p.TAG_ID.TH:case p.TAG_ID.TR:break;default:K(e,t);}}function en(e,t){switch(t.tagID){case p.TAG_ID.TH:case p.TAG_ID.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_CELL,e.activeFormattingElements.insertMarker();break;case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.TR:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,ee(e,t));break;default:z(e,t);}}function es(e,t){switch(t.tagID){case p.TAG_ID.TR:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY);break;case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,et(e,t));break;case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,et(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TD:case p.TAG_ID.TH:break;default:K(e,t);}}function ea(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.OPTION:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.OPTGROUP:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.HR:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.INPUT:case p.TAG_ID.KEYGEN:case p.TAG_ID.TEXTAREA:case p.TAG_ID.SELECT:e.openElements.hasInSelectScope(p.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==p.TAG_ID.SELECT&&e._processStartTag(t));break;case p.TAG_ID.SCRIPT:case p.TAG_ID.TEMPLATE:C(e,t);}}function eT(e,t){switch(t.tagID){case p.TAG_ID.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop();break;case p.TAG_ID.OPTION:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop();break;case p.TAG_ID.SELECT:e.openElements.hasInSelectScope(p.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode());break;case p.TAG_ID.TEMPLATE:u(e,t);}}function eo(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):k(e,t);}function er(e,t){var n;if(t.tagID===p.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=T.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);let s=e.openElements.items[1];!s||(null===(n=e.treeAdapter.getNodeSourceCodeLocation(s))||void 0===n?void 0:n.endTag)||e._setEndLocation(s,t);}}else ei(e,t);}function ei(e,t){e.insertionMode=T.IN_BODY,P(e,t);}function ec(e,t){e.insertionMode=T.IN_BODY,P(e,t);}function eE(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==p.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop();}},"39171beb":function  (e,t,o,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultTreeAdapter",{enumerable:!0,get:function(){return c;}});let n=o("f0b4b8b2"),c={createDocument:()=>({nodeName:"#document",mode:n.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,o)=>({nodeName:e,tagName:e,attrs:o,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e;},insertBefore(e,t,o){let d=e.childNodes.indexOf(o);e.childNodes.splice(d,0,t),t.parentNode=e;},setTemplateContent(e,t){e.content=t;},getTemplateContent:e=>e.content,setDocumentType(e,t,o,d){let n=e.childNodes.find(e=>"#documentType"===e.nodeName);n?(n.name=t,n.publicId=o,n.systemId=d):c.appendChild(e,{nodeName:"#documentType",name:t,publicId:o,systemId:d,parentNode:null});},setDocumentMode(e,t){e.mode=t;},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null;}},insertText(e,t){if(e.childNodes.length>0){let o=e.childNodes[e.childNodes.length-1];if(c.isTextNode(o)){o.value+=t;return;}}c.appendChild(e,c.createTextNode(t));},insertTextBefore(e,t,o){let d=e.childNodes[e.childNodes.indexOf(o)-1];d&&c.isTextNode(d)?d.value+=t:c.insertBefore(e,c.createTextNode(t),o);},adoptAttributes(e,t){let o=new Set(e.attrs.map(e=>e.name));for(let d=0;d<t.length;d++)o.has(t[d].name)||e.attrs.push(t[d]);},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t;},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t};}};},"42d73029":function  (e,t,n,i){"use strict";var r,c;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ERR",{enumerable:!0,get:function(){return r;}}),(c=r||(r={})).controlCharacterInInputStream="control-character-in-input-stream",c.noncharacterInInputStream="noncharacter-in-input-stream",c.surrogateInInputStream="surrogate-in-input-stream",c.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",c.endTagWithAttributes="end-tag-with-attributes",c.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",c.unexpectedSolidusInTag="unexpected-solidus-in-tag",c.unexpectedNullCharacter="unexpected-null-character",c.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",c.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",c.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",c.missingEndTagName="missing-end-tag-name",c.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",c.unknownNamedCharacterReference="unknown-named-character-reference",c.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",c.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",c.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",c.eofBeforeTagName="eof-before-tag-name",c.eofInTag="eof-in-tag",c.missingAttributeValue="missing-attribute-value",c.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",c.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",c.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",c.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",c.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",c.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",c.missingDoctypePublicIdentifier="missing-doctype-public-identifier",c.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",c.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",c.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",c.cdataInHtmlContent="cdata-in-html-content",c.incorrectlyOpenedComment="incorrectly-opened-comment",c.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",c.eofInDoctype="eof-in-doctype",c.nestedComment="nested-comment",c.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",c.eofInComment="eof-in-comment",c.incorrectlyClosedComment="incorrectly-closed-comment",c.eofInCdata="eof-in-cdata",c.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",c.nullCharacterReference="null-character-reference",c.surrogateCharacterReference="surrogate-character-reference",c.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",c.controlCharacterReference="control-character-reference",c.noncharacterCharacterReference="noncharacter-character-reference",c.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",c.missingDoctypeName="missing-doctype-name",c.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",c.duplicateAttribute="duplicate-attribute",c.nonConformingDoctype="non-conforming-doctype",c.missingDoctype="missing-doctype",c.misplacedDoctype="misplaced-doctype",c.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",c.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",c.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",c.openElementsLeftAfterEof="open-elements-left-after-eof",c.abandonedHeadElementChild="abandoned-head-element-child",c.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",c.nestedNoscriptInHead="nested-noscript-in-head",c.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";},"47ec597a":function  (e,t,r,n){"use strict";var i,s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]});}(t,{EntryType:function(){return i;},FormattingElementList:function(){return h;}}),(s=i||(i={}))[s.Marker=0]="Marker",s[s.Element=1]="Element";let l={type:i.Marker};class h{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null;}_getNoahArkConditionCandidates(e,t){let r=[],n=t.length,s=this.treeAdapter.getTagName(e),l=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){let t=this.entries[e];if(t.type===i.Marker)break;let{element:h}=t;if(this.treeAdapter.getTagName(h)===s&&this.treeAdapter.getNamespaceURI(h)===l){let t=this.treeAdapter.getAttrList(h);t.length===n&&r.push({idx:e,attrs:t});}}return r;}_ensureNoahArkCondition(e){if(this.entries.length<3)return;let t=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,t);if(r.length<3)return;let n=new Map(t.map(e=>[e.name,e.value])),i=0;for(let e=0;e<r.length;e++){let t=r[e];t.attrs.every(e=>n.get(e.name)===e.value)&&(i+=1)>=3&&this.entries.splice(t.idx,1);}}insertMarker(){this.entries.unshift(l);}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:i.Element,element:e,token:t});}insertElementAfterBookmark(e,t){let r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:i.Element,element:e,token:t});}removeEntry(e){let t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1);}clearToLastMarker(){let e=this.entries.indexOf(l);e>=0?this.entries.splice(0,e+1):this.entries.length=0;}getElementEntryInScopeWithTagName(e){let t=this.entries.find(t=>t.type===i.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===i.Element?t:null;}getElementEntry(e){return this.entries.find(t=>t.type===i.Element&&t.element===e);}}},"507960b3":function  (t,e,s,_){"use strict";var E,r;Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var s in e)Object.defineProperty(t,s,{enumerable:!0,get:e[s]});}(e,{Tokenizer:function(){return o;},TokenizerMode:function(){return O;}});let T=s("f4718d32"),i=s("d342ab36"),A=s("b7941f75"),S=s("42dc32b2"),C=s("42d73029"),D=s("f0b4b8b2");(r=E||(E={}))[r.DATA=0]="DATA",r[r.RCDATA=1]="RCDATA",r[r.RAWTEXT=2]="RAWTEXT",r[r.SCRIPT_DATA=3]="SCRIPT_DATA",r[r.PLAINTEXT=4]="PLAINTEXT",r[r.TAG_OPEN=5]="TAG_OPEN",r[r.END_TAG_OPEN=6]="END_TAG_OPEN",r[r.TAG_NAME=7]="TAG_NAME",r[r.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",r[r.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",r[r.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",r[r.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",r[r.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",r[r.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",r[r.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",r[r.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",r[r.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",r[r.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",r[r.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",r[r.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",r[r.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",r[r.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",r[r.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",r[r.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",r[r.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",r[r.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",r[r.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",r[r.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",r[r.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",r[r.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",r[r.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",r[r.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",r[r.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",r[r.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",r[r.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",r[r.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",r[r.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",r[r.BOGUS_COMMENT=40]="BOGUS_COMMENT",r[r.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",r[r.COMMENT_START=42]="COMMENT_START",r[r.COMMENT_START_DASH=43]="COMMENT_START_DASH",r[r.COMMENT=44]="COMMENT",r[r.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",r[r.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",r[r.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",r[r.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",r[r.COMMENT_END_DASH=49]="COMMENT_END_DASH",r[r.COMMENT_END=50]="COMMENT_END",r[r.COMMENT_END_BANG=51]="COMMENT_END_BANG",r[r.DOCTYPE=52]="DOCTYPE",r[r.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",r[r.DOCTYPE_NAME=54]="DOCTYPE_NAME",r[r.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",r[r.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",r[r.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",r[r.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",r[r.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",r[r.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",r[r.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",r[r.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",r[r.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",r[r.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",r[r.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",r[r.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",r[r.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",r[r.CDATA_SECTION=68]="CDATA_SECTION",r[r.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",r[r.CDATA_SECTION_END=70]="CDATA_SECTION_END",r[r.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",r[r.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND";let O={DATA:E.DATA,RCDATA:E.RCDATA,RAWTEXT:E.RAWTEXT,SCRIPT_DATA:E.SCRIPT_DATA,PLAINTEXT:E.PLAINTEXT,CDATA_SECTION:E.CDATA_SECTION};function h(t){return t>=i.CODE_POINTS.LATIN_CAPITAL_A&&t<=i.CODE_POINTS.LATIN_CAPITAL_Z;}function c(t){return t>=i.CODE_POINTS.LATIN_SMALL_A&&t<=i.CODE_POINTS.LATIN_SMALL_Z||h(t);}function N(t){return c(t)||t>=i.CODE_POINTS.DIGIT_0&&t<=i.CODE_POINTS.DIGIT_9;}function n(t){return t===i.CODE_POINTS.SPACE||t===i.CODE_POINTS.LINE_FEED||t===i.CODE_POINTS.TABULATION||t===i.CODE_POINTS.FORM_FEED;}function I(t){return n(t)||t===i.CODE_POINTS.SOLIDUS||t===i.CODE_POINTS.GREATER_THAN_SIGN;}class o{constructor(t,e){this.options=t,this.handler=e,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=E.DATA,this.returnState=E.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new T.Preprocessor(e),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new S.EntityDecoder(S.htmlDecodeTree,(t,e)=>{this.preprocessor.pos=this.entityStartPos+e-1,this._flushCodePointConsumedAsCharacterReference(t);},e.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(C.ERR.missingSemicolonAfterCharacterReference,1);},absenceOfDigitsInNumericCharacterReference:t=>{this._err(C.ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+t);},validateNumericCharacterReference:t=>{var e;let s=(e=t)===i.CODE_POINTS.NULL?C.ERR.nullCharacterReference:e>1114111?C.ERR.characterReferenceOutsideUnicodeRange:(0,i.isSurrogate)(e)?C.ERR.surrogateCharacterReference:(0,i.isUndefinedCodePoint)(e)?C.ERR.noncharacterCharacterReference:(0,i.isControlCodePoint)(e)||e===i.CODE_POINTS.CARRIAGE_RETURN?C.ERR.controlCharacterReference:null;s&&this._err(s,1);}}:void 0);}_err(t,e=0){var s,_;null===(_=(s=this.handler).onParseError)||void 0===_||_.call(s,this.preprocessor.getError(t,e));}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null;}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let t=this._consume();this._ensureHibernation()||this._callState(t);}this.inLoop=!1;}}pause(){this.paused=!0;}resume(t){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==t||t());}write(t,e,s){this.active=!0,this.preprocessor.write(t,e),this._runParsingLoop(),this.paused||null==s||s();}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop();}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0);}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance();}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let e=0;e<t;e++)this.preprocessor.advance();}_consumeSequenceIfMatch(t,e){return!!this.preprocessor.startsWith(t,e)&&(this._advanceBy(t.length-1),!0);}_createStartTagToken(){this.currentToken={type:A.TokenType.START_TAG,tagName:"",tagID:D.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)};}_createEndTagToken(){this.currentToken={type:A.TokenType.END_TAG,tagName:"",tagID:D.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)};}_createCommentToken(t){this.currentToken={type:A.TokenType.COMMENT,data:"",location:this.getCurrentLocation(t)};}_createDoctypeToken(t){this.currentToken={type:A.TokenType.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation};}_createCharacterToken(t,e){this.currentCharacterToken={type:t,chars:e,location:this.currentLocation};}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0);}_leaveAttrName(){var t,e;let s=this.currentToken;null===(0,A.getTokenAttr)(s,this.currentAttr.name)?(s.attrs.push(this.currentAttr),s.location&&this.currentLocation&&((null!==(t=(e=s.location).attrs)&&void 0!==t?t:e.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(C.ERR.duplicateAttribute);}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset);}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1);}emitCurrentTagToken(){let t=this.currentToken;this.prepareToken(t),t.tagID=(0,D.getTagID)(t.tagName),t.type===A.TokenType.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(C.ERR.endTagWithAttributes),t.selfClosing&&this._err(C.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk();}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk();}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk();}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case A.TokenType.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case A.TokenType.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case A.TokenType.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken);}this.currentCharacterToken=null;}}_emitEOFToken(){let t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:A.TokenType.EOF,location:t}),this.active=!1;}_appendCharToCurrentCharacterToken(t,e){if(this.currentCharacterToken){if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=e;return;}this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();}this._createCharacterToken(t,e);}_emitCodePoint(t){let e=n(t)?A.TokenType.WHITESPACE_CHARACTER:t===i.CODE_POINTS.NULL?A.TokenType.NULL_CHARACTER:A.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(e,String.fromCodePoint(t));}_emitChars(t){this._appendCharToCurrentCharacterToken(A.TokenType.CHARACTER,t);}_startCharacterReference(){this.returnState=this.state,this.state=E.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?S.DecodingMode.Attribute:S.DecodingMode.Legacy);}_isCharacterReferenceInAttribute(){return this.returnState===E.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===E.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===E.ATTRIBUTE_VALUE_UNQUOTED;}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t);}_callState(t){switch(this.state){case E.DATA:this._stateData(t);break;case E.RCDATA:this._stateRcdata(t);break;case E.RAWTEXT:this._stateRawtext(t);break;case E.SCRIPT_DATA:this._stateScriptData(t);break;case E.PLAINTEXT:this._statePlaintext(t);break;case E.TAG_OPEN:this._stateTagOpen(t);break;case E.END_TAG_OPEN:this._stateEndTagOpen(t);break;case E.TAG_NAME:this._stateTagName(t);break;case E.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(t);break;case E.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(t);break;case E.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(t);break;case E.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(t);break;case E.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(t);break;case E.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(t);break;case E.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(t);break;case E.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(t);break;case E.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(t);break;case E.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(t);break;case E.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(t);break;case E.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(t);break;case E.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(t);break;case E.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(t);break;case E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(t);break;case E.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(t);break;case E.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(t);break;case E.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(t);break;case E.ATTRIBUTE_NAME:this._stateAttributeName(t);break;case E.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(t);break;case E.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(t);break;case E.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(t);break;case E.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(t);break;case E.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(t);break;case E.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(t);break;case E.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(t);break;case E.BOGUS_COMMENT:this._stateBogusComment(t);break;case E.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(t);break;case E.COMMENT_START:this._stateCommentStart(t);break;case E.COMMENT_START_DASH:this._stateCommentStartDash(t);break;case E.COMMENT:this._stateComment(t);break;case E.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(t);break;case E.COMMENT_END_DASH:this._stateCommentEndDash(t);break;case E.COMMENT_END:this._stateCommentEnd(t);break;case E.COMMENT_END_BANG:this._stateCommentEndBang(t);break;case E.DOCTYPE:this._stateDoctype(t);break;case E.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(t);break;case E.DOCTYPE_NAME:this._stateDoctypeName(t);break;case E.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(t);break;case E.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(t);break;case E.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(t);break;case E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(t);break;case E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(t);break;case E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(t);break;case E.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break;case E.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(t);break;case E.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(t);break;case E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(t);break;case E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(t);break;case E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(t);break;case E.BOGUS_DOCTYPE:this._stateBogusDoctype(t);break;case E.CDATA_SECTION:this._stateCdataSection(t);break;case E.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(t);break;case E.CDATA_SECTION_END:this._stateCdataSectionEnd(t);break;case E.CHARACTER_REFERENCE:this._stateCharacterReference();break;case E.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(t);break;default:throw Error("Unknown state");}}_stateData(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.TAG_OPEN;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitCodePoint(t);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateRcdata(t){switch(t){case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.RCDATA_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateRawtext(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.RAWTEXT_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptData(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_statePlaintext(t){switch(t){case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateTagOpen(t){if(c(t))this._createStartTagToken(),this.state=E.TAG_NAME,this._stateTagName(t);else switch(t){case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.MARKUP_DECLARATION_OPEN;break;case i.CODE_POINTS.SOLIDUS:this.state=E.END_TAG_OPEN;break;case i.CODE_POINTS.QUESTION_MARK:this._err(C.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(C.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=E.DATA,this._stateData(t);}}_stateEndTagOpen(t){if(c(t))this._createEndTagToken(),this.state=E.TAG_NAME,this._stateTagName(t);else switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingEndTagName),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(C.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t);}}_stateTagName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.SOLIDUS:this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.tagName+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:e.tagName+=String.fromCodePoint(h(t)?t+32:t);}}_stateRcdataLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=E.RCDATA,this._stateRcdata(t));}_stateRcdataEndTagOpen(t){c(t)?(this.state=E.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=E.RCDATA,this._stateRcdata(t));}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=E.BEFORE_ATTRIBUTE_NAME,!1;case i.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=E.SELF_CLOSING_START_TAG,!1;case i.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=E.DATA,!1;default:return!this._ensureHibernation();}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.RCDATA,this._stateRcdata(t));}_stateRawtextLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateRawtextEndTagOpen(t){c(t)?(this.state=E.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateScriptDataLessThanSign(t){switch(t){case i.CODE_POINTS.SOLIDUS:this.state=E.SCRIPT_DATA_END_TAG_OPEN;break;case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=E.SCRIPT_DATA,this._stateScriptData(t);}}_stateScriptDataEndTagOpen(t){c(t)?(this.state=E.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscapeStart(t){t===i.CODE_POINTS.HYPHEN_MINUS?(this.state=E.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscapeStartDash(t){t===i.CODE_POINTS.HYPHEN_MINUS?(this.state=E.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscaped(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptDataEscapedDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataEscapedDashDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.SCRIPT_DATA,this._emitChars(">");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataEscapedLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:c(t)?(this._emitChars("<"),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataEscapedEndTagOpen(t){c(t)?(this.state=E.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(i.SEQUENCES.SCRIPT,!1)&&I(this.preprocessor.peek(i.SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let t=0;t<i.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED;}else this._ensureHibernation()||(this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataDoubleEscaped(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.SCRIPT_DATA,this._emitChars(">");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t));}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(i.SEQUENCES.SCRIPT,!1)&&I(this.preprocessor.peek(i.SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let t=0;t<i.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=E.SCRIPT_DATA_ESCAPED;}else this._ensureHibernation()||(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t));}_stateBeforeAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.SOLIDUS:case i.CODE_POINTS.GREATER_THAN_SIGN:case i.CODE_POINTS.EOF:this.state=E.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case i.CODE_POINTS.EQUALS_SIGN:this._err(C.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=E.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=E.ATTRIBUTE_NAME,this._stateAttributeName(t);}}_stateAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:case i.CODE_POINTS.SOLIDUS:case i.CODE_POINTS.GREATER_THAN_SIGN:case i.CODE_POINTS.EOF:this._leaveAttrName(),this.state=E.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case i.CODE_POINTS.EQUALS_SIGN:this._leaveAttrName(),this.state=E.BEFORE_ATTRIBUTE_VALUE;break;case i.CODE_POINTS.QUOTATION_MARK:case i.CODE_POINTS.APOSTROPHE:case i.CODE_POINTS.LESS_THAN_SIGN:this._err(C.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.name+=i.REPLACEMENT_CHARACTER;break;default:this.currentAttr.name+=String.fromCodePoint(h(t)?t+32:t);}}_stateAfterAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.SOLIDUS:this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.EQUALS_SIGN:this.state=E.BEFORE_ATTRIBUTE_VALUE;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=E.ATTRIBUTE_NAME,this._stateAttributeName(t);}}_stateBeforeAttributeValue(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:this.state=E.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this.state=E.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingAttributeValue),this.state=E.DATA,this.emitCurrentTagToken();break;default:this.state=E.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t);}}_stateAttributeValueDoubleQuoted(t){switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAttributeValueSingleQuoted(t){switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAttributeValueUnquoted(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.QUOTATION_MARK:case i.CODE_POINTS.APOSTROPHE:case i.CODE_POINTS.LESS_THAN_SIGN:case i.CODE_POINTS.EQUALS_SIGN:case i.CODE_POINTS.GRAVE_ACCENT:this._err(C.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAfterAttributeValueQuoted(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.SOLIDUS:this._leaveAttrValue(),this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._err(C.ERR.missingWhitespaceBetweenAttributes),this.state=E.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t);}}_stateSelfClosingStartTag(t){switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._err(C.ERR.unexpectedSolidusInTag),this.state=E.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t);}}_stateBogusComment(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this.emitCurrentComment(e),this._emitEOFToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.data+=i.REPLACEMENT_CHARACTER;break;default:e.data+=String.fromCodePoint(t);}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(i.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(i.SEQUENCES.DASH_DASH.length+1),this.state=E.COMMENT_START):this._consumeSequenceIfMatch(i.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(i.SEQUENCES.DOCTYPE.length+1),this.state=E.DOCTYPE):this._consumeSequenceIfMatch(i.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=E.CDATA_SECTION:(this._err(C.ERR.cdataInHtmlContent),this._createCommentToken(i.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=E.BOGUS_COMMENT):this._ensureHibernation()||(this._err(C.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t));}_stateCommentStart(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_START_DASH;break;case i.CODE_POINTS.GREATER_THAN_SIGN:{this._err(C.ERR.abruptClosingOfEmptyComment),this.state=E.DATA;let t=this.currentToken;this.emitCurrentComment(t);break;}default:this.state=E.COMMENT,this._stateComment(t);}}_stateCommentStartDash(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptClosingOfEmptyComment),this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=E.COMMENT,this._stateComment(t);}}_stateComment(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END_DASH;break;case i.CODE_POINTS.LESS_THAN_SIGN:e.data+="<",this.state=E.COMMENT_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.data+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+=String.fromCodePoint(t);}}_stateCommentLessThanSign(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.EXCLAMATION_MARK:e.data+="!",this.state=E.COMMENT_LESS_THAN_SIGN_BANG;break;case i.CODE_POINTS.LESS_THAN_SIGN:e.data+="<";break;default:this.state=E.COMMENT,this._stateComment(t);}}_stateCommentLessThanSignBang(t){t===i.CODE_POINTS.HYPHEN_MINUS?this.state=E.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=E.COMMENT,this._stateComment(t));}_stateCommentLessThanSignBangDash(t){t===i.CODE_POINTS.HYPHEN_MINUS?this.state=E.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=E.COMMENT_END_DASH,this._stateCommentEndDash(t));}_stateCommentLessThanSignBangDashDash(t){t!==i.CODE_POINTS.GREATER_THAN_SIGN&&t!==i.CODE_POINTS.EOF&&this._err(C.ERR.nestedComment),this.state=E.COMMENT_END,this._stateCommentEnd(t);}_stateCommentEndDash(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=E.COMMENT,this._stateComment(t);}}_stateCommentEnd(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.COMMENT_END_BANG;break;case i.CODE_POINTS.HYPHEN_MINUS:e.data+="-";break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--",this.state=E.COMMENT,this._stateComment(t);}}_stateCommentEndBang(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:e.data+="--!",this.state=E.COMMENT_END_DASH;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.incorrectlyClosedComment),this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--!",this.state=E.COMMENT,this._stateComment(t);}}_stateDoctype(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break;case i.CODE_POINTS.EOF:{this._err(C.ERR.eofInDoctype),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;}default:this._err(C.ERR.missingWhitespaceBeforeDoctypeName),this.state=E.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);}}_stateBeforeDoctypeName(t){if(h(t))this._createDoctypeToken(String.fromCharCode(t+32)),this.state=E.DOCTYPE_NAME;else switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._createDoctypeToken(i.REPLACEMENT_CHARACTER),this.state=E.DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:{this._err(C.ERR.missingDoctypeName),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=E.DATA;break;}case i.CODE_POINTS.EOF:{this._err(C.ERR.eofInDoctype),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=E.DOCTYPE_NAME;}}_stateDoctypeName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.AFTER_DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.name+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.name+=String.fromCodePoint(h(t)?t+32:t);}}_stateAfterDoctypeName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(i.SEQUENCES.PUBLIC,!1)?this.state=E.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(i.SEQUENCES.SYSTEM,!1)?this.state=E.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(C.ERR.invalidCharacterSequenceAfterDoctypeName),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t));}}_stateAfterDoctypePublicKeyword(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBeforeDoctypePublicIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateDoctypePublicIdentifierDoubleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.publicId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t);}}_stateDoctypePublicIdentifierSingleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.publicId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t);}}_stateAfterDoctypePublicIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.QUOTATION_MARK:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateAfterDoctypeSystemKeyword(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBeforeDoctypeSystemIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateDoctypeSystemIdentifierDoubleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.systemId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t);}}_stateDoctypeSystemIdentifierSingleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.systemId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t);}}_stateAfterDoctypeSystemIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBogusDoctype(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter);break;case i.CODE_POINTS.EOF:this.emitCurrentDoctype(e),this._emitEOFToken();}}_stateCdataSection(t){switch(t){case i.CODE_POINTS.RIGHT_SQUARE_BRACKET:this.state=E.CDATA_SECTION_BRACKET;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateCdataSectionBracket(t){t===i.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=E.CDATA_SECTION_END:(this._emitChars("]"),this.state=E.CDATA_SECTION,this._stateCdataSection(t));}_stateCdataSectionEnd(t){switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA;break;case i.CODE_POINTS.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=E.CDATA_SECTION,this._stateCdataSection(t);}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0){if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return;}}0===t?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(i.CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&N(this.preprocessor.peek(1))?E.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState;}_stateAmbiguousAmpersand(t){N(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===i.CODE_POINTS.SEMICOLON&&this._err(C.ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t));}}},"559e374d":function  (t,e,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var d in e)Object.defineProperty(t,d,{enumerable:!0,get:e[d]});}(e,{getDocumentMode:function(){return u;},isConforming:function(){return f;}});let i=d("f0b4b8b2"),m="html",r=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],s=[...r,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],n=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),o=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],h=[...o,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function c(t,e){return e.some(e=>t.startsWith(e));}function f(t){return t.name===m&&null===t.publicId&&(null===t.systemId||"about:legacy-compat"===t.systemId);}function u(t){if(t.name!==m)return i.DOCUMENT_MODE.QUIRKS;let{systemId:e}=t;if(e&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===e.toLowerCase())return i.DOCUMENT_MODE.QUIRKS;let{publicId:d}=t;if(null!==d){if(d=d.toLowerCase(),n.has(d))return i.DOCUMENT_MODE.QUIRKS;let t=null===e?s:r;if(c(d,t))return i.DOCUMENT_MODE.QUIRKS;if(c(d,t=null===e?o:h))return i.DOCUMENT_MODE.LIMITED_QUIRKS;}return i.DOCUMENT_MODE.NO_QUIRKS;}},"82d47fba":function  (e,t,r,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serializeOuter",{enumerable:!0,get:function(){return o;}});let n=r("f0b4b8b2"),N=r("50f74a4e"),T=r("39171beb"),E=new Set([n.TAG_NAMES.AREA,n.TAG_NAMES.BASE,n.TAG_NAMES.BASEFONT,n.TAG_NAMES.BGSOUND,n.TAG_NAMES.BR,n.TAG_NAMES.COL,n.TAG_NAMES.EMBED,n.TAG_NAMES.FRAME,n.TAG_NAMES.HR,n.TAG_NAMES.IMG,n.TAG_NAMES.INPUT,n.TAG_NAMES.KEYGEN,n.TAG_NAMES.LINK,n.TAG_NAMES.META,n.TAG_NAMES.PARAM,n.TAG_NAMES.SOURCE,n.TAG_NAMES.TRACK,n.TAG_NAMES.WBR]),d={treeAdapter:T.defaultTreeAdapter,scriptingEnabled:!0};function o(e,t){return function e(t,r){return r.treeAdapter.isElementNode(t)?function(t,r){let A=r.treeAdapter.getTagName(t);return`<${A}${function(e,{treeAdapter:t}){let r="";for(let A of t.getAttrList(e)){if(r+=" ",A.namespace)switch(A.namespace){case n.NS.XML:r+=`xml:${A.name}`;break;case n.NS.XMLNS:"xmlns"!==A.name&&(r+="xmlns:"),r+=A.name;break;case n.NS.XLINK:r+=`xlink:${A.name}`;break;default:r+=`${A.prefix}:${A.name}`;}else r+=A.name;r+=`="${(0,N.escapeAttribute)(A.value)}"`;}return r;}(t,r)}>${r.treeAdapter.isElementNode(t)&&r.treeAdapter.getNamespaceURI(t)===n.NS.HTML&&E.has(r.treeAdapter.getTagName(t))?"":`${function(t,r){let A="",N=r.treeAdapter.isElementNode(t)&&r.treeAdapter.getTagName(t)===n.TAG_NAMES.TEMPLATE&&r.treeAdapter.getNamespaceURI(t)===n.NS.HTML?r.treeAdapter.getTemplateContent(t):t,T=r.treeAdapter.getChildNodes(N);if(T)for(let t of T)A+=e(t,r);return A;}(t,r)}</${A}>`}`;}(t,r):r.treeAdapter.isTextNode(t)?function(e,t){let{treeAdapter:r}=t,A=r.getTextNodeContent(e),T=r.getParentNode(e),E=T&&r.isElementNode(T)&&r.getTagName(T);return E&&r.getNamespaceURI(T)===n.NS.HTML&&(0,n.hasUnescapedText)(E,t.scriptingEnabled)?A:(0,N.escapeText)(A);}(t,r):r.treeAdapter.isCommentNode(t)?function(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`;}(t,r):r.treeAdapter.isDocumentTypeNode(t)?function(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`;}(t,r):"";}(e,{...d,...t});}},"8ddbe450":function  (e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]});}(t,{SVG_TAG_NAMES_ADJUSTMENT_MAP:function(){return o;},adjustTokenMathMLAttrs:function(){return I;},adjustTokenSVGAttrs:function(){return D;},adjustTokenSVGTagName:function(){return p;},adjustTokenXMLAttrs:function(){return m;},causesExit:function(){return f;},isIntegrationPoint:function(){return G;}});let i=n("f0b4b8b2"),T={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},s=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),l=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:i.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:i.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:i.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:i.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:i.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:i.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:i.NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:i.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:i.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:i.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:i.NS.XMLNS}]]),o=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),A=new Set([i.TAG_ID.B,i.TAG_ID.BIG,i.TAG_ID.BLOCKQUOTE,i.TAG_ID.BODY,i.TAG_ID.BR,i.TAG_ID.CENTER,i.TAG_ID.CODE,i.TAG_ID.DD,i.TAG_ID.DIV,i.TAG_ID.DL,i.TAG_ID.DT,i.TAG_ID.EM,i.TAG_ID.EMBED,i.TAG_ID.H1,i.TAG_ID.H2,i.TAG_ID.H3,i.TAG_ID.H4,i.TAG_ID.H5,i.TAG_ID.H6,i.TAG_ID.HEAD,i.TAG_ID.HR,i.TAG_ID.I,i.TAG_ID.IMG,i.TAG_ID.LI,i.TAG_ID.LISTING,i.TAG_ID.MENU,i.TAG_ID.META,i.TAG_ID.NOBR,i.TAG_ID.OL,i.TAG_ID.P,i.TAG_ID.PRE,i.TAG_ID.RUBY,i.TAG_ID.S,i.TAG_ID.SMALL,i.TAG_ID.SPAN,i.TAG_ID.STRONG,i.TAG_ID.STRIKE,i.TAG_ID.SUB,i.TAG_ID.SUP,i.TAG_ID.TABLE,i.TAG_ID.TT,i.TAG_ID.U,i.TAG_ID.UL,i.TAG_ID.VAR]);function f(e){let t=e.tagID;return t===i.TAG_ID.FONT&&e.attrs.some(({name:e})=>e===i.ATTRS.COLOR||e===i.ATTRS.SIZE||e===i.ATTRS.FACE)||A.has(t);}function I(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break;}}function D(e){for(let t=0;t<e.attrs.length;t++){let n=s.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n);}}function m(e){for(let t=0;t<e.attrs.length;t++){let n=l.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace);}}function p(e){let t=o.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=(0,i.getTagID)(e.tagName));}function G(e,t,n,r){return(!r||r===i.NS.HTML)&&function(e,t,n){if(t===i.NS.MATHML&&e===i.TAG_ID.ANNOTATION_XML){for(let e=0;e<n.length;e++)if(n[e].name===i.ATTRS.ENCODING){let t=n[e].value.toLowerCase();return t===T.TEXT_HTML||t===T.APPLICATION_XML;}}return t===i.NS.SVG&&(e===i.TAG_ID.FOREIGN_OBJECT||e===i.TAG_ID.DESC||e===i.TAG_ID.TITLE);}(e,t,n)||(!r||r===i.NS.MATHML)&&t===i.NS.MATHML&&(e===i.TAG_ID.MI||e===i.TAG_ID.MO||e===i.TAG_ID.MN||e===i.TAG_ID.MS||e===i.TAG_ID.MTEXT);}},"b7941f75":function  (e,t,T,n){"use strict";var A,r;function E(e,t){for(let T=e.attrs.length-1;T>=0;T--)if(e.attrs[T].name===t)return e.attrs[T].value;return null;}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var T in t)Object.defineProperty(e,T,{enumerable:!0,get:t[T]});}(t,{TokenType:function(){return A;},getTokenAttr:function(){return E;}}),(r=A||(A={}))[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION";},"beb501d5":function  (t,e,s,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"OpenElementStack",{enumerable:!0,get:function(){return u;}});let i=s("f0b4b8b2"),r=new Set([i.TAG_ID.DD,i.TAG_ID.DT,i.TAG_ID.LI,i.TAG_ID.OPTGROUP,i.TAG_ID.OPTION,i.TAG_ID.P,i.TAG_ID.RB,i.TAG_ID.RP,i.TAG_ID.RT,i.TAG_ID.RTC]),h=new Set([...r,i.TAG_ID.CAPTION,i.TAG_ID.COLGROUP,i.TAG_ID.TBODY,i.TAG_ID.TD,i.TAG_ID.TFOOT,i.TAG_ID.TH,i.TAG_ID.THEAD,i.TAG_ID.TR]),n=new Set([i.TAG_ID.APPLET,i.TAG_ID.CAPTION,i.TAG_ID.HTML,i.TAG_ID.MARQUEE,i.TAG_ID.OBJECT,i.TAG_ID.TABLE,i.TAG_ID.TD,i.TAG_ID.TEMPLATE,i.TAG_ID.TH]),o=new Set([...n,i.TAG_ID.OL,i.TAG_ID.UL]),I=new Set([...n,i.TAG_ID.BUTTON]),p=new Set([i.TAG_ID.ANNOTATION_XML,i.TAG_ID.MI,i.TAG_ID.MN,i.TAG_ID.MO,i.TAG_ID.MS,i.TAG_ID.MTEXT]),c=new Set([i.TAG_ID.DESC,i.TAG_ID.FOREIGN_OBJECT,i.TAG_ID.TITLE]),D=new Set([i.TAG_ID.TR,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),l=new Set([i.TAG_ID.TBODY,i.TAG_ID.TFOOT,i.TAG_ID.THEAD,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),A=new Set([i.TAG_ID.TABLE,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),_=new Set([i.TAG_ID.TD,i.TAG_ID.TH]);class u{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current;}constructor(t,e,s){this.treeAdapter=e,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=i.TAG_ID.UNKNOWN,this.current=t;}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop);}_isInTemplate(){return this.currentTagId===i.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===i.NS.HTML;}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop];}push(t,e){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=e,this.currentTagId=e,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,e,!0);}pop(){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0);}replace(t,e){let s=this._indexOf(t);this.items[s]=e,s===this.stackTop&&(this.current=e);}insertAfter(t,e,s){let T=this._indexOf(t)+1;this.items.splice(T,0,e),this.tagIDs.splice(T,0,s),this.stackTop++,T===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,T===this.stackTop);}popUntilTagNamePopped(t){let e=this.stackTop+1;do e=this.tagIDs.lastIndexOf(t,e-1);while(e>0&&this.treeAdapter.getNamespaceURI(this.items[e])!==i.NS.HTML)this.shortenToLength(e<0?0:e);}shortenToLength(t){for(;this.stackTop>=t;){let e=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,this.stackTop<t);}}popUntilElementPopped(t){let e=this._indexOf(t);this.shortenToLength(e<0?0:e);}popUntilPopped(t,e){let s=this._indexOfTagNames(t,e);this.shortenToLength(s<0?0:s);}popUntilNumberedHeaderPopped(){this.popUntilPopped(i.NUMBERED_HEADERS,i.NS.HTML);}popUntilTableCellPopped(){this.popUntilPopped(_,i.NS.HTML);}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1);}_indexOfTagNames(t,e){for(let s=this.stackTop;s>=0;s--)if(t.has(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===e)return s;return -1;}clearBackTo(t,e){let s=this._indexOfTagNames(t,e);this.shortenToLength(s+1);}clearBackToTableContext(){this.clearBackTo(A,i.NS.HTML);}clearBackToTableBodyContext(){this.clearBackTo(l,i.NS.HTML);}clearBackToTableRowContext(){this.clearBackTo(D,i.NS.HTML);}remove(t){let e=this._indexOf(t);e>=0&&(e===this.stackTop?this.pop():(this.items.splice(e,1),this.tagIDs.splice(e,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)));}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===i.TAG_ID.BODY?this.items[1]:null;}contains(t){return this._indexOf(t)>-1;}getCommonAncestor(t){let e=this._indexOf(t)-1;return e>=0?this.items[e]:null;}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===i.TAG_ID.HTML;}hasInDynamicScope(t,e){for(let s=this.stackTop;s>=0;s--){let T=this.tagIDs[s];switch(this.treeAdapter.getNamespaceURI(this.items[s])){case i.NS.HTML:if(T===t)return!0;if(e.has(T))return!1;break;case i.NS.SVG:if(c.has(T))return!1;break;case i.NS.MATHML:if(p.has(T))return!1;}}return!0;}hasInScope(t){return this.hasInDynamicScope(t,n);}hasInListItemScope(t){return this.hasInDynamicScope(t,o);}hasInButtonScope(t){return this.hasInDynamicScope(t,I);}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){let e=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case i.NS.HTML:if(i.NUMBERED_HEADERS.has(e))return!0;if(n.has(e))return!1;break;case i.NS.SVG:if(c.has(e))return!1;break;case i.NS.MATHML:if(p.has(e))return!1;}}return!0;}hasInTableScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===i.NS.HTML)switch(this.tagIDs[e]){case t:return!0;case i.TAG_ID.TABLE:case i.TAG_ID.HTML:return!1;}return!0;}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===i.NS.HTML)switch(this.tagIDs[t]){case i.TAG_ID.TBODY:case i.TAG_ID.THEAD:case i.TAG_ID.TFOOT:return!0;case i.TAG_ID.TABLE:case i.TAG_ID.HTML:return!1;}return!0;}hasInSelectScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===i.NS.HTML)switch(this.tagIDs[e]){case t:return!0;case i.TAG_ID.OPTION:case i.TAG_ID.OPTGROUP:break;default:return!1;}return!0;}generateImpliedEndTags(){for(;r.has(this.currentTagId);)this.pop();}generateImpliedEndTagsThoroughly(){for(;h.has(this.currentTagId);)this.pop();}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&h.has(this.currentTagId);)this.pop();}}},"d342ab36":function  (A,E,_,n){"use strict";var T,t;Object.defineProperty(E,"__esModule",{value:!0}),function(A,E){for(var _ in E)Object.defineProperty(A,_,{enumerable:!0,get:E[_]});}(E,{CODE_POINTS:function(){return T;},REPLACEMENT_CHARACTER:function(){return S;},SEQUENCES:function(){return r;},getSurrogatePairCodePoint:function(){return L;},isControlCodePoint:function(){return R;},isSurrogate:function(){return N;},isSurrogatePair:function(){return e;},isUndefinedCodePoint:function(){return u;}});let I=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),S="";(t=T||(T={}))[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z";let r={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function N(A){return A>=55296&&A<=57343;}function e(A){return A>=56320&&A<=57343;}function L(A,E){return(A-55296)*1024+9216+E;}function R(A){return 32!==A&&10!==A&&13!==A&&9!==A&&12!==A&&A>=1&&A<=31||A>=127&&A<=159;}function u(A){return A>=64976&&A<=65007||I.has(A);}},"f0b4b8b2":function  (E,T,A,R){"use strict";var O,I,M,N,S,L,D,P,B,t;Object.defineProperty(T,"__esModule",{value:!0}),function(E,T){for(var A in T)Object.defineProperty(E,A,{enumerable:!0,get:T[A]});}(T,{ATTRS:function(){return I;},DOCUMENT_MODE:function(){return M;},NS:function(){return O;},NUMBERED_HEADERS:function(){return G;},SPECIAL_ELEMENTS:function(){return H;},TAG_ID:function(){return S;},TAG_NAMES:function(){return N;},getTagID:function(){return e;},hasUnescapedText:function(){return r;}}),(L=O||(O={})).HTML="http://www.w3.org/1999/xhtml",L.MATHML="http://www.w3.org/1998/Math/MathML",L.SVG="http://www.w3.org/2000/svg",L.XLINK="http://www.w3.org/1999/xlink",L.XML="http://www.w3.org/XML/1998/namespace",L.XMLNS="http://www.w3.org/2000/xmlns/",(D=I||(I={})).TYPE="type",D.ACTION="action",D.ENCODING="encoding",D.PROMPT="prompt",D.NAME="name",D.COLOR="color",D.FACE="face",D.SIZE="size",(P=M||(M={})).NO_QUIRKS="no-quirks",P.QUIRKS="quirks",P.LIMITED_QUIRKS="limited-quirks",(B=N||(N={})).A="a",B.ADDRESS="address",B.ANNOTATION_XML="annotation-xml",B.APPLET="applet",B.AREA="area",B.ARTICLE="article",B.ASIDE="aside",B.B="b",B.BASE="base",B.BASEFONT="basefont",B.BGSOUND="bgsound",B.BIG="big",B.BLOCKQUOTE="blockquote",B.BODY="body",B.BR="br",B.BUTTON="button",B.CAPTION="caption",B.CENTER="center",B.CODE="code",B.COL="col",B.COLGROUP="colgroup",B.DD="dd",B.DESC="desc",B.DETAILS="details",B.DIALOG="dialog",B.DIR="dir",B.DIV="div",B.DL="dl",B.DT="dt",B.EM="em",B.EMBED="embed",B.FIELDSET="fieldset",B.FIGCAPTION="figcaption",B.FIGURE="figure",B.FONT="font",B.FOOTER="footer",B.FOREIGN_OBJECT="foreignObject",B.FORM="form",B.FRAME="frame",B.FRAMESET="frameset",B.H1="h1",B.H2="h2",B.H3="h3",B.H4="h4",B.H5="h5",B.H6="h6",B.HEAD="head",B.HEADER="header",B.HGROUP="hgroup",B.HR="hr",B.HTML="html",B.I="i",B.IMG="img",B.IMAGE="image",B.INPUT="input",B.IFRAME="iframe",B.KEYGEN="keygen",B.LABEL="label",B.LI="li",B.LINK="link",B.LISTING="listing",B.MAIN="main",B.MALIGNMARK="malignmark",B.MARQUEE="marquee",B.MATH="math",B.MENU="menu",B.META="meta",B.MGLYPH="mglyph",B.MI="mi",B.MO="mo",B.MN="mn",B.MS="ms",B.MTEXT="mtext",B.NAV="nav",B.NOBR="nobr",B.NOFRAMES="noframes",B.NOEMBED="noembed",B.NOSCRIPT="noscript",B.OBJECT="object",B.OL="ol",B.OPTGROUP="optgroup",B.OPTION="option",B.P="p",B.PARAM="param",B.PLAINTEXT="plaintext",B.PRE="pre",B.RB="rb",B.RP="rp",B.RT="rt",B.RTC="rtc",B.RUBY="ruby",B.S="s",B.SCRIPT="script",B.SEARCH="search",B.SECTION="section",B.SELECT="select",B.SOURCE="source",B.SMALL="small",B.SPAN="span",B.STRIKE="strike",B.STRONG="strong",B.STYLE="style",B.SUB="sub",B.SUMMARY="summary",B.SUP="sup",B.TABLE="table",B.TBODY="tbody",B.TEMPLATE="template",B.TEXTAREA="textarea",B.TFOOT="tfoot",B.TD="td",B.TH="th",B.THEAD="thead",B.TITLE="title",B.TR="tr",B.TRACK="track",B.TT="tt",B.U="u",B.UL="ul",B.SVG="svg",B.VAR="var",B.WBR="wbr",B.XMP="xmp",(t=S||(S={}))[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP";let C=new Map([[N.A,S.A],[N.ADDRESS,S.ADDRESS],[N.ANNOTATION_XML,S.ANNOTATION_XML],[N.APPLET,S.APPLET],[N.AREA,S.AREA],[N.ARTICLE,S.ARTICLE],[N.ASIDE,S.ASIDE],[N.B,S.B],[N.BASE,S.BASE],[N.BASEFONT,S.BASEFONT],[N.BGSOUND,S.BGSOUND],[N.BIG,S.BIG],[N.BLOCKQUOTE,S.BLOCKQUOTE],[N.BODY,S.BODY],[N.BR,S.BR],[N.BUTTON,S.BUTTON],[N.CAPTION,S.CAPTION],[N.CENTER,S.CENTER],[N.CODE,S.CODE],[N.COL,S.COL],[N.COLGROUP,S.COLGROUP],[N.DD,S.DD],[N.DESC,S.DESC],[N.DETAILS,S.DETAILS],[N.DIALOG,S.DIALOG],[N.DIR,S.DIR],[N.DIV,S.DIV],[N.DL,S.DL],[N.DT,S.DT],[N.EM,S.EM],[N.EMBED,S.EMBED],[N.FIELDSET,S.FIELDSET],[N.FIGCAPTION,S.FIGCAPTION],[N.FIGURE,S.FIGURE],[N.FONT,S.FONT],[N.FOOTER,S.FOOTER],[N.FOREIGN_OBJECT,S.FOREIGN_OBJECT],[N.FORM,S.FORM],[N.FRAME,S.FRAME],[N.FRAMESET,S.FRAMESET],[N.H1,S.H1],[N.H2,S.H2],[N.H3,S.H3],[N.H4,S.H4],[N.H5,S.H5],[N.H6,S.H6],[N.HEAD,S.HEAD],[N.HEADER,S.HEADER],[N.HGROUP,S.HGROUP],[N.HR,S.HR],[N.HTML,S.HTML],[N.I,S.I],[N.IMG,S.IMG],[N.IMAGE,S.IMAGE],[N.INPUT,S.INPUT],[N.IFRAME,S.IFRAME],[N.KEYGEN,S.KEYGEN],[N.LABEL,S.LABEL],[N.LI,S.LI],[N.LINK,S.LINK],[N.LISTING,S.LISTING],[N.MAIN,S.MAIN],[N.MALIGNMARK,S.MALIGNMARK],[N.MARQUEE,S.MARQUEE],[N.MATH,S.MATH],[N.MENU,S.MENU],[N.META,S.META],[N.MGLYPH,S.MGLYPH],[N.MI,S.MI],[N.MO,S.MO],[N.MN,S.MN],[N.MS,S.MS],[N.MTEXT,S.MTEXT],[N.NAV,S.NAV],[N.NOBR,S.NOBR],[N.NOFRAMES,S.NOFRAMES],[N.NOEMBED,S.NOEMBED],[N.NOSCRIPT,S.NOSCRIPT],[N.OBJECT,S.OBJECT],[N.OL,S.OL],[N.OPTGROUP,S.OPTGROUP],[N.OPTION,S.OPTION],[N.P,S.P],[N.PARAM,S.PARAM],[N.PLAINTEXT,S.PLAINTEXT],[N.PRE,S.PRE],[N.RB,S.RB],[N.RP,S.RP],[N.RT,S.RT],[N.RTC,S.RTC],[N.RUBY,S.RUBY],[N.S,S.S],[N.SCRIPT,S.SCRIPT],[N.SEARCH,S.SEARCH],[N.SECTION,S.SECTION],[N.SELECT,S.SELECT],[N.SOURCE,S.SOURCE],[N.SMALL,S.SMALL],[N.SPAN,S.SPAN],[N.STRIKE,S.STRIKE],[N.STRONG,S.STRONG],[N.STYLE,S.STYLE],[N.SUB,S.SUB],[N.SUMMARY,S.SUMMARY],[N.SUP,S.SUP],[N.TABLE,S.TABLE],[N.TBODY,S.TBODY],[N.TEMPLATE,S.TEMPLATE],[N.TEXTAREA,S.TEXTAREA],[N.TFOOT,S.TFOOT],[N.TD,S.TD],[N.TH,S.TH],[N.THEAD,S.THEAD],[N.TITLE,S.TITLE],[N.TR,S.TR],[N.TRACK,S.TRACK],[N.TT,S.TT],[N.U,S.U],[N.UL,S.UL],[N.SVG,S.SVG],[N.VAR,S.VAR],[N.WBR,S.WBR],[N.XMP,S.XMP]]);function e(E){var T;return null!==(T=C.get(E))&&void 0!==T?T:S.UNKNOWN;}let U=S,H={[O.HTML]:new Set([U.ADDRESS,U.APPLET,U.AREA,U.ARTICLE,U.ASIDE,U.BASE,U.BASEFONT,U.BGSOUND,U.BLOCKQUOTE,U.BODY,U.BR,U.BUTTON,U.CAPTION,U.CENTER,U.COL,U.COLGROUP,U.DD,U.DETAILS,U.DIR,U.DIV,U.DL,U.DT,U.EMBED,U.FIELDSET,U.FIGCAPTION,U.FIGURE,U.FOOTER,U.FORM,U.FRAME,U.FRAMESET,U.H1,U.H2,U.H3,U.H4,U.H5,U.H6,U.HEAD,U.HEADER,U.HGROUP,U.HR,U.HTML,U.IFRAME,U.IMG,U.INPUT,U.LI,U.LINK,U.LISTING,U.MAIN,U.MARQUEE,U.MENU,U.META,U.NAV,U.NOEMBED,U.NOFRAMES,U.NOSCRIPT,U.OBJECT,U.OL,U.P,U.PARAM,U.PLAINTEXT,U.PRE,U.SCRIPT,U.SECTION,U.SELECT,U.SOURCE,U.STYLE,U.SUMMARY,U.TABLE,U.TBODY,U.TD,U.TEMPLATE,U.TEXTAREA,U.TFOOT,U.TH,U.THEAD,U.TITLE,U.TR,U.TRACK,U.UL,U.WBR,U.XMP]),[O.MATHML]:new Set([U.MI,U.MO,U.MN,U.MS,U.MTEXT,U.ANNOTATION_XML]),[O.SVG]:new Set([U.TITLE,U.FOREIGN_OBJECT,U.DESC]),[O.XLINK]:new Set,[O.XML]:new Set,[O.XMLNS]:new Set},G=new Set([U.H1,U.H2,U.H3,U.H4,U.H5,U.H6]),n=new Set([N.STYLE,N.SCRIPT,N.XMP,N.IFRAME,N.NOEMBED,N.NOFRAMES,N.PLAINTEXT]);function r(E,T){return n.has(E)||T&&E===N.NOSCRIPT;}},"f4718d32":function  (t,s,i,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Preprocessor",{enumerable:!0,get:function(){return n;}});let h=i("d342ab36"),r=i("42d73029");class n{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1;}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos);}get offset(){return this.droppedBufferSize+this.pos;}getError(t,s){let{line:i,col:e,offset:h}=this,r=e+s,n=h+s;return{code:t,startLine:i,endLine:i,startCol:r,endCol:r,startOffset:n,endOffset:n};}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)));}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos;}_processSurrogate(t){if(this.pos!==this.html.length-1){let s=this.html.charCodeAt(this.pos+1);if((0,h.isSurrogatePair)(s))return this.pos++,this._addGap(),(0,h.getSurrogatePairCodePoint)(t,s);}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,h.CODE_POINTS.EOF;return this._err(r.ERR.surrogateInInputStream),t;}willDropParsedChunk(){return this.pos>this.bufferWaterline;}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0);}write(t,s){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=s;}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1;}startsWith(t,s){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(s)return this.html.startsWith(t,this.pos);for(let s=0;s<t.length;s++)if((32|this.html.charCodeAt(this.pos+s))!==t.charCodeAt(s))return!1;return!0;}peek(t){let s=this.pos+t;if(s>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,h.CODE_POINTS.EOF;let i=this.html.charCodeAt(s);return i===h.CODE_POINTS.CARRIAGE_RETURN?h.CODE_POINTS.LINE_FEED:i;}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,h.CODE_POINTS.EOF;let t=this.html.charCodeAt(this.pos);return t===h.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,h.CODE_POINTS.LINE_FEED):t===h.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,h.isSurrogate)(t)&&(t=this._processSurrogate(t)),null===this.handler.onParseError||t>31&&t<127||t===h.CODE_POINTS.LINE_FEED||t===h.CODE_POINTS.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t);}_checkForProblematicCharacters(t){(0,h.isControlCodePoint)(t)?this._err(r.ERR.controlCharacterInInputStream):(0,h.isUndefinedCodePoint)(t)&&this._err(r.ERR.noncharacterInInputStream);}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1;}}},"fd44cfd5":function  (e,r,t,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]});}(r,{html:function(){return o;},parse:function(){return s;},parseFragment:function(){return c;},serializeOuter:function(){return f.serializeOuter;}});let i=t("@swc/helpers/_/_interop_require_wildcard"),u=t("253158f3"),f=t("82d47fba");t("42d73029"),t("8ddbe450");let o=i._(t("f0b4b8b2"));function s(e,r){return u.Parser.parse(e,r);}function c(e,r,t){"string"==typeof e&&(t=r,r=e,e=null);let n=u.Parser.getFragmentParser(e,t);return n.tokenizer.write(r,!0),n.getFragment();}t("b7941f75"),t("507960b3");},});index_9954_js        	                node_modules/parse5/dist/serializer/index.jsnode_modules/parse5/dist/serializer/index.jsfunction  (e,t,r,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serializeOuter",{enumerable:!0,get:function(){return o;}});let n=r("f0b4b8b2"),N=r("50f74a4e"),T=r("39171beb"),E=new Set([n.TAG_NAMES.AREA,n.TAG_NAMES.BASE,n.TAG_NAMES.BASEFONT,n.TAG_NAMES.BGSOUND,n.TAG_NAMES.BR,n.TAG_NAMES.COL,n.TAG_NAMES.EMBED,n.TAG_NAMES.FRAME,n.TAG_NAMES.HR,n.TAG_NAMES.IMG,n.TAG_NAMES.INPUT,n.TAG_NAMES.KEYGEN,n.TAG_NAMES.LINK,n.TAG_NAMES.META,n.TAG_NAMES.PARAM,n.TAG_NAMES.SOURCE,n.TAG_NAMES.TRACK,n.TAG_NAMES.WBR]),d={treeAdapter:T.defaultTreeAdapter,scriptingEnabled:!0};function o(e,t){return function e(t,r){return r.treeAdapter.isElementNode(t)?function(t,r){let A=r.treeAdapter.getTagName(t);return`<${A}${function(e,{treeAdapter:t}){let r="";for(let A of t.getAttrList(e)){if(r+=" ",A.namespace)switch(A.namespace){case n.NS.XML:r+=`xml:${A.name}`;break;case n.NS.XMLNS:"xmlns"!==A.name&&(r+="xmlns:"),r+=A.name;break;case n.NS.XLINK:r+=`xlink:${A.name}`;break;default:r+=`${A.prefix}:${A.name}`;}else r+=A.name;r+=`="${(0,N.escapeAttribute)(A.value)}"`;}return r;}(t,r)}>${r.treeAdapter.isElementNode(t)&&r.treeAdapter.getNamespaceURI(t)===n.NS.HTML&&E.has(r.treeAdapter.getTagName(t))?"":`${function(t,r){let A="",N=r.treeAdapter.isElementNode(t)&&r.treeAdapter.getTagName(t)===n.TAG_NAMES.TEMPLATE&&r.treeAdapter.getNamespaceURI(t)===n.NS.HTML?r.treeAdapter.getTemplateContent(t):t,T=r.treeAdapter.getChildNodes(N);if(T)for(let t of T)A+=e(t,r);return A;}(t,r)}</${A}>`}`;}(t,r):r.treeAdapter.isTextNode(t)?function(e,t){let{treeAdapter:r}=t,A=r.getTextNodeContent(e),T=r.getParentNode(e),E=T&&r.isElementNode(T)&&r.getTagName(T);return E&&r.getNamespaceURI(T)===n.NS.HTML&&(0,n.hasUnescapedText)(E,t.scriptingEnabled)?A:(0,N.escapeText)(A);}(t,r):r.treeAdapter.isCommentNode(t)?function(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`;}(t,r):r.treeAdapter.isDocumentTypeNode(t)?function(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`;}(t,r):"";}(e,{...d,...t});}}   node_modules/parse5/dist/common/foreign-content.jsnode_modules/parse5/dist/common/foreign-content.jsfunction  (e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]});}(t,{SVG_TAG_NAMES_ADJUSTMENT_MAP:function(){return o;},adjustTokenMathMLAttrs:function(){return I;},adjustTokenSVGAttrs:function(){return D;},adjustTokenSVGTagName:function(){return p;},adjustTokenXMLAttrs:function(){return m;},causesExit:function(){return f;},isIntegrationPoint:function(){return G;}});let i=n("f0b4b8b2"),T={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},s=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),l=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:i.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:i.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:i.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:i.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:i.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:i.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:i.NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:i.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:i.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:i.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:i.NS.XMLNS}]]),o=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),A=new Set([i.TAG_ID.B,i.TAG_ID.BIG,i.TAG_ID.BLOCKQUOTE,i.TAG_ID.BODY,i.TAG_ID.BR,i.TAG_ID.CENTER,i.TAG_ID.CODE,i.TAG_ID.DD,i.TAG_ID.DIV,i.TAG_ID.DL,i.TAG_ID.DT,i.TAG_ID.EM,i.TAG_ID.EMBED,i.TAG_ID.H1,i.TAG_ID.H2,i.TAG_ID.H3,i.TAG_ID.H4,i.TAG_ID.H5,i.TAG_ID.H6,i.TAG_ID.HEAD,i.TAG_ID.HR,i.TAG_ID.I,i.TAG_ID.IMG,i.TAG_ID.LI,i.TAG_ID.LISTING,i.TAG_ID.MENU,i.TAG_ID.META,i.TAG_ID.NOBR,i.TAG_ID.OL,i.TAG_ID.P,i.TAG_ID.PRE,i.TAG_ID.RUBY,i.TAG_ID.S,i.TAG_ID.SMALL,i.TAG_ID.SPAN,i.TAG_ID.STRONG,i.TAG_ID.STRIKE,i.TAG_ID.SUB,i.TAG_ID.SUP,i.TAG_ID.TABLE,i.TAG_ID.TT,i.TAG_ID.U,i.TAG_ID.UL,i.TAG_ID.VAR]);function f(e){let t=e.tagID;return t===i.TAG_ID.FONT&&e.attrs.some(({name:e})=>e===i.ATTRS.COLOR||e===i.ATTRS.SIZE||e===i.ATTRS.FACE)||A.has(t);}function I(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break;}}function D(e){for(let t=0;t<e.attrs.length;t++){let n=s.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n);}}function m(e){for(let t=0;t<e.attrs.length;t++){let n=l.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace);}}function p(e){let t=o.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=(0,i.getTagID)(e.tagName));}function G(e,t,n,r){return(!r||r===i.NS.HTML)&&function(e,t,n){if(t===i.NS.MATHML&&e===i.TAG_ID.ANNOTATION_XML){for(let e=0;e<n.length;e++)if(n[e].name===i.ATTRS.ENCODING){let t=n[e].value.toLowerCase();return t===T.TEXT_HTML||t===T.APPLICATION_XML;}}return t===i.NS.SVG&&(e===i.TAG_ID.FOREIGN_OBJECT||e===i.TAG_ID.DESC||e===i.TAG_ID.TITLE);}(e,t,n)||(!r||r===i.NS.MATHML)&&t===i.NS.MATHML&&(e===i.TAG_ID.MI||e===i.TAG_ID.MO||e===i.TAG_ID.MN||e===i.TAG_ID.MS||e===i.TAG_ID.MTEXT);}}`  node_modules/parse5/dist/common/doctype.jsnode_modules/parse5/dist/common/doctype.jsfunction  (t,e,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var d in e)Object.defineProperty(t,d,{enumerable:!0,get:e[d]});}(e,{getDocumentMode:function(){return u;},isConforming:function(){return f;}});let i=d("f0b4b8b2"),m="html",r=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],s=[...r,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],n=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),o=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],h=[...o,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function c(t,e){return e.some(e=>t.startsWith(e));}function f(t){return t.name===m&&null===t.publicId&&(null===t.systemId||"about:legacy-compat"===t.systemId);}function u(t){if(t.name!==m)return i.DOCUMENT_MODE.QUIRKS;let{systemId:e}=t;if(e&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===e.toLowerCase())return i.DOCUMENT_MODE.QUIRKS;let{publicId:d}=t;if(null!==d){if(d=d.toLowerCase(),n.has(d))return i.DOCUMENT_MODE.QUIRKS;let t=null===e?s:r;if(c(d,t))return i.DOCUMENT_MODE.QUIRKS;if(c(d,t=null===e?o:h))return i.DOCUMENT_MODE.LIMITED_QUIRKS;}return i.DOCUMENT_MODE.NO_QUIRKS;}} C  node_modules/parse5/dist/common/error-codes.jsnode_modules/parse5/dist/common/error-codes.jsfunction  (e,t,n,i){"use strict";var r,c;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ERR",{enumerable:!0,get:function(){return r;}}),(c=r||(r={})).controlCharacterInInputStream="control-character-in-input-stream",c.noncharacterInInputStream="noncharacter-in-input-stream",c.surrogateInInputStream="surrogate-in-input-stream",c.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",c.endTagWithAttributes="end-tag-with-attributes",c.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",c.unexpectedSolidusInTag="unexpected-solidus-in-tag",c.unexpectedNullCharacter="unexpected-null-character",c.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",c.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",c.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",c.missingEndTagName="missing-end-tag-name",c.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",c.unknownNamedCharacterReference="unknown-named-character-reference",c.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",c.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",c.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",c.eofBeforeTagName="eof-before-tag-name",c.eofInTag="eof-in-tag",c.missingAttributeValue="missing-attribute-value",c.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",c.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",c.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",c.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",c.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",c.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",c.missingDoctypePublicIdentifier="missing-doctype-public-identifier",c.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",c.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",c.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",c.cdataInHtmlContent="cdata-in-html-content",c.incorrectlyOpenedComment="incorrectly-opened-comment",c.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",c.eofInDoctype="eof-in-doctype",c.nestedComment="nested-comment",c.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",c.eofInComment="eof-in-comment",c.incorrectlyClosedComment="incorrectly-closed-comment",c.eofInCdata="eof-in-cdata",c.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",c.nullCharacterReference="null-character-reference",c.surrogateCharacterReference="surrogate-character-reference",c.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",c.controlCharacterReference="control-character-reference",c.noncharacterCharacterReference="noncharacter-character-reference",c.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",c.missingDoctypeName="missing-doctype-name",c.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",c.duplicateAttribute="duplicate-attribute",c.nonConformingDoctype="non-conforming-doctype",c.missingDoctype="missing-doctype",c.misplacedDoctype="misplaced-doctype",c.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",c.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",c.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",c.openElementsLeftAfterEof="open-elements-left-after-eof",c.abandonedHeadElementChild="abandoned-head-element-child",c.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",c.nestedNoscriptInHead="nested-noscript-in-head",c.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";}   1  node_modules/parse5/dist/common/unicode.jsnode_modules/parse5/dist/common/unicode.jsfunction  (A,E,_,n){"use strict";var T,t;Object.defineProperty(E,"__esModule",{value:!0}),function(A,E){for(var _ in E)Object.defineProperty(A,_,{enumerable:!0,get:E[_]});}(E,{CODE_POINTS:function(){return T;},REPLACEMENT_CHARACTER:function(){return S;},SEQUENCES:function(){return r;},getSurrogatePairCodePoint:function(){return L;},isControlCodePoint:function(){return R;},isSurrogate:function(){return N;},isSurrogatePair:function(){return e;},isUndefinedCodePoint:function(){return u;}});let I=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),S="";(t=T||(T={}))[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z";let r={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function N(A){return A>=55296&&A<=57343;}function e(A){return A>=56320&&A<=57343;}function L(A,E){return(A-55296)*1024+9216+E;}function R(A){return 32!==A&&10!==A&&13!==A&&9!==A&&12!==A&&A>=1&&A<=31||A>=127&&A<=159;}function u(A){return A>=64976&&A<=65007||I.has(A);}}     node_modules/parse5/dist/common/token.jsnode_modules/parse5/dist/common/token.jsfunction  (e,t,T,n){"use strict";var A,r;function E(e,t){for(let T=e.attrs.length-1;T>=0;T--)if(e.attrs[T].name===t)return e.attrs[T].value;return null;}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var T in t)Object.defineProperty(e,T,{enumerable:!0,get:t[T]});}(t,{TokenType:function(){return A;},getTokenAttr:function(){return E;}}),(r=A||(A={}))[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION";}   |node_modules/parse5/dist/parser/index.jsnode_modules/parse5/dist/parser/index.jsfunction  (e,t,n,s){"use strict";var T,o;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return N;}});let r=n("@swc/helpers/_/_interop_require_wildcard"),i=n("507960b3"),c=n("beb501d5"),E=n("47ec597a"),_=n("39171beb"),A=r._(n("559e374d")),I=r._(n("8ddbe450")),l=n("42d73029"),D=r._(n("d342ab36")),p=n("f0b4b8b2"),m=n("b7941f75");(o=T||(T={}))[o.INITIAL=0]="INITIAL",o[o.BEFORE_HTML=1]="BEFORE_HTML",o[o.BEFORE_HEAD=2]="BEFORE_HEAD",o[o.IN_HEAD=3]="IN_HEAD",o[o.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",o[o.AFTER_HEAD=5]="AFTER_HEAD",o[o.IN_BODY=6]="IN_BODY",o[o.TEXT=7]="TEXT",o[o.IN_TABLE=8]="IN_TABLE",o[o.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",o[o.IN_CAPTION=10]="IN_CAPTION",o[o.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",o[o.IN_TABLE_BODY=12]="IN_TABLE_BODY",o[o.IN_ROW=13]="IN_ROW",o[o.IN_CELL=14]="IN_CELL",o[o.IN_SELECT=15]="IN_SELECT",o[o.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",o[o.IN_TEMPLATE=17]="IN_TEMPLATE",o[o.AFTER_BODY=18]="AFTER_BODY",o[o.IN_FRAMESET=19]="IN_FRAMESET",o[o.AFTER_FRAMESET=20]="AFTER_FRAMESET",o[o.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",o[o.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let G={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},d=new Set([p.TAG_ID.TABLE,p.TAG_ID.TBODY,p.TAG_ID.TFOOT,p.TAG_ID.THEAD,p.TAG_ID.TR]),h={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:_.defaultTreeAdapter,onParseError:null};class N{constructor(e,t,n=null,s=null){this.fragmentContext=n,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=T.INITIAL,this.originalInsertionMode=T.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...h,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new i.Tokenizer(this.options,this),this.activeFormattingElements=new E.FormattingElementList(this.treeAdapter),this.fragmentContextID=n?(0,p.getTagID)(this.treeAdapter.getTagName(n)):p.TAG_ID.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new c.OpenElementStack(this.document,this.treeAdapter,this);}static parse(e,t){let n=new this(t);return n.tokenizer.write(e,!0),n.document;}static getFragmentParser(e,t){let n={...h,...t};null!=e||(e=n.treeAdapter.createElement(p.TAG_NAMES.TEMPLATE,p.NS.HTML,[]));let s=n.treeAdapter.createElement("documentmock",p.NS.HTML,[]),o=new this(n,s,e);return o.fragmentContextID===p.TAG_ID.TEMPLATE&&o.tmplInsertionModeStack.unshift(T.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o;}getFragment(){let e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t;}_err(e,t,n){var s;if(!this.onParseError)return;let T=null!==(s=e.location)&&void 0!==s?s:G,o={code:t,startLine:T.startLine,startCol:T.startCol,startOffset:T.startOffset,endLine:n?T.startLine:T.endLine,endCol:n?T.startCol:T.endCol,endOffset:n?T.startOffset:T.endOffset};this.onParseError(o);}onItemPush(e,t,n){var s,T;null===(T=(s=this.treeAdapter).onItemPush)||void 0===T||T.call(s,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t);}onItemPop(e,t){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(s=(n=this.treeAdapter).onItemPop)||void 0===s||s.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):{current:e,currentTagId:t}=this.openElements,this._setContextModes(e,t);}}_setContextModes(e,t){let n=e===this.document||this.treeAdapter.getNamespaceURI(e)===p.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e);}_switchToTextParsing(e,t){this._insertElement(e,p.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=T.TEXT;}switchToPlaintextParsing(){this.insertionMode=T.TEXT,this.originalInsertionMode=T.IN_BODY,this.tokenizer.state=i.TokenizerMode.PLAINTEXT;}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current;}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===p.TAG_NAMES.FORM){this.formElement=e;break;}e=this.treeAdapter.getParentNode(e);}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.NS.HTML)switch(this.fragmentContextID){case p.TAG_ID.TITLE:case p.TAG_ID.TEXTAREA:this.tokenizer.state=i.TokenizerMode.RCDATA;break;case p.TAG_ID.STYLE:case p.TAG_ID.XMP:case p.TAG_ID.IFRAME:case p.TAG_ID.NOEMBED:case p.TAG_ID.NOFRAMES:case p.TAG_ID.NOSCRIPT:this.tokenizer.state=i.TokenizerMode.RAWTEXT;break;case p.TAG_ID.SCRIPT:this.tokenizer.state=i.TokenizerMode.SCRIPT_DATA;break;case p.TAG_ID.PLAINTEXT:this.tokenizer.state=i.TokenizerMode.PLAINTEXT;}}_setDocumentType(e){let t=e.name||"",n=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,s),e.location){let t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location);}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){let n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n);}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{let t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e);}}_appendElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location);}_insertElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID);}_insertFakeElement(e,t){let n=this.treeAdapter.createElement(e,p.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t);}_insertTemplate(e){let t=this.treeAdapter.createElement(e.tagName,p.NS.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null);}_insertFakeRootElement(){let e=this.treeAdapter.createElement(p.TAG_NAMES.HTML,p.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,p.TAG_ID.HTML);}_appendCommentNode(e,t){let n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location);}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;let s=this.treeAdapter.getChildNodes(t),T=n?s.lastIndexOf(n):s.length,o=s[T-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){let{endLine:t,endCol:n,endOffset:s}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:s});}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location);}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n);}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){let n=t.location,s=this.treeAdapter.getTagName(e),T=t.type===m.TokenType.END_TAG&&s===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,T);}}shouldProcessStartTagTokenInForeignContent(e){let t,n;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):{current:t,currentTagId:n}=this.openElements,(e.tagID!==p.TAG_ID.SVG||this.treeAdapter.getTagName(t)!==p.TAG_NAMES.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==p.NS.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===p.TAG_ID.MGLYPH||e.tagID===p.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,t,p.NS.HTML)));}_processToken(e){switch(e.type){case m.TokenType.CHARACTER:this.onCharacter(e);break;case m.TokenType.NULL_CHARACTER:this.onNullCharacter(e);break;case m.TokenType.COMMENT:this.onComment(e);break;case m.TokenType.DOCTYPE:this.onDoctype(e);break;case m.TokenType.START_TAG:this._processStartTag(e);break;case m.TokenType.END_TAG:this.onEndTag(e);break;case m.TokenType.EOF:this.onEof(e);break;case m.TokenType.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e);}}_isIntegrationPoint(e,t,n){let s=this.treeAdapter.getNamespaceURI(t),T=this.treeAdapter.getAttrList(t);return I.isIntegrationPoint(e,s,T,n);}_reconstructActiveFormattingElements(){let e=this.activeFormattingElements.entries.length;if(e){let t=this.activeFormattingElements.entries.findIndex(e=>e.type===E.EntryType.Marker||this.openElements.contains(e.element)),n=t<0?e-1:t-1;for(let e=n;e>=0;e--){let t=this.activeFormattingElements.entries[e];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current;}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=T.IN_ROW;}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.P),this.openElements.popUntilTagNamePopped(p.TAG_ID.P);}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case p.TAG_ID.TR:this.insertionMode=T.IN_ROW;return;case p.TAG_ID.TBODY:case p.TAG_ID.THEAD:case p.TAG_ID.TFOOT:this.insertionMode=T.IN_TABLE_BODY;return;case p.TAG_ID.CAPTION:this.insertionMode=T.IN_CAPTION;return;case p.TAG_ID.COLGROUP:this.insertionMode=T.IN_COLUMN_GROUP;return;case p.TAG_ID.TABLE:this.insertionMode=T.IN_TABLE;return;case p.TAG_ID.BODY:this.insertionMode=T.IN_BODY;return;case p.TAG_ID.FRAMESET:this.insertionMode=T.IN_FRAMESET;return;case p.TAG_ID.SELECT:this._resetInsertionModeForSelect(e);return;case p.TAG_ID.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case p.TAG_ID.HTML:this.insertionMode=this.headElement?T.AFTER_HEAD:T.BEFORE_HEAD;return;case p.TAG_ID.TD:case p.TAG_ID.TH:if(e>0){this.insertionMode=T.IN_CELL;return;}break;case p.TAG_ID.HEAD:if(e>0){this.insertionMode=T.IN_HEAD;return;}}this.insertionMode=T.IN_BODY;}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){let e=this.openElements.tagIDs[t];if(e===p.TAG_ID.TEMPLATE)break;if(e===p.TAG_ID.TABLE){this.insertionMode=T.IN_SELECT_IN_TABLE;return;}}this.insertionMode=T.IN_SELECT;}_isElementCausesFosterParenting(e){return d.has(e);}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId);}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){let t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case p.TAG_ID.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===p.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case p.TAG_ID.TABLE:{let n=this.treeAdapter.getParentNode(t);if(n)return{parent:n,beforeElement:t};return{parent:this.openElements.items[e-1],beforeElement:null};}}}return{parent:this.openElements.items[0],beforeElement:null};}_fosterParentElement(e){let t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e);}_isSpecialElement(e,t){let n=this.treeAdapter.getNamespaceURI(e);return p.SPECIAL_ELEMENTS[n].has(t);}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(e),this.framesetOk=!1;return;}switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.IN_BODY:case T.IN_CAPTION:case T.IN_CELL:case T.IN_TEMPLATE:F(this,e);break;case T.TEXT:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_TABLE_TEXT:Q(this,e);break;case T.IN_COLUMN_GROUP:$(this,e);break;case T.AFTER_BODY:ei(this,e);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){e.chars=D.REPLACEMENT_CHARACTER,this._insertCharacters(e);return;}switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.TEXT:this._insertCharacters(e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_COLUMN_GROUP:$(this,e);break;case T.AFTER_BODY:ei(this,e);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){O(this,e);return;}switch(this.insertionMode){case T.INITIAL:case T.BEFORE_HTML:case T.BEFORE_HEAD:case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:case T.IN_BODY:case T.IN_TABLE:case T.IN_CAPTION:case T.IN_COLUMN_GROUP:case T.IN_TABLE_BODY:case T.IN_ROW:case T.IN_CELL:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:case T.IN_TEMPLATE:case T.IN_FRAMESET:case T.AFTER_FRAMESET:O(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0]);}(this,e);break;case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document);}(this,e);}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case T.INITIAL:!function(e,t){e._setDocumentType(t);let n=t.forceQuirks?p.DOCUMENT_MODE.QUIRKS:A.getDocumentMode(t);A.isConforming(t)||e._err(t,l.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=T.BEFORE_HTML;}(this,e);break;case T.BEFORE_HEAD:case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:this._err(e,l.ERR.misplacedDoctype);break;case T.IN_TABLE_TEXT:J(this,e);}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,l.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(I.causesExit(t))eE(e),e._startTagOutsideForeignContent(t);else{let n=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(n);s===p.NS.MATHML?I.adjustTokenMathMLAttrs(t):s===p.NS.SVG&&(I.adjustTokenSVGTagName(t),I.adjustTokenSVGAttrs(t)),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0;}}(this,e):this._startTagOutsideForeignContent(e);}_startTagOutsideForeignContent(e){switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:e.tagID===p.TAG_ID.HTML?(this._insertElement(e,p.NS.HTML),this.insertionMode=T.BEFORE_HEAD):g(this,e);break;case T.BEFORE_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.HEAD:e._insertElement(t,p.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=T.IN_HEAD;break;default:R(e,t);}}(this,e);break;case T.IN_HEAD:C(this,e);break;case T.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.HEAD:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.STYLE:C(e,t);break;case p.TAG_ID.NOSCRIPT:e._err(t,l.ERR.nestedNoscriptInHead);break;default:b(e,t);}}(this,e);break;case T.AFTER_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BODY:e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=T.IN_BODY;break;case p.TAG_ID.FRAMESET:e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_FRAMESET;break;case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.SCRIPT:case p.TAG_ID.STYLE:case p.TAG_ID.TEMPLATE:case p.TAG_ID.TITLE:e._err(t,l.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,p.TAG_ID.HEAD),C(e,t),e.openElements.remove(e.headElement);break;case p.TAG_ID.HEAD:e._err(t,l.ERR.misplacedStartTagForHeadElement);break;default:f(e,t);}}(this,e);break;case T.IN_BODY:w(this,e);break;case T.IN_TABLE:z(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_CAPTION:!function(e,t){let n=t.tagID;q.has(n)?e.openElements.hasInTableScope(p.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_TABLE,z(e,t)):w(e,t);}(this,e);break;case T.IN_COLUMN_GROUP:Z(this,e);break;case T.IN_TABLE_BODY:ee(this,e);break;case T.IN_ROW:en(this,e);break;case T.IN_CELL:!function(e,t){let n=t.tagID;q.has(n)?(e.openElements.hasInTableScope(p.TAG_ID.TD)||e.openElements.hasInTableScope(p.TAG_ID.TH))&&(e._closeTableCell(),en(e,t)):w(e,t);}(this,e);break;case T.IN_SELECT:ea(this,e);break;case T.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===p.TAG_ID.CAPTION||n===p.TAG_ID.TABLE||n===p.TAG_ID.TBODY||n===p.TAG_ID.TFOOT||n===p.TAG_ID.THEAD||n===p.TAG_ID.TR||n===p.TAG_ID.TD||n===p.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ea(e,t);}(this,e);break;case T.IN_TEMPLATE:!function(e,t){switch(t.tagID){case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.SCRIPT:case p.TAG_ID.STYLE:case p.TAG_ID.TEMPLATE:case p.TAG_ID.TITLE:C(e,t);break;case p.TAG_ID.CAPTION:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.tmplInsertionModeStack[0]=T.IN_TABLE,e.insertionMode=T.IN_TABLE,z(e,t);break;case p.TAG_ID.COL:e.tmplInsertionModeStack[0]=T.IN_COLUMN_GROUP,e.insertionMode=T.IN_COLUMN_GROUP,Z(e,t);break;case p.TAG_ID.TR:e.tmplInsertionModeStack[0]=T.IN_TABLE_BODY,e.insertionMode=T.IN_TABLE_BODY,ee(e,t);break;case p.TAG_ID.TD:case p.TAG_ID.TH:e.tmplInsertionModeStack[0]=T.IN_ROW,e.insertionMode=T.IN_ROW,en(e,t);break;default:e.tmplInsertionModeStack[0]=T.IN_BODY,e.insertionMode=T.IN_BODY,w(e,t);}}(this,e);break;case T.AFTER_BODY:e.tagID===p.TAG_ID.HTML?w(this,e):ei(this,e);break;case T.IN_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.FRAMESET:e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.FRAME:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);break;case T.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);break;case T.AFTER_AFTER_BODY:e.tagID===p.TAG_ID.HTML?w(this,e):ec(this,e);break;case T.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===p.TAG_ID.P||t.tagID===p.TAG_ID.BR){eE(e),e._endTagOutsideForeignContent(t);return;}for(let n=e.openElements.stackTop;n>0;n--){let s=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(s)===p.NS.HTML){e._endTagOutsideForeignContent(t);break;}let T=e.treeAdapter.getTagName(s);if(T.toLowerCase()===t.tagName){t.tagName=T,e.openElements.shortenToLength(n);break;}}}(this,e):this._endTagOutsideForeignContent(e);}_endTagOutsideForeignContent(e){var t;switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:!function(e,t){let n=t.tagID;(n===p.TAG_ID.HTML||n===p.TAG_ID.HEAD||n===p.TAG_ID.BODY||n===p.TAG_ID.BR)&&g(e,t);}(this,e);break;case T.BEFORE_HEAD:!function(e,t){let n=t.tagID;n===p.TAG_ID.HEAD||n===p.TAG_ID.BODY||n===p.TAG_ID.HTML||n===p.TAG_ID.BR?R(e,t):e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}(this,e);break;case T.IN_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HEAD:e.openElements.pop(),e.insertionMode=T.AFTER_HEAD;break;case p.TAG_ID.BODY:case p.TAG_ID.BR:case p.TAG_ID.HTML:S(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case p.TAG_ID.NOSCRIPT:e.openElements.pop(),e.insertionMode=T.IN_HEAD;break;case p.TAG_ID.BR:b(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.AFTER_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.BODY:case p.TAG_ID.HTML:case p.TAG_ID.BR:f(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.IN_BODY:y(this,e);break;case T.TEXT:e.tagID===p.TAG_ID.SCRIPT&&(null===(t=this.scriptHandler)||void 0===t||t.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case T.IN_TABLE:K(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_CAPTION:!function(e,t){let n=t.tagID;switch(n){case p.TAG_ID.CAPTION:case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_TABLE,n===p.TAG_ID.TABLE&&K(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TBODY:case p.TAG_ID.TD:case p.TAG_ID.TFOOT:case p.TAG_ID.TH:case p.TAG_ID.THEAD:case p.TAG_ID.TR:break;default:y(e,t);}}(this,e);break;case T.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case p.TAG_ID.COLGROUP:e.openElements.currentTagId===p.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=T.IN_TABLE);break;case p.TAG_ID.TEMPLATE:u(e,t);break;case p.TAG_ID.COL:break;default:$(e,t);}}(this,e);break;case T.IN_TABLE_BODY:et(this,e);break;case T.IN_ROW:es(this,e);break;case T.IN_CELL:!function(e,t){let n=t.tagID;switch(n){case p.TAG_ID.TD:case p.TAG_ID.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_ROW);break;case p.TAG_ID.TABLE:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),es(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:break;default:y(e,t);}}(this,e);break;case T.IN_SELECT:eT(this,e);break;case T.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===p.TAG_ID.CAPTION||n===p.TAG_ID.TABLE||n===p.TAG_ID.TBODY||n===p.TAG_ID.TFOOT||n===p.TAG_ID.THEAD||n===p.TAG_ID.TR||n===p.TAG_ID.TD||n===p.TAG_ID.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):eT(e,t);}(this,e);break;case T.IN_TEMPLATE:e.tagID===p.TAG_ID.TEMPLATE&&u(this,e);break;case T.AFTER_BODY:er(this,e);break;case T.IN_FRAMESET:e.tagID!==p.TAG_ID.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===p.TAG_ID.FRAMESET||(this.insertionMode=T.AFTER_FRAMESET));break;case T.AFTER_FRAMESET:e.tagID===p.TAG_ID.HTML&&(this.insertionMode=T.AFTER_AFTER_FRAMESET);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onEof(e){switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.IN_BODY:case T.IN_TABLE:case T.IN_CAPTION:case T.IN_COLUMN_GROUP:case T.IN_TABLE_BODY:case T.IN_ROW:case T.IN_CELL:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:W(this,e);break;case T.TEXT:this._err(e,l.ERR.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_TEMPLATE:eo(this,e);break;case T.AFTER_BODY:case T.IN_FRAMESET:case T.AFTER_FRAMESET:case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:k(this,e);}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===D.CODE_POINTS.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1);}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return;}switch(this.insertionMode){case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:case T.TEXT:case T.IN_COLUMN_GROUP:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:case T.IN_FRAMESET:case T.AFTER_FRAMESET:this._insertCharacters(e);break;case T.IN_BODY:case T.IN_CAPTION:case T.IN_CELL:case T.IN_TEMPLATE:case T.AFTER_BODY:case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:B(this,e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_TABLE_TEXT:j(this,e);}}}function L(e,t){for(let n=0;n<8;n++){let n=function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):v(e,t),n;}(e,t);if(!n)break;let s=function(e,t){let n=null,s=e.openElements.stackTop;for(;s>=0;s--){let T=e.openElements.items[s];if(T===t.element)break;e._isSpecialElement(T,e.openElements.tagIDs[s])&&(n=T);}return n||(e.openElements.shortenToLength(s<0?0:s),e.activeFormattingElements.removeEntry(t)),n;}(e,n);if(!s)break;e.activeFormattingElements.bookmark=n;let T=function(e,t,n){let s=t,T=e.openElements.getCommonAncestor(t);for(let o=0,r=T;r!==n;o++,r=T){T=e.openElements.getCommonAncestor(r);let n=e.activeFormattingElements.getElementEntry(r),i=n&&o>=3;!n||i?(i&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(r)):(r=function(e,t){let n=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s;}(e,n),s===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(r,s),s=r);}return s;}(e,s,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(T),o&&function(e,t,n){let s=e.treeAdapter.getTagName(t),T=(0,p.getTagID)(s);if(e._isElementCausesFosterParenting(T))e._fosterParentElement(n);else{let s=e.treeAdapter.getNamespaceURI(t);T===p.TAG_ID.TEMPLATE&&s===p.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n);}}(e,o,T),function(e,t,n){let s=e.treeAdapter.getNamespaceURI(n.element),{token:T}=n,o=e.treeAdapter.createElement(T.tagName,s,T.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,T),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,T.tagID);}(e,s,n);}}function O(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode);}function k(e,t){if(e.stopped=!0,t.location){let n=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=n;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(n);if(s&&!s.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let n=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(n);s&&!s.endTag&&e._setEndLocation(n,t);}}}}function M(e,t){e._err(t,l.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,p.DOCUMENT_MODE.QUIRKS),e.insertionMode=T.BEFORE_HTML,e._processToken(t);}function g(e,t){e._insertFakeRootElement(),e.insertionMode=T.BEFORE_HEAD,e._processToken(t);}function R(e,t){e._insertFakeElement(p.TAG_NAMES.HEAD,p.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=T.IN_HEAD,e._processToken(t);}function C(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.TITLE:e._switchToTextParsing(t,i.TokenizerMode.RCDATA);break;case p.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT):(e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_HEAD_NO_SCRIPT);break;case p.TAG_ID.NOFRAMES:case p.TAG_ID.STYLE:e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SCRIPT:e._switchToTextParsing(t,i.TokenizerMode.SCRIPT_DATA);break;case p.TAG_ID.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=T.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(T.IN_TEMPLATE);break;case p.TAG_ID.HEAD:e._err(t,l.ERR.misplacedStartTagForHeadElement);break;default:S(e,t);}}function u(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TAG_ID.TEMPLATE&&e._err(t,l.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}function S(e,t){e.openElements.pop(),e.insertionMode=T.AFTER_HEAD,e._processToken(t);}function b(e,t){let n=t.type===m.TokenType.EOF?l.ERR.openElementsLeftAfterEof:l.ERR.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=T.IN_HEAD,e._processToken(t);}function f(e,t){e._insertFakeElement(p.TAG_NAMES.BODY,p.TAG_ID.BODY),e.insertionMode=T.IN_BODY,P(e,t);}function P(e,t){switch(t.type){case m.TokenType.CHARACTER:F(e,t);break;case m.TokenType.WHITESPACE_CHARACTER:B(e,t);break;case m.TokenType.COMMENT:O(e,t);break;case m.TokenType.START_TAG:w(e,t);break;case m.TokenType.END_TAG:y(e,t);break;case m.TokenType.EOF:W(e,t);}}function B(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t);}function F(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1;}function H(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;}function U(e){let t=(0,m.getTokenAttr)(e,p.ATTRS.TYPE);return null!=t&&"hidden"===t.toLowerCase();}function Y(e,t){e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);}function x(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML);}function w(e,t){switch(t.tagID){case p.TAG_ID.I:case p.TAG_ID.S:case p.TAG_ID.B:case p.TAG_ID.U:case p.TAG_ID.EM:case p.TAG_ID.TT:case p.TAG_ID.BIG:case p.TAG_ID.CODE:case p.TAG_ID.FONT:case p.TAG_ID.SMALL:case p.TAG_ID.STRIKE:case p.TAG_ID.STRONG:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case p.TAG_ID.A:!function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(p.TAG_NAMES.A);n&&(L(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);}(e,t);break;case p.TAG_ID.H1:case p.TAG_ID.H2:case p.TAG_ID.H3:case p.TAG_ID.H4:case p.TAG_ID.H5:case p.TAG_ID.H6:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),p.NUMBERED_HEADERS.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.P:case p.TAG_ID.DL:case p.TAG_ID.OL:case p.TAG_ID.UL:case p.TAG_ID.DIV:case p.TAG_ID.DIR:case p.TAG_ID.NAV:case p.TAG_ID.MAIN:case p.TAG_ID.MENU:case p.TAG_ID.ASIDE:case p.TAG_ID.CENTER:case p.TAG_ID.FIGURE:case p.TAG_ID.FOOTER:case p.TAG_ID.HEADER:case p.TAG_ID.HGROUP:case p.TAG_ID.DIALOG:case p.TAG_ID.DETAILS:case p.TAG_ID.ADDRESS:case p.TAG_ID.ARTICLE:case p.TAG_ID.SEARCH:case p.TAG_ID.SECTION:case p.TAG_ID.SUMMARY:case p.TAG_ID.FIELDSET:case p.TAG_ID.BLOCKQUOTE:case p.TAG_ID.FIGCAPTION:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.LI:case p.TAG_ID.DD:case p.TAG_ID.DT:!function(e,t){e.framesetOk=!1;let n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){let s=e.openElements.tagIDs[t];if(n===p.TAG_ID.LI&&s===p.TAG_ID.LI||(n===p.TAG_ID.DD||n===p.TAG_ID.DT)&&(s===p.TAG_ID.DD||s===p.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break;}if(s!==p.TAG_ID.ADDRESS&&s!==p.TAG_ID.DIV&&s!==p.TAG_ID.P&&e._isSpecialElement(e.openElements.items[t],s))break;}e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML);}(e,t);break;case p.TAG_ID.BR:case p.TAG_ID.IMG:case p.TAG_ID.WBR:case p.TAG_ID.AREA:case p.TAG_ID.EMBED:case p.TAG_ID.KEYGEN:H(e,t);break;case p.TAG_ID.HR:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._appendElement(t,p.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;break;case p.TAG_ID.RB:case p.TAG_ID.RTC:e.openElements.hasInScope(p.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.RT:case p.TAG_ID.RP:e.openElements.hasInScope(p.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.RTC),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.PRE:case p.TAG_ID.LISTING:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1;break;case p.TAG_ID.XMP:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SVG:e._reconstructActiveFormattingElements(),I.adjustTokenSVGAttrs(t),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.NS.SVG):e._insertElement(t,p.NS.SVG),t.ackSelfClosing=!0;break;case p.TAG_ID.HTML:0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs);break;case p.TAG_ID.BASE:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.STYLE:case p.TAG_ID.TITLE:case p.TAG_ID.SCRIPT:case p.TAG_ID.BGSOUND:case p.TAG_ID.BASEFONT:case p.TAG_ID.TEMPLATE:C(e,t);break;case p.TAG_ID.BODY:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs));}(e,t);break;case p.TAG_ID.FORM:!function(e,t){let n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),n||(e.formElement=e.openElements.current));}(e,t);break;case p.TAG_ID.NOBR:e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.TAG_ID.NOBR)&&(L(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case p.TAG_ID.MATH:e._reconstructActiveFormattingElements(),I.adjustTokenMathMLAttrs(t),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.NS.MATHML):e._insertElement(t,p.NS.MATHML),t.ackSelfClosing=!0;break;case p.TAG_ID.TABLE:e.treeAdapter.getDocumentMode(e.document)!==p.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=T.IN_TABLE;break;case p.TAG_ID.INPUT:e._reconstructActiveFormattingElements(),e._appendElement(t,p.NS.HTML),U(t)||(e.framesetOk=!1),t.ackSelfClosing=!0;break;case p.TAG_ID.PARAM:case p.TAG_ID.TRACK:case p.TAG_ID.SOURCE:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.IMAGE:t.tagName=p.TAG_NAMES.IMG,t.tagID=p.TAG_ID.IMG,H(e,t);break;case p.TAG_ID.BUTTON:e.openElements.hasInScope(p.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1;break;case p.TAG_ID.APPLET:case p.TAG_ID.OBJECT:case p.TAG_ID.MARQUEE:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1;break;case p.TAG_ID.IFRAME:e.framesetOk=!1,e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SELECT:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===T.IN_TABLE||e.insertionMode===T.IN_CAPTION||e.insertionMode===T.IN_TABLE_BODY||e.insertionMode===T.IN_ROW||e.insertionMode===T.IN_CELL?T.IN_SELECT_IN_TABLE:T.IN_SELECT;break;case p.TAG_ID.OPTION:case p.TAG_ID.OPTGROUP:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.NOEMBED:case p.TAG_ID.NOFRAMES:Y(e,t);break;case p.TAG_ID.FRAMESET:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_FRAMESET);}(e,t);break;case p.TAG_ID.TEXTAREA:e._insertElement(t,p.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=i.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=T.TEXT;break;case p.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?Y(e,t):x(e,t);break;case p.TAG_ID.PLAINTEXT:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.tokenizer.state=i.TokenizerMode.PLAINTEXT;break;case p.TAG_ID.COL:case p.TAG_ID.TH:case p.TAG_ID.TD:case p.TAG_ID.TR:case p.TAG_ID.HEAD:case p.TAG_ID.FRAME:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.CAPTION:case p.TAG_ID.COLGROUP:break;default:x(e,t);}}function v(e,t){let n=t.tagName,s=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){let T=e.openElements.items[t],o=e.openElements.tagIDs[t];if(s===o&&(s!==p.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(T)===n)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break;}if(e._isSpecialElement(T,o))break;}}function y(e,t){switch(t.tagID){case p.TAG_ID.A:case p.TAG_ID.B:case p.TAG_ID.I:case p.TAG_ID.S:case p.TAG_ID.U:case p.TAG_ID.EM:case p.TAG_ID.TT:case p.TAG_ID.BIG:case p.TAG_ID.CODE:case p.TAG_ID.FONT:case p.TAG_ID.NOBR:case p.TAG_ID.SMALL:case p.TAG_ID.STRIKE:case p.TAG_ID.STRONG:L(e,t);break;case p.TAG_ID.P:e.openElements.hasInButtonScope(p.TAG_ID.P)||e._insertFakeElement(p.TAG_NAMES.P,p.TAG_ID.P),e._closePElement();break;case p.TAG_ID.DL:case p.TAG_ID.UL:case p.TAG_ID.OL:case p.TAG_ID.DIR:case p.TAG_ID.DIV:case p.TAG_ID.NAV:case p.TAG_ID.PRE:case p.TAG_ID.MAIN:case p.TAG_ID.MENU:case p.TAG_ID.ASIDE:case p.TAG_ID.BUTTON:case p.TAG_ID.CENTER:case p.TAG_ID.FIGURE:case p.TAG_ID.FOOTER:case p.TAG_ID.HEADER:case p.TAG_ID.HGROUP:case p.TAG_ID.DIALOG:case p.TAG_ID.ADDRESS:case p.TAG_ID.ARTICLE:case p.TAG_ID.DETAILS:case p.TAG_ID.SEARCH:case p.TAG_ID.SECTION:case p.TAG_ID.SUMMARY:case p.TAG_ID.LISTING:case p.TAG_ID.FIELDSET:case p.TAG_ID.BLOCKQUOTE:case p.TAG_ID.FIGCAPTION:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n));}(e,t);break;case p.TAG_ID.LI:e.openElements.hasInListItemScope(p.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.LI),e.openElements.popUntilTagNamePopped(p.TAG_ID.LI));break;case p.TAG_ID.DD:case p.TAG_ID.DT:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n));}(e,t);break;case p.TAG_ID.H1:case p.TAG_ID.H2:case p.TAG_ID.H3:case p.TAG_ID.H4:case p.TAG_ID.H5:case p.TAG_ID.H6:e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped());break;case p.TAG_ID.BR:e._reconstructActiveFormattingElements(),e._insertFakeElement(p.TAG_NAMES.BR,p.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1;break;case p.TAG_ID.BODY:!function(e,t){if(e.openElements.hasInScope(p.TAG_ID.BODY)&&(e.insertionMode=T.AFTER_BODY,e.options.sourceCodeLocationInfo)){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t);}}(e,t);break;case p.TAG_ID.HTML:e.openElements.hasInScope(p.TAG_ID.BODY)&&(e.insertionMode=T.AFTER_BODY,er(e,t));break;case p.TAG_ID.FORM:!function(e){let t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.TAG_ID.FORM):n&&e.openElements.remove(n));}(e);break;case p.TAG_ID.APPLET:case p.TAG_ID.OBJECT:case p.TAG_ID.MARQUEE:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker());}(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:v(e,t);}}function W(e,t){e.tmplInsertionModeStack.length>0?eo(e,t):k(e,t);}function X(e,t){if(d.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=T.IN_TABLE_TEXT,t.type){case m.TokenType.CHARACTER:Q(e,t);break;case m.TokenType.WHITESPACE_CHARACTER:j(e,t);}else V(e,t);}function z(e,t){switch(t.tagID){case p.TAG_ID.TD:case p.TAG_ID.TH:case p.TAG_ID.TR:e.openElements.clearBackToTableContext(),e._insertFakeElement(p.TAG_NAMES.TBODY,p.TAG_ID.TBODY),e.insertionMode=T.IN_TABLE_BODY,ee(e,t);break;case p.TAG_ID.STYLE:case p.TAG_ID.SCRIPT:case p.TAG_ID.TEMPLATE:C(e,t);break;case p.TAG_ID.COL:e.openElements.clearBackToTableContext(),e._insertFakeElement(p.TAG_NAMES.COLGROUP,p.TAG_ID.COLGROUP),e.insertionMode=T.IN_COLUMN_GROUP,Z(e,t);break;case p.TAG_ID.FORM:e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,p.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop());break;case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t));break;case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.clearBackToTableContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_TABLE_BODY;break;case p.TAG_ID.INPUT:U(t)?e._appendElement(t,p.NS.HTML):V(e,t),t.ackSelfClosing=!0;break;case p.TAG_ID.CAPTION:e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_CAPTION;break;case p.TAG_ID.COLGROUP:e.openElements.clearBackToTableContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_COLUMN_GROUP;break;default:V(e,t);}}function K(e,t){switch(t.tagID){case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.TABLE),e._resetInsertionMode());break;case p.TAG_ID.TEMPLATE:u(e,t);break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TBODY:case p.TAG_ID.TD:case p.TAG_ID.TFOOT:case p.TAG_ID.TH:case p.TAG_ID.THEAD:case p.TAG_ID.TR:break;default:V(e,t);}}function V(e,t){let n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,P(e,t),e.fosterParentingEnabled=n;}function j(e,t){e.pendingCharacterTokens.push(t);}function Q(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0;}function J(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)V(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t);}let q=new Set([p.TAG_ID.CAPTION,p.TAG_ID.COL,p.TAG_ID.COLGROUP,p.TAG_ID.TBODY,p.TAG_ID.TD,p.TAG_ID.TFOOT,p.TAG_ID.TH,p.TAG_ID.THEAD,p.TAG_ID.TR]);function Z(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.COL:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.TEMPLATE:C(e,t);break;default:$(e,t);}}function $(e,t){e.openElements.currentTagId===p.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=T.IN_TABLE,e._processToken(t));}function ee(e,t){switch(t.tagID){case p.TAG_ID.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_ROW;break;case p.TAG_ID.TH:case p.TAG_ID.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(p.TAG_NAMES.TR,p.TAG_ID.TR),e.insertionMode=T.IN_ROW,en(e,t);break;case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE,z(e,t));break;default:z(e,t);}}function et(e,t){let n=t.tagID;switch(t.tagID){case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE);break;case p.TAG_ID.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE,K(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TD:case p.TAG_ID.TH:case p.TAG_ID.TR:break;default:K(e,t);}}function en(e,t){switch(t.tagID){case p.TAG_ID.TH:case p.TAG_ID.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_CELL,e.activeFormattingElements.insertMarker();break;case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.TR:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,ee(e,t));break;default:z(e,t);}}function es(e,t){switch(t.tagID){case p.TAG_ID.TR:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY);break;case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,et(e,t));break;case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,et(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TD:case p.TAG_ID.TH:break;default:K(e,t);}}function ea(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.OPTION:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.OPTGROUP:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.HR:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.INPUT:case p.TAG_ID.KEYGEN:case p.TAG_ID.TEXTAREA:case p.TAG_ID.SELECT:e.openElements.hasInSelectScope(p.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==p.TAG_ID.SELECT&&e._processStartTag(t));break;case p.TAG_ID.SCRIPT:case p.TAG_ID.TEMPLATE:C(e,t);}}function eT(e,t){switch(t.tagID){case p.TAG_ID.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop();break;case p.TAG_ID.OPTION:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop();break;case p.TAG_ID.SELECT:e.openElements.hasInSelectScope(p.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode());break;case p.TAG_ID.TEMPLATE:u(e,t);}}function eo(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):k(e,t);}function er(e,t){var n;if(t.tagID===p.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=T.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);let s=e.openElements.items[1];!s||(null===(n=e.treeAdapter.getNodeSourceCodeLocation(s))||void 0===n?void 0:n.endTag)||e._setEndLocation(s,t);}}else ei(e,t);}function ei(e,t){e.insertionMode=T.IN_BODY,P(e,t);}function ec(e,t){e.insertionMode=T.IN_BODY,P(e,t);}function eE(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==p.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop();}}    <node_modules/parse5/dist/common/html.jsnode_modules/parse5/dist/common/html.jsfunction  (E,T,A,R){"use strict";var O,I,M,N,S,L,D,P,B,t;Object.defineProperty(T,"__esModule",{value:!0}),function(E,T){for(var A in T)Object.defineProperty(E,A,{enumerable:!0,get:T[A]});}(T,{ATTRS:function(){return I;},DOCUMENT_MODE:function(){return M;},NS:function(){return O;},NUMBERED_HEADERS:function(){return G;},SPECIAL_ELEMENTS:function(){return H;},TAG_ID:function(){return S;},TAG_NAMES:function(){return N;},getTagID:function(){return e;},hasUnescapedText:function(){return r;}}),(L=O||(O={})).HTML="http://www.w3.org/1999/xhtml",L.MATHML="http://www.w3.org/1998/Math/MathML",L.SVG="http://www.w3.org/2000/svg",L.XLINK="http://www.w3.org/1999/xlink",L.XML="http://www.w3.org/XML/1998/namespace",L.XMLNS="http://www.w3.org/2000/xmlns/",(D=I||(I={})).TYPE="type",D.ACTION="action",D.ENCODING="encoding",D.PROMPT="prompt",D.NAME="name",D.COLOR="color",D.FACE="face",D.SIZE="size",(P=M||(M={})).NO_QUIRKS="no-quirks",P.QUIRKS="quirks",P.LIMITED_QUIRKS="limited-quirks",(B=N||(N={})).A="a",B.ADDRESS="address",B.ANNOTATION_XML="annotation-xml",B.APPLET="applet",B.AREA="area",B.ARTICLE="article",B.ASIDE="aside",B.B="b",B.BASE="base",B.BASEFONT="basefont",B.BGSOUND="bgsound",B.BIG="big",B.BLOCKQUOTE="blockquote",B.BODY="body",B.BR="br",B.BUTTON="button",B.CAPTION="caption",B.CENTER="center",B.CODE="code",B.COL="col",B.COLGROUP="colgroup",B.DD="dd",B.DESC="desc",B.DETAILS="details",B.DIALOG="dialog",B.DIR="dir",B.DIV="div",B.DL="dl",B.DT="dt",B.EM="em",B.EMBED="embed",B.FIELDSET="fieldset",B.FIGCAPTION="figcaption",B.FIGURE="figure",B.FONT="font",B.FOOTER="footer",B.FOREIGN_OBJECT="foreignObject",B.FORM="form",B.FRAME="frame",B.FRAMESET="frameset",B.H1="h1",B.H2="h2",B.H3="h3",B.H4="h4",B.H5="h5",B.H6="h6",B.HEAD="head",B.HEADER="header",B.HGROUP="hgroup",B.HR="hr",B.HTML="html",B.I="i",B.IMG="img",B.IMAGE="image",B.INPUT="input",B.IFRAME="iframe",B.KEYGEN="keygen",B.LABEL="label",B.LI="li",B.LINK="link",B.LISTING="listing",B.MAIN="main",B.MALIGNMARK="malignmark",B.MARQUEE="marquee",B.MATH="math",B.MENU="menu",B.META="meta",B.MGLYPH="mglyph",B.MI="mi",B.MO="mo",B.MN="mn",B.MS="ms",B.MTEXT="mtext",B.NAV="nav",B.NOBR="nobr",B.NOFRAMES="noframes",B.NOEMBED="noembed",B.NOSCRIPT="noscript",B.OBJECT="object",B.OL="ol",B.OPTGROUP="optgroup",B.OPTION="option",B.P="p",B.PARAM="param",B.PLAINTEXT="plaintext",B.PRE="pre",B.RB="rb",B.RP="rp",B.RT="rt",B.RTC="rtc",B.RUBY="ruby",B.S="s",B.SCRIPT="script",B.SEARCH="search",B.SECTION="section",B.SELECT="select",B.SOURCE="source",B.SMALL="small",B.SPAN="span",B.STRIKE="strike",B.STRONG="strong",B.STYLE="style",B.SUB="sub",B.SUMMARY="summary",B.SUP="sup",B.TABLE="table",B.TBODY="tbody",B.TEMPLATE="template",B.TEXTAREA="textarea",B.TFOOT="tfoot",B.TD="td",B.TH="th",B.THEAD="thead",B.TITLE="title",B.TR="tr",B.TRACK="track",B.TT="tt",B.U="u",B.UL="ul",B.SVG="svg",B.VAR="var",B.WBR="wbr",B.XMP="xmp",(t=S||(S={}))[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP";let C=new Map([[N.A,S.A],[N.ADDRESS,S.ADDRESS],[N.ANNOTATION_XML,S.ANNOTATION_XML],[N.APPLET,S.APPLET],[N.AREA,S.AREA],[N.ARTICLE,S.ARTICLE],[N.ASIDE,S.ASIDE],[N.B,S.B],[N.BASE,S.BASE],[N.BASEFONT,S.BASEFONT],[N.BGSOUND,S.BGSOUND],[N.BIG,S.BIG],[N.BLOCKQUOTE,S.BLOCKQUOTE],[N.BODY,S.BODY],[N.BR,S.BR],[N.BUTTON,S.BUTTON],[N.CAPTION,S.CAPTION],[N.CENTER,S.CENTER],[N.CODE,S.CODE],[N.COL,S.COL],[N.COLGROUP,S.COLGROUP],[N.DD,S.DD],[N.DESC,S.DESC],[N.DETAILS,S.DETAILS],[N.DIALOG,S.DIALOG],[N.DIR,S.DIR],[N.DIV,S.DIV],[N.DL,S.DL],[N.DT,S.DT],[N.EM,S.EM],[N.EMBED,S.EMBED],[N.FIELDSET,S.FIELDSET],[N.FIGCAPTION,S.FIGCAPTION],[N.FIGURE,S.FIGURE],[N.FONT,S.FONT],[N.FOOTER,S.FOOTER],[N.FOREIGN_OBJECT,S.FOREIGN_OBJECT],[N.FORM,S.FORM],[N.FRAME,S.FRAME],[N.FRAMESET,S.FRAMESET],[N.H1,S.H1],[N.H2,S.H2],[N.H3,S.H3],[N.H4,S.H4],[N.H5,S.H5],[N.H6,S.H6],[N.HEAD,S.HEAD],[N.HEADER,S.HEADER],[N.HGROUP,S.HGROUP],[N.HR,S.HR],[N.HTML,S.HTML],[N.I,S.I],[N.IMG,S.IMG],[N.IMAGE,S.IMAGE],[N.INPUT,S.INPUT],[N.IFRAME,S.IFRAME],[N.KEYGEN,S.KEYGEN],[N.LABEL,S.LABEL],[N.LI,S.LI],[N.LINK,S.LINK],[N.LISTING,S.LISTING],[N.MAIN,S.MAIN],[N.MALIGNMARK,S.MALIGNMARK],[N.MARQUEE,S.MARQUEE],[N.MATH,S.MATH],[N.MENU,S.MENU],[N.META,S.META],[N.MGLYPH,S.MGLYPH],[N.MI,S.MI],[N.MO,S.MO],[N.MN,S.MN],[N.MS,S.MS],[N.MTEXT,S.MTEXT],[N.NAV,S.NAV],[N.NOBR,S.NOBR],[N.NOFRAMES,S.NOFRAMES],[N.NOEMBED,S.NOEMBED],[N.NOSCRIPT,S.NOSCRIPT],[N.OBJECT,S.OBJECT],[N.OL,S.OL],[N.OPTGROUP,S.OPTGROUP],[N.OPTION,S.OPTION],[N.P,S.P],[N.PARAM,S.PARAM],[N.PLAINTEXT,S.PLAINTEXT],[N.PRE,S.PRE],[N.RB,S.RB],[N.RP,S.RP],[N.RT,S.RT],[N.RTC,S.RTC],[N.RUBY,S.RUBY],[N.S,S.S],[N.SCRIPT,S.SCRIPT],[N.SEARCH,S.SEARCH],[N.SECTION,S.SECTION],[N.SELECT,S.SELECT],[N.SOURCE,S.SOURCE],[N.SMALL,S.SMALL],[N.SPAN,S.SPAN],[N.STRIKE,S.STRIKE],[N.STRONG,S.STRONG],[N.STYLE,S.STYLE],[N.SUB,S.SUB],[N.SUMMARY,S.SUMMARY],[N.SUP,S.SUP],[N.TABLE,S.TABLE],[N.TBODY,S.TBODY],[N.TEMPLATE,S.TEMPLATE],[N.TEXTAREA,S.TEXTAREA],[N.TFOOT,S.TFOOT],[N.TD,S.TD],[N.TH,S.TH],[N.THEAD,S.THEAD],[N.TITLE,S.TITLE],[N.TR,S.TR],[N.TRACK,S.TRACK],[N.TT,S.TT],[N.U,S.U],[N.UL,S.UL],[N.SVG,S.SVG],[N.VAR,S.VAR],[N.WBR,S.WBR],[N.XMP,S.XMP]]);function e(E){var T;return null!==(T=C.get(E))&&void 0!==T?T:S.UNKNOWN;}let U=S,H={[O.HTML]:new Set([U.ADDRESS,U.APPLET,U.AREA,U.ARTICLE,U.ASIDE,U.BASE,U.BASEFONT,U.BGSOUND,U.BLOCKQUOTE,U.BODY,U.BR,U.BUTTON,U.CAPTION,U.CENTER,U.COL,U.COLGROUP,U.DD,U.DETAILS,U.DIR,U.DIV,U.DL,U.DT,U.EMBED,U.FIELDSET,U.FIGCAPTION,U.FIGURE,U.FOOTER,U.FORM,U.FRAME,U.FRAMESET,U.H1,U.H2,U.H3,U.H4,U.H5,U.H6,U.HEAD,U.HEADER,U.HGROUP,U.HR,U.HTML,U.IFRAME,U.IMG,U.INPUT,U.LI,U.LINK,U.LISTING,U.MAIN,U.MARQUEE,U.MENU,U.META,U.NAV,U.NOEMBED,U.NOFRAMES,U.NOSCRIPT,U.OBJECT,U.OL,U.P,U.PARAM,U.PLAINTEXT,U.PRE,U.SCRIPT,U.SECTION,U.SELECT,U.SOURCE,U.STYLE,U.SUMMARY,U.TABLE,U.TBODY,U.TD,U.TEMPLATE,U.TEXTAREA,U.TFOOT,U.TH,U.THEAD,U.TITLE,U.TR,U.TRACK,U.UL,U.WBR,U.XMP]),[O.MATHML]:new Set([U.MI,U.MO,U.MN,U.MS,U.MTEXT,U.ANNOTATION_XML]),[O.SVG]:new Set([U.TITLE,U.FOREIGN_OBJECT,U.DESC]),[O.XLINK]:new Set,[O.XML]:new Set,[O.XMLNS]:new Set},G=new Set([U.H1,U.H2,U.H3,U.H4,U.H5,U.H6]),n=new Set([N.STYLE,N.SCRIPT,N.XMP,N.IFRAME,N.NOEMBED,N.NOFRAMES,N.PLAINTEXT]);function r(E,T){return n.has(E)||T&&E===N.NOSCRIPT;}}>"  node_modules/parse5/dist/tokenizer/index.jsnode_modules/parse5/dist/tokenizer/index.jsfunction  (t,e,s,_){"use strict";var E,r;Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var s in e)Object.defineProperty(t,s,{enumerable:!0,get:e[s]});}(e,{Tokenizer:function(){return o;},TokenizerMode:function(){return O;}});let T=s("f4718d32"),i=s("d342ab36"),A=s("b7941f75"),S=s("42dc32b2"),C=s("42d73029"),D=s("f0b4b8b2");(r=E||(E={}))[r.DATA=0]="DATA",r[r.RCDATA=1]="RCDATA",r[r.RAWTEXT=2]="RAWTEXT",r[r.SCRIPT_DATA=3]="SCRIPT_DATA",r[r.PLAINTEXT=4]="PLAINTEXT",r[r.TAG_OPEN=5]="TAG_OPEN",r[r.END_TAG_OPEN=6]="END_TAG_OPEN",r[r.TAG_NAME=7]="TAG_NAME",r[r.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",r[r.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",r[r.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",r[r.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",r[r.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",r[r.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",r[r.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",r[r.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",r[r.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",r[r.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",r[r.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",r[r.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",r[r.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",r[r.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",r[r.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",r[r.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",r[r.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",r[r.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",r[r.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",r[r.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",r[r.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",r[r.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",r[r.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",r[r.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",r[r.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",r[r.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",r[r.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",r[r.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",r[r.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",r[r.BOGUS_COMMENT=40]="BOGUS_COMMENT",r[r.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",r[r.COMMENT_START=42]="COMMENT_START",r[r.COMMENT_START_DASH=43]="COMMENT_START_DASH",r[r.COMMENT=44]="COMMENT",r[r.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",r[r.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",r[r.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",r[r.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",r[r.COMMENT_END_DASH=49]="COMMENT_END_DASH",r[r.COMMENT_END=50]="COMMENT_END",r[r.COMMENT_END_BANG=51]="COMMENT_END_BANG",r[r.DOCTYPE=52]="DOCTYPE",r[r.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",r[r.DOCTYPE_NAME=54]="DOCTYPE_NAME",r[r.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",r[r.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",r[r.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",r[r.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",r[r.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",r[r.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",r[r.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",r[r.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",r[r.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",r[r.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",r[r.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",r[r.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",r[r.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",r[r.CDATA_SECTION=68]="CDATA_SECTION",r[r.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",r[r.CDATA_SECTION_END=70]="CDATA_SECTION_END",r[r.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",r[r.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND";let O={DATA:E.DATA,RCDATA:E.RCDATA,RAWTEXT:E.RAWTEXT,SCRIPT_DATA:E.SCRIPT_DATA,PLAINTEXT:E.PLAINTEXT,CDATA_SECTION:E.CDATA_SECTION};function h(t){return t>=i.CODE_POINTS.LATIN_CAPITAL_A&&t<=i.CODE_POINTS.LATIN_CAPITAL_Z;}function c(t){return t>=i.CODE_POINTS.LATIN_SMALL_A&&t<=i.CODE_POINTS.LATIN_SMALL_Z||h(t);}function N(t){return c(t)||t>=i.CODE_POINTS.DIGIT_0&&t<=i.CODE_POINTS.DIGIT_9;}function n(t){return t===i.CODE_POINTS.SPACE||t===i.CODE_POINTS.LINE_FEED||t===i.CODE_POINTS.TABULATION||t===i.CODE_POINTS.FORM_FEED;}function I(t){return n(t)||t===i.CODE_POINTS.SOLIDUS||t===i.CODE_POINTS.GREATER_THAN_SIGN;}class o{constructor(t,e){this.options=t,this.handler=e,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=E.DATA,this.returnState=E.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new T.Preprocessor(e),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new S.EntityDecoder(S.htmlDecodeTree,(t,e)=>{this.preprocessor.pos=this.entityStartPos+e-1,this._flushCodePointConsumedAsCharacterReference(t);},e.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(C.ERR.missingSemicolonAfterCharacterReference,1);},absenceOfDigitsInNumericCharacterReference:t=>{this._err(C.ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+t);},validateNumericCharacterReference:t=>{var e;let s=(e=t)===i.CODE_POINTS.NULL?C.ERR.nullCharacterReference:e>1114111?C.ERR.characterReferenceOutsideUnicodeRange:(0,i.isSurrogate)(e)?C.ERR.surrogateCharacterReference:(0,i.isUndefinedCodePoint)(e)?C.ERR.noncharacterCharacterReference:(0,i.isControlCodePoint)(e)||e===i.CODE_POINTS.CARRIAGE_RETURN?C.ERR.controlCharacterReference:null;s&&this._err(s,1);}}:void 0);}_err(t,e=0){var s,_;null===(_=(s=this.handler).onParseError)||void 0===_||_.call(s,this.preprocessor.getError(t,e));}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null;}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let t=this._consume();this._ensureHibernation()||this._callState(t);}this.inLoop=!1;}}pause(){this.paused=!0;}resume(t){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==t||t());}write(t,e,s){this.active=!0,this.preprocessor.write(t,e),this._runParsingLoop(),this.paused||null==s||s();}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop();}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0);}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance();}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let e=0;e<t;e++)this.preprocessor.advance();}_consumeSequenceIfMatch(t,e){return!!this.preprocessor.startsWith(t,e)&&(this._advanceBy(t.length-1),!0);}_createStartTagToken(){this.currentToken={type:A.TokenType.START_TAG,tagName:"",tagID:D.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)};}_createEndTagToken(){this.currentToken={type:A.TokenType.END_TAG,tagName:"",tagID:D.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)};}_createCommentToken(t){this.currentToken={type:A.TokenType.COMMENT,data:"",location:this.getCurrentLocation(t)};}_createDoctypeToken(t){this.currentToken={type:A.TokenType.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation};}_createCharacterToken(t,e){this.currentCharacterToken={type:t,chars:e,location:this.currentLocation};}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0);}_leaveAttrName(){var t,e;let s=this.currentToken;null===(0,A.getTokenAttr)(s,this.currentAttr.name)?(s.attrs.push(this.currentAttr),s.location&&this.currentLocation&&((null!==(t=(e=s.location).attrs)&&void 0!==t?t:e.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(C.ERR.duplicateAttribute);}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset);}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1);}emitCurrentTagToken(){let t=this.currentToken;this.prepareToken(t),t.tagID=(0,D.getTagID)(t.tagName),t.type===A.TokenType.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(C.ERR.endTagWithAttributes),t.selfClosing&&this._err(C.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk();}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk();}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk();}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case A.TokenType.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case A.TokenType.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case A.TokenType.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken);}this.currentCharacterToken=null;}}_emitEOFToken(){let t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:A.TokenType.EOF,location:t}),this.active=!1;}_appendCharToCurrentCharacterToken(t,e){if(this.currentCharacterToken){if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=e;return;}this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();}this._createCharacterToken(t,e);}_emitCodePoint(t){let e=n(t)?A.TokenType.WHITESPACE_CHARACTER:t===i.CODE_POINTS.NULL?A.TokenType.NULL_CHARACTER:A.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(e,String.fromCodePoint(t));}_emitChars(t){this._appendCharToCurrentCharacterToken(A.TokenType.CHARACTER,t);}_startCharacterReference(){this.returnState=this.state,this.state=E.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?S.DecodingMode.Attribute:S.DecodingMode.Legacy);}_isCharacterReferenceInAttribute(){return this.returnState===E.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===E.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===E.ATTRIBUTE_VALUE_UNQUOTED;}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t);}_callState(t){switch(this.state){case E.DATA:this._stateData(t);break;case E.RCDATA:this._stateRcdata(t);break;case E.RAWTEXT:this._stateRawtext(t);break;case E.SCRIPT_DATA:this._stateScriptData(t);break;case E.PLAINTEXT:this._statePlaintext(t);break;case E.TAG_OPEN:this._stateTagOpen(t);break;case E.END_TAG_OPEN:this._stateEndTagOpen(t);break;case E.TAG_NAME:this._stateTagName(t);break;case E.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(t);break;case E.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(t);break;case E.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(t);break;case E.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(t);break;case E.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(t);break;case E.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(t);break;case E.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(t);break;case E.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(t);break;case E.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(t);break;case E.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(t);break;case E.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(t);break;case E.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(t);break;case E.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(t);break;case E.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(t);break;case E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(t);break;case E.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(t);break;case E.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(t);break;case E.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(t);break;case E.ATTRIBUTE_NAME:this._stateAttributeName(t);break;case E.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(t);break;case E.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(t);break;case E.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(t);break;case E.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(t);break;case E.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(t);break;case E.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(t);break;case E.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(t);break;case E.BOGUS_COMMENT:this._stateBogusComment(t);break;case E.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(t);break;case E.COMMENT_START:this._stateCommentStart(t);break;case E.COMMENT_START_DASH:this._stateCommentStartDash(t);break;case E.COMMENT:this._stateComment(t);break;case E.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(t);break;case E.COMMENT_END_DASH:this._stateCommentEndDash(t);break;case E.COMMENT_END:this._stateCommentEnd(t);break;case E.COMMENT_END_BANG:this._stateCommentEndBang(t);break;case E.DOCTYPE:this._stateDoctype(t);break;case E.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(t);break;case E.DOCTYPE_NAME:this._stateDoctypeName(t);break;case E.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(t);break;case E.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(t);break;case E.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(t);break;case E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(t);break;case E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(t);break;case E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(t);break;case E.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break;case E.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(t);break;case E.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(t);break;case E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(t);break;case E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(t);break;case E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(t);break;case E.BOGUS_DOCTYPE:this._stateBogusDoctype(t);break;case E.CDATA_SECTION:this._stateCdataSection(t);break;case E.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(t);break;case E.CDATA_SECTION_END:this._stateCdataSectionEnd(t);break;case E.CHARACTER_REFERENCE:this._stateCharacterReference();break;case E.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(t);break;default:throw Error("Unknown state");}}_stateData(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.TAG_OPEN;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitCodePoint(t);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateRcdata(t){switch(t){case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.RCDATA_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateRawtext(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.RAWTEXT_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptData(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_statePlaintext(t){switch(t){case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateTagOpen(t){if(c(t))this._createStartTagToken(),this.state=E.TAG_NAME,this._stateTagName(t);else switch(t){case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.MARKUP_DECLARATION_OPEN;break;case i.CODE_POINTS.SOLIDUS:this.state=E.END_TAG_OPEN;break;case i.CODE_POINTS.QUESTION_MARK:this._err(C.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(C.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=E.DATA,this._stateData(t);}}_stateEndTagOpen(t){if(c(t))this._createEndTagToken(),this.state=E.TAG_NAME,this._stateTagName(t);else switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingEndTagName),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(C.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t);}}_stateTagName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.SOLIDUS:this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.tagName+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:e.tagName+=String.fromCodePoint(h(t)?t+32:t);}}_stateRcdataLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=E.RCDATA,this._stateRcdata(t));}_stateRcdataEndTagOpen(t){c(t)?(this.state=E.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=E.RCDATA,this._stateRcdata(t));}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=E.BEFORE_ATTRIBUTE_NAME,!1;case i.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=E.SELF_CLOSING_START_TAG,!1;case i.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=E.DATA,!1;default:return!this._ensureHibernation();}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.RCDATA,this._stateRcdata(t));}_stateRawtextLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateRawtextEndTagOpen(t){c(t)?(this.state=E.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateScriptDataLessThanSign(t){switch(t){case i.CODE_POINTS.SOLIDUS:this.state=E.SCRIPT_DATA_END_TAG_OPEN;break;case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=E.SCRIPT_DATA,this._stateScriptData(t);}}_stateScriptDataEndTagOpen(t){c(t)?(this.state=E.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscapeStart(t){t===i.CODE_POINTS.HYPHEN_MINUS?(this.state=E.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscapeStartDash(t){t===i.CODE_POINTS.HYPHEN_MINUS?(this.state=E.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscaped(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptDataEscapedDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataEscapedDashDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.SCRIPT_DATA,this._emitChars(">");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataEscapedLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:c(t)?(this._emitChars("<"),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataEscapedEndTagOpen(t){c(t)?(this.state=E.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(i.SEQUENCES.SCRIPT,!1)&&I(this.preprocessor.peek(i.SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let t=0;t<i.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED;}else this._ensureHibernation()||(this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataDoubleEscaped(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.SCRIPT_DATA,this._emitChars(">");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t));}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(i.SEQUENCES.SCRIPT,!1)&&I(this.preprocessor.peek(i.SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let t=0;t<i.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=E.SCRIPT_DATA_ESCAPED;}else this._ensureHibernation()||(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t));}_stateBeforeAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.SOLIDUS:case i.CODE_POINTS.GREATER_THAN_SIGN:case i.CODE_POINTS.EOF:this.state=E.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case i.CODE_POINTS.EQUALS_SIGN:this._err(C.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=E.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=E.ATTRIBUTE_NAME,this._stateAttributeName(t);}}_stateAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:case i.CODE_POINTS.SOLIDUS:case i.CODE_POINTS.GREATER_THAN_SIGN:case i.CODE_POINTS.EOF:this._leaveAttrName(),this.state=E.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case i.CODE_POINTS.EQUALS_SIGN:this._leaveAttrName(),this.state=E.BEFORE_ATTRIBUTE_VALUE;break;case i.CODE_POINTS.QUOTATION_MARK:case i.CODE_POINTS.APOSTROPHE:case i.CODE_POINTS.LESS_THAN_SIGN:this._err(C.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.name+=i.REPLACEMENT_CHARACTER;break;default:this.currentAttr.name+=String.fromCodePoint(h(t)?t+32:t);}}_stateAfterAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.SOLIDUS:this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.EQUALS_SIGN:this.state=E.BEFORE_ATTRIBUTE_VALUE;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=E.ATTRIBUTE_NAME,this._stateAttributeName(t);}}_stateBeforeAttributeValue(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:this.state=E.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this.state=E.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingAttributeValue),this.state=E.DATA,this.emitCurrentTagToken();break;default:this.state=E.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t);}}_stateAttributeValueDoubleQuoted(t){switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAttributeValueSingleQuoted(t){switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAttributeValueUnquoted(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.QUOTATION_MARK:case i.CODE_POINTS.APOSTROPHE:case i.CODE_POINTS.LESS_THAN_SIGN:case i.CODE_POINTS.EQUALS_SIGN:case i.CODE_POINTS.GRAVE_ACCENT:this._err(C.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAfterAttributeValueQuoted(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.SOLIDUS:this._leaveAttrValue(),this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._err(C.ERR.missingWhitespaceBetweenAttributes),this.state=E.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t);}}_stateSelfClosingStartTag(t){switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._err(C.ERR.unexpectedSolidusInTag),this.state=E.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t);}}_stateBogusComment(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this.emitCurrentComment(e),this._emitEOFToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.data+=i.REPLACEMENT_CHARACTER;break;default:e.data+=String.fromCodePoint(t);}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(i.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(i.SEQUENCES.DASH_DASH.length+1),this.state=E.COMMENT_START):this._consumeSequenceIfMatch(i.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(i.SEQUENCES.DOCTYPE.length+1),this.state=E.DOCTYPE):this._consumeSequenceIfMatch(i.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=E.CDATA_SECTION:(this._err(C.ERR.cdataInHtmlContent),this._createCommentToken(i.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=E.BOGUS_COMMENT):this._ensureHibernation()||(this._err(C.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t));}_stateCommentStart(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_START_DASH;break;case i.CODE_POINTS.GREATER_THAN_SIGN:{this._err(C.ERR.abruptClosingOfEmptyComment),this.state=E.DATA;let t=this.currentToken;this.emitCurrentComment(t);break;}default:this.state=E.COMMENT,this._stateComment(t);}}_stateCommentStartDash(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptClosingOfEmptyComment),this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=E.COMMENT,this._stateComment(t);}}_stateComment(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END_DASH;break;case i.CODE_POINTS.LESS_THAN_SIGN:e.data+="<",this.state=E.COMMENT_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.data+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+=String.fromCodePoint(t);}}_stateCommentLessThanSign(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.EXCLAMATION_MARK:e.data+="!",this.state=E.COMMENT_LESS_THAN_SIGN_BANG;break;case i.CODE_POINTS.LESS_THAN_SIGN:e.data+="<";break;default:this.state=E.COMMENT,this._stateComment(t);}}_stateCommentLessThanSignBang(t){t===i.CODE_POINTS.HYPHEN_MINUS?this.state=E.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=E.COMMENT,this._stateComment(t));}_stateCommentLessThanSignBangDash(t){t===i.CODE_POINTS.HYPHEN_MINUS?this.state=E.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=E.COMMENT_END_DASH,this._stateCommentEndDash(t));}_stateCommentLessThanSignBangDashDash(t){t!==i.CODE_POINTS.GREATER_THAN_SIGN&&t!==i.CODE_POINTS.EOF&&this._err(C.ERR.nestedComment),this.state=E.COMMENT_END,this._stateCommentEnd(t);}_stateCommentEndDash(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=E.COMMENT,this._stateComment(t);}}_stateCommentEnd(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.COMMENT_END_BANG;break;case i.CODE_POINTS.HYPHEN_MINUS:e.data+="-";break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--",this.state=E.COMMENT,this._stateComment(t);}}_stateCommentEndBang(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:e.data+="--!",this.state=E.COMMENT_END_DASH;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.incorrectlyClosedComment),this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--!",this.state=E.COMMENT,this._stateComment(t);}}_stateDoctype(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break;case i.CODE_POINTS.EOF:{this._err(C.ERR.eofInDoctype),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;}default:this._err(C.ERR.missingWhitespaceBeforeDoctypeName),this.state=E.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);}}_stateBeforeDoctypeName(t){if(h(t))this._createDoctypeToken(String.fromCharCode(t+32)),this.state=E.DOCTYPE_NAME;else switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._createDoctypeToken(i.REPLACEMENT_CHARACTER),this.state=E.DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:{this._err(C.ERR.missingDoctypeName),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=E.DATA;break;}case i.CODE_POINTS.EOF:{this._err(C.ERR.eofInDoctype),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=E.DOCTYPE_NAME;}}_stateDoctypeName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.AFTER_DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.name+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.name+=String.fromCodePoint(h(t)?t+32:t);}}_stateAfterDoctypeName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(i.SEQUENCES.PUBLIC,!1)?this.state=E.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(i.SEQUENCES.SYSTEM,!1)?this.state=E.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(C.ERR.invalidCharacterSequenceAfterDoctypeName),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t));}}_stateAfterDoctypePublicKeyword(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBeforeDoctypePublicIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateDoctypePublicIdentifierDoubleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.publicId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t);}}_stateDoctypePublicIdentifierSingleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.publicId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t);}}_stateAfterDoctypePublicIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.QUOTATION_MARK:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateAfterDoctypeSystemKeyword(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBeforeDoctypeSystemIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateDoctypeSystemIdentifierDoubleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.systemId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t);}}_stateDoctypeSystemIdentifierSingleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.systemId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t);}}_stateAfterDoctypeSystemIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBogusDoctype(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter);break;case i.CODE_POINTS.EOF:this.emitCurrentDoctype(e),this._emitEOFToken();}}_stateCdataSection(t){switch(t){case i.CODE_POINTS.RIGHT_SQUARE_BRACKET:this.state=E.CDATA_SECTION_BRACKET;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateCdataSectionBracket(t){t===i.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=E.CDATA_SECTION_END:(this._emitChars("]"),this.state=E.CDATA_SECTION,this._stateCdataSection(t));}_stateCdataSectionEnd(t){switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA;break;case i.CODE_POINTS.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=E.CDATA_SECTION,this._stateCdataSection(t);}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0){if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return;}}0===t?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(i.CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&N(this.preprocessor.peek(1))?E.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState;}_stateAmbiguousAmpersand(t){N(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===i.CODE_POINTS.SEMICOLON&&this._err(C.ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t));}}}  p  :node_modules/parse5/dist/tokenizer/preprocessor.jsnode_modules/parse5/dist/tokenizer/preprocessor.jsfunction  (t,s,i,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Preprocessor",{enumerable:!0,get:function(){return n;}});let h=i("d342ab36"),r=i("42d73029");class n{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1;}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos);}get offset(){return this.droppedBufferSize+this.pos;}getError(t,s){let{line:i,col:e,offset:h}=this,r=e+s,n=h+s;return{code:t,startLine:i,endLine:i,startCol:r,endCol:r,startOffset:n,endOffset:n};}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)));}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos;}_processSurrogate(t){if(this.pos!==this.html.length-1){let s=this.html.charCodeAt(this.pos+1);if((0,h.isSurrogatePair)(s))return this.pos++,this._addGap(),(0,h.getSurrogatePairCodePoint)(t,s);}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,h.CODE_POINTS.EOF;return this._err(r.ERR.surrogateInInputStream),t;}willDropParsedChunk(){return this.pos>this.bufferWaterline;}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0);}write(t,s){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=s;}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1;}startsWith(t,s){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(s)return this.html.startsWith(t,this.pos);for(let s=0;s<t.length;s++)if((32|this.html.charCodeAt(this.pos+s))!==t.charCodeAt(s))return!1;return!0;}peek(t){let s=this.pos+t;if(s>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,h.CODE_POINTS.EOF;let i=this.html.charCodeAt(s);return i===h.CODE_POINTS.CARRIAGE_RETURN?h.CODE_POINTS.LINE_FEED:i;}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,h.CODE_POINTS.EOF;let t=this.html.charCodeAt(this.pos);return t===h.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,h.CODE_POINTS.LINE_FEED):t===h.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,h.isSurrogate)(t)&&(t=this._processSurrogate(t)),null===this.handler.onParseError||t>31&&t<127||t===h.CODE_POINTS.LINE_FEED||t===h.CODE_POINTS.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t);}_checkForProblematicCharacters(t){(0,h.isControlCodePoint)(t)?this._err(r.ERR.controlCharacterInInputStream):(0,h.isUndefinedCodePoint)(t)&&this._err(r.ERR.noncharacterInInputStream);}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1;}}}    0node_modules/parse5/dist/parser/formatting-element-list.jsnode_modules/parse5/dist/parser/formatting-element-list.jsfunction  (e,t,r,n){"use strict";var i,s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]});}(t,{EntryType:function(){return i;},FormattingElementList:function(){return h;}}),(s=i||(i={}))[s.Marker=0]="Marker",s[s.Element=1]="Element";let l={type:i.Marker};class h{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null;}_getNoahArkConditionCandidates(e,t){let r=[],n=t.length,s=this.treeAdapter.getTagName(e),l=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){let t=this.entries[e];if(t.type===i.Marker)break;let{element:h}=t;if(this.treeAdapter.getTagName(h)===s&&this.treeAdapter.getNamespaceURI(h)===l){let t=this.treeAdapter.getAttrList(h);t.length===n&&r.push({idx:e,attrs:t});}}return r;}_ensureNoahArkCondition(e){if(this.entries.length<3)return;let t=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,t);if(r.length<3)return;let n=new Map(t.map(e=>[e.name,e.value])),i=0;for(let e=0;e<r.length;e++){let t=r[e];t.attrs.every(e=>n.get(e.name)===e.value)&&(i+=1)>=3&&this.entries.splice(t.idx,1);}}insertMarker(){this.entries.unshift(l);}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:i.Element,element:e,token:t});}insertElementAfterBookmark(e,t){let r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:i.Element,element:e,token:t});}removeEntry(e){let t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1);}clearToLastMarker(){let e=this.entries.indexOf(l);e>=0?this.entries.splice(0,e+1):this.entries.length=0;}getElementEntryInScopeWithTagName(e){let t=this.entries.find(t=>t.type===i.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===i.Element?t:null;}getElementEntry(e){return this.entries.find(t=>t.type===i.Element&&t.element===e);}}}  B  node_modules/parse5/dist/index.jsnode_modules/parse5/dist/index.jsfunction  (e,r,t,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]});}(r,{html:function(){return o;},parse:function(){return s;},parseFragment:function(){return c;},serializeOuter:function(){return f.serializeOuter;}});let i=t("@swc/helpers/_/_interop_require_wildcard"),u=t("253158f3"),f=t("82d47fba");t("42d73029"),t("8ddbe450");let o=i._(t("f0b4b8b2"));function s(e,r){return u.Parser.parse(e,r);}function c(e,r,t){"string"==typeof e&&(t=r,r=e,e=null);let n=u.Parser.getFragmentParser(e,t);return n.tokenizer.write(r,!0),n.getFragment();}t("b7941f75"),t("507960b3");}    fnode_modules/parse5/dist/tree-adapters/default.jsnode_modules/parse5/dist/tree-adapters/default.jsfunction  (e,t,o,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultTreeAdapter",{enumerable:!0,get:function(){return c;}});let n=o("f0b4b8b2"),c={createDocument:()=>({nodeName:"#document",mode:n.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,o)=>({nodeName:e,tagName:e,attrs:o,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e;},insertBefore(e,t,o){let d=e.childNodes.indexOf(o);e.childNodes.splice(d,0,t),t.parentNode=e;},setTemplateContent(e,t){e.content=t;},getTemplateContent:e=>e.content,setDocumentType(e,t,o,d){let n=e.childNodes.find(e=>"#documentType"===e.nodeName);n?(n.name=t,n.publicId=o,n.systemId=d):c.appendChild(e,{nodeName:"#documentType",name:t,publicId:o,systemId:d,parentNode:null});},setDocumentMode(e,t){e.mode=t;},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null;}},insertText(e,t){if(e.childNodes.length>0){let o=e.childNodes[e.childNodes.length-1];if(c.isTextNode(o)){o.value+=t;return;}}c.appendChild(e,c.createTextNode(t));},insertTextBefore(e,t,o){let d=e.childNodes[e.childNodes.indexOf(o)-1];d&&c.isTextNode(d)?d.value+=t:c.insertBefore(e,c.createTextNode(t),o);},adoptAttributes(e,t){let o=new Set(e.attrs.map(e=>e.name));for(let d=0;d<t.length;d++)o.has(t[d].name)||e.attrs.push(t[d]);},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t;},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t};}};} M	  node_modules/parse5/dist/parser/open-element-stack.jsnode_modules/parse5/dist/parser/open-element-stack.jsfunction  (t,e,s,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"OpenElementStack",{enumerable:!0,get:function(){return u;}});let i=s("f0b4b8b2"),r=new Set([i.TAG_ID.DD,i.TAG_ID.DT,i.TAG_ID.LI,i.TAG_ID.OPTGROUP,i.TAG_ID.OPTION,i.TAG_ID.P,i.TAG_ID.RB,i.TAG_ID.RP,i.TAG_ID.RT,i.TAG_ID.RTC]),h=new Set([...r,i.TAG_ID.CAPTION,i.TAG_ID.COLGROUP,i.TAG_ID.TBODY,i.TAG_ID.TD,i.TAG_ID.TFOOT,i.TAG_ID.TH,i.TAG_ID.THEAD,i.TAG_ID.TR]),n=new Set([i.TAG_ID.APPLET,i.TAG_ID.CAPTION,i.TAG_ID.HTML,i.TAG_ID.MARQUEE,i.TAG_ID.OBJECT,i.TAG_ID.TABLE,i.TAG_ID.TD,i.TAG_ID.TEMPLATE,i.TAG_ID.TH]),o=new Set([...n,i.TAG_ID.OL,i.TAG_ID.UL]),I=new Set([...n,i.TAG_ID.BUTTON]),p=new Set([i.TAG_ID.ANNOTATION_XML,i.TAG_ID.MI,i.TAG_ID.MN,i.TAG_ID.MO,i.TAG_ID.MS,i.TAG_ID.MTEXT]),c=new Set([i.TAG_ID.DESC,i.TAG_ID.FOREIGN_OBJECT,i.TAG_ID.TITLE]),D=new Set([i.TAG_ID.TR,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),l=new Set([i.TAG_ID.TBODY,i.TAG_ID.TFOOT,i.TAG_ID.THEAD,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),A=new Set([i.TAG_ID.TABLE,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),_=new Set([i.TAG_ID.TD,i.TAG_ID.TH]);class u{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current;}constructor(t,e,s){this.treeAdapter=e,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=i.TAG_ID.UNKNOWN,this.current=t;}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop);}_isInTemplate(){return this.currentTagId===i.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===i.NS.HTML;}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop];}push(t,e){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=e,this.currentTagId=e,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,e,!0);}pop(){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0);}replace(t,e){let s=this._indexOf(t);this.items[s]=e,s===this.stackTop&&(this.current=e);}insertAfter(t,e,s){let T=this._indexOf(t)+1;this.items.splice(T,0,e),this.tagIDs.splice(T,0,s),this.stackTop++,T===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,T===this.stackTop);}popUntilTagNamePopped(t){let e=this.stackTop+1;do e=this.tagIDs.lastIndexOf(t,e-1);while(e>0&&this.treeAdapter.getNamespaceURI(this.items[e])!==i.NS.HTML)this.shortenToLength(e<0?0:e);}shortenToLength(t){for(;this.stackTop>=t;){let e=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,this.stackTop<t);}}popUntilElementPopped(t){let e=this._indexOf(t);this.shortenToLength(e<0?0:e);}popUntilPopped(t,e){let s=this._indexOfTagNames(t,e);this.shortenToLength(s<0?0:s);}popUntilNumberedHeaderPopped(){this.popUntilPopped(i.NUMBERED_HEADERS,i.NS.HTML);}popUntilTableCellPopped(){this.popUntilPopped(_,i.NS.HTML);}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1);}_indexOfTagNames(t,e){for(let s=this.stackTop;s>=0;s--)if(t.has(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===e)return s;return -1;}clearBackTo(t,e){let s=this._indexOfTagNames(t,e);this.shortenToLength(s+1);}clearBackToTableContext(){this.clearBackTo(A,i.NS.HTML);}clearBackToTableBodyContext(){this.clearBackTo(l,i.NS.HTML);}clearBackToTableRowContext(){this.clearBackTo(D,i.NS.HTML);}remove(t){let e=this._indexOf(t);e>=0&&(e===this.stackTop?this.pop():(this.items.splice(e,1),this.tagIDs.splice(e,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)));}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===i.TAG_ID.BODY?this.items[1]:null;}contains(t){return this._indexOf(t)>-1;}getCommonAncestor(t){let e=this._indexOf(t)-1;return e>=0?this.items[e]:null;}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===i.TAG_ID.HTML;}hasInDynamicScope(t,e){for(let s=this.stackTop;s>=0;s--){let T=this.tagIDs[s];switch(this.treeAdapter.getNamespaceURI(this.items[s])){case i.NS.HTML:if(T===t)return!0;if(e.has(T))return!1;break;case i.NS.SVG:if(c.has(T))return!1;break;case i.NS.MATHML:if(p.has(T))return!1;}}return!0;}hasInScope(t){return this.hasInDynamicScope(t,n);}hasInListItemScope(t){return this.hasInDynamicScope(t,o);}hasInButtonScope(t){return this.hasInDynamicScope(t,I);}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){let e=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case i.NS.HTML:if(i.NUMBERED_HEADERS.has(e))return!0;if(n.has(e))return!1;break;case i.NS.SVG:if(c.has(e))return!1;break;case i.NS.MATHML:if(p.has(e))return!1;}}return!0;}hasInTableScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===i.NS.HTML)switch(this.tagIDs[e]){case t:return!0;case i.TAG_ID.TABLE:case i.TAG_ID.HTML:return!1;}return!0;}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===i.NS.HTML)switch(this.tagIDs[t]){case i.TAG_ID.TBODY:case i.TAG_ID.THEAD:case i.TAG_ID.TFOOT:return!0;case i.TAG_ID.TABLE:case i.TAG_ID.HTML:return!1;}return!0;}hasInSelectScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===i.NS.HTML)switch(this.tagIDs[e]){case t:return!0;case i.TAG_ID.OPTION:case i.TAG_ID.OPTGROUP:break;default:return!1;}return!0;}generateImpliedEndTags(){for(;r.has(this.currentTagId);)this.pop();}generateImpliedEndTagsThoroughly(){for(;h.has(this.currentTagId);)this.pop();}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&h.has(this.currentTagId);)this.pop();}}}   j,            ,           4            2   (        2   J                `    *           *           8        C  5  .   ,        .   J                1    *           *                       (           (           d          B  (   X        (   p                   '           '                   >"  D  +           +                    p  S 2           2                     m  :           :           ,        B    !            !   1                  K  1           1           `        M	  p  5   T        5   y        4          )  (function(_){for(var r in _){_[r].__farm_resource_pot__='file://'+__filename;(globalThis || window || global)['f081367f80fe14896375a9f8b8918ca3'].__farm_module_system__.register(r,_[r])}})({"253158f3":function  (e,t,n,s){"use strict";var T,o;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return N;}});let r=n("@swc/helpers/_/_interop_require_wildcard"),i=n("507960b3"),c=n("beb501d5"),E=n("47ec597a"),_=n("39171beb"),A=r._(n("559e374d")),I=r._(n("8ddbe450")),l=n("42d73029"),D=r._(n("d342ab36")),p=n("f0b4b8b2"),m=n("b7941f75");(o=T||(T={}))[o.INITIAL=0]="INITIAL",o[o.BEFORE_HTML=1]="BEFORE_HTML",o[o.BEFORE_HEAD=2]="BEFORE_HEAD",o[o.IN_HEAD=3]="IN_HEAD",o[o.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",o[o.AFTER_HEAD=5]="AFTER_HEAD",o[o.IN_BODY=6]="IN_BODY",o[o.TEXT=7]="TEXT",o[o.IN_TABLE=8]="IN_TABLE",o[o.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",o[o.IN_CAPTION=10]="IN_CAPTION",o[o.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",o[o.IN_TABLE_BODY=12]="IN_TABLE_BODY",o[o.IN_ROW=13]="IN_ROW",o[o.IN_CELL=14]="IN_CELL",o[o.IN_SELECT=15]="IN_SELECT",o[o.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",o[o.IN_TEMPLATE=17]="IN_TEMPLATE",o[o.AFTER_BODY=18]="AFTER_BODY",o[o.IN_FRAMESET=19]="IN_FRAMESET",o[o.AFTER_FRAMESET=20]="AFTER_FRAMESET",o[o.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",o[o.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let G={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},d=new Set([p.TAG_ID.TABLE,p.TAG_ID.TBODY,p.TAG_ID.TFOOT,p.TAG_ID.THEAD,p.TAG_ID.TR]),h={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:_.defaultTreeAdapter,onParseError:null};class N{constructor(e,t,n=null,s=null){this.fragmentContext=n,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=T.INITIAL,this.originalInsertionMode=T.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...h,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new i.Tokenizer(this.options,this),this.activeFormattingElements=new E.FormattingElementList(this.treeAdapter),this.fragmentContextID=n?(0,p.getTagID)(this.treeAdapter.getTagName(n)):p.TAG_ID.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new c.OpenElementStack(this.document,this.treeAdapter,this);}static parse(e,t){let n=new this(t);return n.tokenizer.write(e,!0),n.document;}static getFragmentParser(e,t){let n={...h,...t};null!=e||(e=n.treeAdapter.createElement(p.TAG_NAMES.TEMPLATE,p.NS.HTML,[]));let s=n.treeAdapter.createElement("documentmock",p.NS.HTML,[]),o=new this(n,s,e);return o.fragmentContextID===p.TAG_ID.TEMPLATE&&o.tmplInsertionModeStack.unshift(T.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o;}getFragment(){let e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t;}_err(e,t,n){var s;if(!this.onParseError)return;let T=null!==(s=e.location)&&void 0!==s?s:G,o={code:t,startLine:T.startLine,startCol:T.startCol,startOffset:T.startOffset,endLine:n?T.startLine:T.endLine,endCol:n?T.startCol:T.endCol,endOffset:n?T.startOffset:T.endOffset};this.onParseError(o);}onItemPush(e,t,n){var s,T;null===(T=(s=this.treeAdapter).onItemPush)||void 0===T||T.call(s,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t);}onItemPop(e,t){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(s=(n=this.treeAdapter).onItemPop)||void 0===s||s.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):{current:e,currentTagId:t}=this.openElements,this._setContextModes(e,t);}}_setContextModes(e,t){let n=e===this.document||this.treeAdapter.getNamespaceURI(e)===p.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e);}_switchToTextParsing(e,t){this._insertElement(e,p.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=T.TEXT;}switchToPlaintextParsing(){this.insertionMode=T.TEXT,this.originalInsertionMode=T.IN_BODY,this.tokenizer.state=i.TokenizerMode.PLAINTEXT;}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current;}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===p.TAG_NAMES.FORM){this.formElement=e;break;}e=this.treeAdapter.getParentNode(e);}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.NS.HTML)switch(this.fragmentContextID){case p.TAG_ID.TITLE:case p.TAG_ID.TEXTAREA:this.tokenizer.state=i.TokenizerMode.RCDATA;break;case p.TAG_ID.STYLE:case p.TAG_ID.XMP:case p.TAG_ID.IFRAME:case p.TAG_ID.NOEMBED:case p.TAG_ID.NOFRAMES:case p.TAG_ID.NOSCRIPT:this.tokenizer.state=i.TokenizerMode.RAWTEXT;break;case p.TAG_ID.SCRIPT:this.tokenizer.state=i.TokenizerMode.SCRIPT_DATA;break;case p.TAG_ID.PLAINTEXT:this.tokenizer.state=i.TokenizerMode.PLAINTEXT;}}_setDocumentType(e){let t=e.name||"",n=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,s),e.location){let t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location);}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){let n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n);}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{let t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e);}}_appendElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location);}_insertElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID);}_insertFakeElement(e,t){let n=this.treeAdapter.createElement(e,p.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t);}_insertTemplate(e){let t=this.treeAdapter.createElement(e.tagName,p.NS.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null);}_insertFakeRootElement(){let e=this.treeAdapter.createElement(p.TAG_NAMES.HTML,p.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,p.TAG_ID.HTML);}_appendCommentNode(e,t){let n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location);}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;let s=this.treeAdapter.getChildNodes(t),T=n?s.lastIndexOf(n):s.length,o=s[T-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){let{endLine:t,endCol:n,endOffset:s}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:s});}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location);}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n);}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){let n=t.location,s=this.treeAdapter.getTagName(e),T=t.type===m.TokenType.END_TAG&&s===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,T);}}shouldProcessStartTagTokenInForeignContent(e){let t,n;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):{current:t,currentTagId:n}=this.openElements,(e.tagID!==p.TAG_ID.SVG||this.treeAdapter.getTagName(t)!==p.TAG_NAMES.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==p.NS.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===p.TAG_ID.MGLYPH||e.tagID===p.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,t,p.NS.HTML)));}_processToken(e){switch(e.type){case m.TokenType.CHARACTER:this.onCharacter(e);break;case m.TokenType.NULL_CHARACTER:this.onNullCharacter(e);break;case m.TokenType.COMMENT:this.onComment(e);break;case m.TokenType.DOCTYPE:this.onDoctype(e);break;case m.TokenType.START_TAG:this._processStartTag(e);break;case m.TokenType.END_TAG:this.onEndTag(e);break;case m.TokenType.EOF:this.onEof(e);break;case m.TokenType.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e);}}_isIntegrationPoint(e,t,n){let s=this.treeAdapter.getNamespaceURI(t),T=this.treeAdapter.getAttrList(t);return I.isIntegrationPoint(e,s,T,n);}_reconstructActiveFormattingElements(){let e=this.activeFormattingElements.entries.length;if(e){let t=this.activeFormattingElements.entries.findIndex(e=>e.type===E.EntryType.Marker||this.openElements.contains(e.element)),n=t<0?e-1:t-1;for(let e=n;e>=0;e--){let t=this.activeFormattingElements.entries[e];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current;}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=T.IN_ROW;}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.P),this.openElements.popUntilTagNamePopped(p.TAG_ID.P);}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case p.TAG_ID.TR:this.insertionMode=T.IN_ROW;return;case p.TAG_ID.TBODY:case p.TAG_ID.THEAD:case p.TAG_ID.TFOOT:this.insertionMode=T.IN_TABLE_BODY;return;case p.TAG_ID.CAPTION:this.insertionMode=T.IN_CAPTION;return;case p.TAG_ID.COLGROUP:this.insertionMode=T.IN_COLUMN_GROUP;return;case p.TAG_ID.TABLE:this.insertionMode=T.IN_TABLE;return;case p.TAG_ID.BODY:this.insertionMode=T.IN_BODY;return;case p.TAG_ID.FRAMESET:this.insertionMode=T.IN_FRAMESET;return;case p.TAG_ID.SELECT:this._resetInsertionModeForSelect(e);return;case p.TAG_ID.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case p.TAG_ID.HTML:this.insertionMode=this.headElement?T.AFTER_HEAD:T.BEFORE_HEAD;return;case p.TAG_ID.TD:case p.TAG_ID.TH:if(e>0){this.insertionMode=T.IN_CELL;return;}break;case p.TAG_ID.HEAD:if(e>0){this.insertionMode=T.IN_HEAD;return;}}this.insertionMode=T.IN_BODY;}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){let e=this.openElements.tagIDs[t];if(e===p.TAG_ID.TEMPLATE)break;if(e===p.TAG_ID.TABLE){this.insertionMode=T.IN_SELECT_IN_TABLE;return;}}this.insertionMode=T.IN_SELECT;}_isElementCausesFosterParenting(e){return d.has(e);}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId);}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){let t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case p.TAG_ID.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===p.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case p.TAG_ID.TABLE:{let n=this.treeAdapter.getParentNode(t);if(n)return{parent:n,beforeElement:t};return{parent:this.openElements.items[e-1],beforeElement:null};}}}return{parent:this.openElements.items[0],beforeElement:null};}_fosterParentElement(e){let t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e);}_isSpecialElement(e,t){let n=this.treeAdapter.getNamespaceURI(e);return p.SPECIAL_ELEMENTS[n].has(t);}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(e),this.framesetOk=!1;return;}switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.IN_BODY:case T.IN_CAPTION:case T.IN_CELL:case T.IN_TEMPLATE:F(this,e);break;case T.TEXT:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_TABLE_TEXT:Q(this,e);break;case T.IN_COLUMN_GROUP:$(this,e);break;case T.AFTER_BODY:ei(this,e);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){e.chars=D.REPLACEMENT_CHARACTER,this._insertCharacters(e);return;}switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.TEXT:this._insertCharacters(e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_COLUMN_GROUP:$(this,e);break;case T.AFTER_BODY:ei(this,e);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){O(this,e);return;}switch(this.insertionMode){case T.INITIAL:case T.BEFORE_HTML:case T.BEFORE_HEAD:case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:case T.IN_BODY:case T.IN_TABLE:case T.IN_CAPTION:case T.IN_COLUMN_GROUP:case T.IN_TABLE_BODY:case T.IN_ROW:case T.IN_CELL:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:case T.IN_TEMPLATE:case T.IN_FRAMESET:case T.AFTER_FRAMESET:O(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0]);}(this,e);break;case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document);}(this,e);}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case T.INITIAL:!function(e,t){e._setDocumentType(t);let n=t.forceQuirks?p.DOCUMENT_MODE.QUIRKS:A.getDocumentMode(t);A.isConforming(t)||e._err(t,l.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=T.BEFORE_HTML;}(this,e);break;case T.BEFORE_HEAD:case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:this._err(e,l.ERR.misplacedDoctype);break;case T.IN_TABLE_TEXT:J(this,e);}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,l.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(I.causesExit(t))eE(e),e._startTagOutsideForeignContent(t);else{let n=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(n);s===p.NS.MATHML?I.adjustTokenMathMLAttrs(t):s===p.NS.SVG&&(I.adjustTokenSVGTagName(t),I.adjustTokenSVGAttrs(t)),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0;}}(this,e):this._startTagOutsideForeignContent(e);}_startTagOutsideForeignContent(e){switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:e.tagID===p.TAG_ID.HTML?(this._insertElement(e,p.NS.HTML),this.insertionMode=T.BEFORE_HEAD):g(this,e);break;case T.BEFORE_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.HEAD:e._insertElement(t,p.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=T.IN_HEAD;break;default:R(e,t);}}(this,e);break;case T.IN_HEAD:C(this,e);break;case T.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.HEAD:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.STYLE:C(e,t);break;case p.TAG_ID.NOSCRIPT:e._err(t,l.ERR.nestedNoscriptInHead);break;default:b(e,t);}}(this,e);break;case T.AFTER_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BODY:e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=T.IN_BODY;break;case p.TAG_ID.FRAMESET:e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_FRAMESET;break;case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.SCRIPT:case p.TAG_ID.STYLE:case p.TAG_ID.TEMPLATE:case p.TAG_ID.TITLE:e._err(t,l.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,p.TAG_ID.HEAD),C(e,t),e.openElements.remove(e.headElement);break;case p.TAG_ID.HEAD:e._err(t,l.ERR.misplacedStartTagForHeadElement);break;default:f(e,t);}}(this,e);break;case T.IN_BODY:w(this,e);break;case T.IN_TABLE:z(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_CAPTION:!function(e,t){let n=t.tagID;q.has(n)?e.openElements.hasInTableScope(p.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_TABLE,z(e,t)):w(e,t);}(this,e);break;case T.IN_COLUMN_GROUP:Z(this,e);break;case T.IN_TABLE_BODY:ee(this,e);break;case T.IN_ROW:en(this,e);break;case T.IN_CELL:!function(e,t){let n=t.tagID;q.has(n)?(e.openElements.hasInTableScope(p.TAG_ID.TD)||e.openElements.hasInTableScope(p.TAG_ID.TH))&&(e._closeTableCell(),en(e,t)):w(e,t);}(this,e);break;case T.IN_SELECT:ea(this,e);break;case T.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===p.TAG_ID.CAPTION||n===p.TAG_ID.TABLE||n===p.TAG_ID.TBODY||n===p.TAG_ID.TFOOT||n===p.TAG_ID.THEAD||n===p.TAG_ID.TR||n===p.TAG_ID.TD||n===p.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ea(e,t);}(this,e);break;case T.IN_TEMPLATE:!function(e,t){switch(t.tagID){case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.SCRIPT:case p.TAG_ID.STYLE:case p.TAG_ID.TEMPLATE:case p.TAG_ID.TITLE:C(e,t);break;case p.TAG_ID.CAPTION:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.tmplInsertionModeStack[0]=T.IN_TABLE,e.insertionMode=T.IN_TABLE,z(e,t);break;case p.TAG_ID.COL:e.tmplInsertionModeStack[0]=T.IN_COLUMN_GROUP,e.insertionMode=T.IN_COLUMN_GROUP,Z(e,t);break;case p.TAG_ID.TR:e.tmplInsertionModeStack[0]=T.IN_TABLE_BODY,e.insertionMode=T.IN_TABLE_BODY,ee(e,t);break;case p.TAG_ID.TD:case p.TAG_ID.TH:e.tmplInsertionModeStack[0]=T.IN_ROW,e.insertionMode=T.IN_ROW,en(e,t);break;default:e.tmplInsertionModeStack[0]=T.IN_BODY,e.insertionMode=T.IN_BODY,w(e,t);}}(this,e);break;case T.AFTER_BODY:e.tagID===p.TAG_ID.HTML?w(this,e):ei(this,e);break;case T.IN_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.FRAMESET:e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.FRAME:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);break;case T.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);break;case T.AFTER_AFTER_BODY:e.tagID===p.TAG_ID.HTML?w(this,e):ec(this,e);break;case T.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===p.TAG_ID.P||t.tagID===p.TAG_ID.BR){eE(e),e._endTagOutsideForeignContent(t);return;}for(let n=e.openElements.stackTop;n>0;n--){let s=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(s)===p.NS.HTML){e._endTagOutsideForeignContent(t);break;}let T=e.treeAdapter.getTagName(s);if(T.toLowerCase()===t.tagName){t.tagName=T,e.openElements.shortenToLength(n);break;}}}(this,e):this._endTagOutsideForeignContent(e);}_endTagOutsideForeignContent(e){var t;switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:!function(e,t){let n=t.tagID;(n===p.TAG_ID.HTML||n===p.TAG_ID.HEAD||n===p.TAG_ID.BODY||n===p.TAG_ID.BR)&&g(e,t);}(this,e);break;case T.BEFORE_HEAD:!function(e,t){let n=t.tagID;n===p.TAG_ID.HEAD||n===p.TAG_ID.BODY||n===p.TAG_ID.HTML||n===p.TAG_ID.BR?R(e,t):e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}(this,e);break;case T.IN_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HEAD:e.openElements.pop(),e.insertionMode=T.AFTER_HEAD;break;case p.TAG_ID.BODY:case p.TAG_ID.BR:case p.TAG_ID.HTML:S(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case p.TAG_ID.NOSCRIPT:e.openElements.pop(),e.insertionMode=T.IN_HEAD;break;case p.TAG_ID.BR:b(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.AFTER_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.BODY:case p.TAG_ID.HTML:case p.TAG_ID.BR:f(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.IN_BODY:y(this,e);break;case T.TEXT:e.tagID===p.TAG_ID.SCRIPT&&(null===(t=this.scriptHandler)||void 0===t||t.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case T.IN_TABLE:K(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_CAPTION:!function(e,t){let n=t.tagID;switch(n){case p.TAG_ID.CAPTION:case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_TABLE,n===p.TAG_ID.TABLE&&K(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TBODY:case p.TAG_ID.TD:case p.TAG_ID.TFOOT:case p.TAG_ID.TH:case p.TAG_ID.THEAD:case p.TAG_ID.TR:break;default:y(e,t);}}(this,e);break;case T.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case p.TAG_ID.COLGROUP:e.openElements.currentTagId===p.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=T.IN_TABLE);break;case p.TAG_ID.TEMPLATE:u(e,t);break;case p.TAG_ID.COL:break;default:$(e,t);}}(this,e);break;case T.IN_TABLE_BODY:et(this,e);break;case T.IN_ROW:es(this,e);break;case T.IN_CELL:!function(e,t){let n=t.tagID;switch(n){case p.TAG_ID.TD:case p.TAG_ID.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_ROW);break;case p.TAG_ID.TABLE:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),es(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:break;default:y(e,t);}}(this,e);break;case T.IN_SELECT:eT(this,e);break;case T.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===p.TAG_ID.CAPTION||n===p.TAG_ID.TABLE||n===p.TAG_ID.TBODY||n===p.TAG_ID.TFOOT||n===p.TAG_ID.THEAD||n===p.TAG_ID.TR||n===p.TAG_ID.TD||n===p.TAG_ID.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):eT(e,t);}(this,e);break;case T.IN_TEMPLATE:e.tagID===p.TAG_ID.TEMPLATE&&u(this,e);break;case T.AFTER_BODY:er(this,e);break;case T.IN_FRAMESET:e.tagID!==p.TAG_ID.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===p.TAG_ID.FRAMESET||(this.insertionMode=T.AFTER_FRAMESET));break;case T.AFTER_FRAMESET:e.tagID===p.TAG_ID.HTML&&(this.insertionMode=T.AFTER_AFTER_FRAMESET);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onEof(e){switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.IN_BODY:case T.IN_TABLE:case T.IN_CAPTION:case T.IN_COLUMN_GROUP:case T.IN_TABLE_BODY:case T.IN_ROW:case T.IN_CELL:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:W(this,e);break;case T.TEXT:this._err(e,l.ERR.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_TEMPLATE:eo(this,e);break;case T.AFTER_BODY:case T.IN_FRAMESET:case T.AFTER_FRAMESET:case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:k(this,e);}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===D.CODE_POINTS.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1);}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return;}switch(this.insertionMode){case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:case T.TEXT:case T.IN_COLUMN_GROUP:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:case T.IN_FRAMESET:case T.AFTER_FRAMESET:this._insertCharacters(e);break;case T.IN_BODY:case T.IN_CAPTION:case T.IN_CELL:case T.IN_TEMPLATE:case T.AFTER_BODY:case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:B(this,e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_TABLE_TEXT:j(this,e);}}}function L(e,t){for(let n=0;n<8;n++){let n=function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):v(e,t),n;}(e,t);if(!n)break;let s=function(e,t){let n=null,s=e.openElements.stackTop;for(;s>=0;s--){let T=e.openElements.items[s];if(T===t.element)break;e._isSpecialElement(T,e.openElements.tagIDs[s])&&(n=T);}return n||(e.openElements.shortenToLength(s<0?0:s),e.activeFormattingElements.removeEntry(t)),n;}(e,n);if(!s)break;e.activeFormattingElements.bookmark=n;let T=function(e,t,n){let s=t,T=e.openElements.getCommonAncestor(t);for(let o=0,r=T;r!==n;o++,r=T){T=e.openElements.getCommonAncestor(r);let n=e.activeFormattingElements.getElementEntry(r),i=n&&o>=3;!n||i?(i&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(r)):(r=function(e,t){let n=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s;}(e,n),s===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(r,s),s=r);}return s;}(e,s,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(T),o&&function(e,t,n){let s=e.treeAdapter.getTagName(t),T=(0,p.getTagID)(s);if(e._isElementCausesFosterParenting(T))e._fosterParentElement(n);else{let s=e.treeAdapter.getNamespaceURI(t);T===p.TAG_ID.TEMPLATE&&s===p.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n);}}(e,o,T),function(e,t,n){let s=e.treeAdapter.getNamespaceURI(n.element),{token:T}=n,o=e.treeAdapter.createElement(T.tagName,s,T.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,T),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,T.tagID);}(e,s,n);}}function O(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode);}function k(e,t){if(e.stopped=!0,t.location){let n=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=n;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(n);if(s&&!s.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let n=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(n);s&&!s.endTag&&e._setEndLocation(n,t);}}}}function M(e,t){e._err(t,l.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,p.DOCUMENT_MODE.QUIRKS),e.insertionMode=T.BEFORE_HTML,e._processToken(t);}function g(e,t){e._insertFakeRootElement(),e.insertionMode=T.BEFORE_HEAD,e._processToken(t);}function R(e,t){e._insertFakeElement(p.TAG_NAMES.HEAD,p.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=T.IN_HEAD,e._processToken(t);}function C(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.TITLE:e._switchToTextParsing(t,i.TokenizerMode.RCDATA);break;case p.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT):(e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_HEAD_NO_SCRIPT);break;case p.TAG_ID.NOFRAMES:case p.TAG_ID.STYLE:e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SCRIPT:e._switchToTextParsing(t,i.TokenizerMode.SCRIPT_DATA);break;case p.TAG_ID.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=T.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(T.IN_TEMPLATE);break;case p.TAG_ID.HEAD:e._err(t,l.ERR.misplacedStartTagForHeadElement);break;default:S(e,t);}}function u(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TAG_ID.TEMPLATE&&e._err(t,l.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}function S(e,t){e.openElements.pop(),e.insertionMode=T.AFTER_HEAD,e._processToken(t);}function b(e,t){let n=t.type===m.TokenType.EOF?l.ERR.openElementsLeftAfterEof:l.ERR.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=T.IN_HEAD,e._processToken(t);}function f(e,t){e._insertFakeElement(p.TAG_NAMES.BODY,p.TAG_ID.BODY),e.insertionMode=T.IN_BODY,P(e,t);}function P(e,t){switch(t.type){case m.TokenType.CHARACTER:F(e,t);break;case m.TokenType.WHITESPACE_CHARACTER:B(e,t);break;case m.TokenType.COMMENT:O(e,t);break;case m.TokenType.START_TAG:w(e,t);break;case m.TokenType.END_TAG:y(e,t);break;case m.TokenType.EOF:W(e,t);}}function B(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t);}function F(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1;}function H(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;}function U(e){let t=(0,m.getTokenAttr)(e,p.ATTRS.TYPE);return null!=t&&"hidden"===t.toLowerCase();}function Y(e,t){e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);}function x(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML);}function w(e,t){switch(t.tagID){case p.TAG_ID.I:case p.TAG_ID.S:case p.TAG_ID.B:case p.TAG_ID.U:case p.TAG_ID.EM:case p.TAG_ID.TT:case p.TAG_ID.BIG:case p.TAG_ID.CODE:case p.TAG_ID.FONT:case p.TAG_ID.SMALL:case p.TAG_ID.STRIKE:case p.TAG_ID.STRONG:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case p.TAG_ID.A:!function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(p.TAG_NAMES.A);n&&(L(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);}(e,t);break;case p.TAG_ID.H1:case p.TAG_ID.H2:case p.TAG_ID.H3:case p.TAG_ID.H4:case p.TAG_ID.H5:case p.TAG_ID.H6:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),p.NUMBERED_HEADERS.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.P:case p.TAG_ID.DL:case p.TAG_ID.OL:case p.TAG_ID.UL:case p.TAG_ID.DIV:case p.TAG_ID.DIR:case p.TAG_ID.NAV:case p.TAG_ID.MAIN:case p.TAG_ID.MENU:case p.TAG_ID.ASIDE:case p.TAG_ID.CENTER:case p.TAG_ID.FIGURE:case p.TAG_ID.FOOTER:case p.TAG_ID.HEADER:case p.TAG_ID.HGROUP:case p.TAG_ID.DIALOG:case p.TAG_ID.DETAILS:case p.TAG_ID.ADDRESS:case p.TAG_ID.ARTICLE:case p.TAG_ID.SEARCH:case p.TAG_ID.SECTION:case p.TAG_ID.SUMMARY:case p.TAG_ID.FIELDSET:case p.TAG_ID.BLOCKQUOTE:case p.TAG_ID.FIGCAPTION:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.LI:case p.TAG_ID.DD:case p.TAG_ID.DT:!function(e,t){e.framesetOk=!1;let n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){let s=e.openElements.tagIDs[t];if(n===p.TAG_ID.LI&&s===p.TAG_ID.LI||(n===p.TAG_ID.DD||n===p.TAG_ID.DT)&&(s===p.TAG_ID.DD||s===p.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break;}if(s!==p.TAG_ID.ADDRESS&&s!==p.TAG_ID.DIV&&s!==p.TAG_ID.P&&e._isSpecialElement(e.openElements.items[t],s))break;}e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML);}(e,t);break;case p.TAG_ID.BR:case p.TAG_ID.IMG:case p.TAG_ID.WBR:case p.TAG_ID.AREA:case p.TAG_ID.EMBED:case p.TAG_ID.KEYGEN:H(e,t);break;case p.TAG_ID.HR:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._appendElement(t,p.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;break;case p.TAG_ID.RB:case p.TAG_ID.RTC:e.openElements.hasInScope(p.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.RT:case p.TAG_ID.RP:e.openElements.hasInScope(p.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.RTC),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.PRE:case p.TAG_ID.LISTING:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1;break;case p.TAG_ID.XMP:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SVG:e._reconstructActiveFormattingElements(),I.adjustTokenSVGAttrs(t),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.NS.SVG):e._insertElement(t,p.NS.SVG),t.ackSelfClosing=!0;break;case p.TAG_ID.HTML:0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs);break;case p.TAG_ID.BASE:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.STYLE:case p.TAG_ID.TITLE:case p.TAG_ID.SCRIPT:case p.TAG_ID.BGSOUND:case p.TAG_ID.BASEFONT:case p.TAG_ID.TEMPLATE:C(e,t);break;case p.TAG_ID.BODY:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs));}(e,t);break;case p.TAG_ID.FORM:!function(e,t){let n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),n||(e.formElement=e.openElements.current));}(e,t);break;case p.TAG_ID.NOBR:e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.TAG_ID.NOBR)&&(L(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case p.TAG_ID.MATH:e._reconstructActiveFormattingElements(),I.adjustTokenMathMLAttrs(t),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.NS.MATHML):e._insertElement(t,p.NS.MATHML),t.ackSelfClosing=!0;break;case p.TAG_ID.TABLE:e.treeAdapter.getDocumentMode(e.document)!==p.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=T.IN_TABLE;break;case p.TAG_ID.INPUT:e._reconstructActiveFormattingElements(),e._appendElement(t,p.NS.HTML),U(t)||(e.framesetOk=!1),t.ackSelfClosing=!0;break;case p.TAG_ID.PARAM:case p.TAG_ID.TRACK:case p.TAG_ID.SOURCE:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.IMAGE:t.tagName=p.TAG_NAMES.IMG,t.tagID=p.TAG_ID.IMG,H(e,t);break;case p.TAG_ID.BUTTON:e.openElements.hasInScope(p.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1;break;case p.TAG_ID.APPLET:case p.TAG_ID.OBJECT:case p.TAG_ID.MARQUEE:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1;break;case p.TAG_ID.IFRAME:e.framesetOk=!1,e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SELECT:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===T.IN_TABLE||e.insertionMode===T.IN_CAPTION||e.insertionMode===T.IN_TABLE_BODY||e.insertionMode===T.IN_ROW||e.insertionMode===T.IN_CELL?T.IN_SELECT_IN_TABLE:T.IN_SELECT;break;case p.TAG_ID.OPTION:case p.TAG_ID.OPTGROUP:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.NOEMBED:case p.TAG_ID.NOFRAMES:Y(e,t);break;case p.TAG_ID.FRAMESET:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_FRAMESET);}(e,t);break;case p.TAG_ID.TEXTAREA:e._insertElement(t,p.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=i.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=T.TEXT;break;case p.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?Y(e,t):x(e,t);break;case p.TAG_ID.PLAINTEXT:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.tokenizer.state=i.TokenizerMode.PLAINTEXT;break;case p.TAG_ID.COL:case p.TAG_ID.TH:case p.TAG_ID.TD:case p.TAG_ID.TR:case p.TAG_ID.HEAD:case p.TAG_ID.FRAME:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.CAPTION:case p.TAG_ID.COLGROUP:break;default:x(e,t);}}function v(e,t){let n=t.tagName,s=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){let T=e.openElements.items[t],o=e.openElements.tagIDs[t];if(s===o&&(s!==p.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(T)===n)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break;}if(e._isSpecialElement(T,o))break;}}function y(e,t){switch(t.tagID){case p.TAG_ID.A:case p.TAG_ID.B:case p.TAG_ID.I:case p.TAG_ID.S:case p.TAG_ID.U:case p.TAG_ID.EM:case p.TAG_ID.TT:case p.TAG_ID.BIG:case p.TAG_ID.CODE:case p.TAG_ID.FONT:case p.TAG_ID.NOBR:case p.TAG_ID.SMALL:case p.TAG_ID.STRIKE:case p.TAG_ID.STRONG:L(e,t);break;case p.TAG_ID.P:e.openElements.hasInButtonScope(p.TAG_ID.P)||e._insertFakeElement(p.TAG_NAMES.P,p.TAG_ID.P),e._closePElement();break;case p.TAG_ID.DL:case p.TAG_ID.UL:case p.TAG_ID.OL:case p.TAG_ID.DIR:case p.TAG_ID.DIV:case p.TAG_ID.NAV:case p.TAG_ID.PRE:case p.TAG_ID.MAIN:case p.TAG_ID.MENU:case p.TAG_ID.ASIDE:case p.TAG_ID.BUTTON:case p.TAG_ID.CENTER:case p.TAG_ID.FIGURE:case p.TAG_ID.FOOTER:case p.TAG_ID.HEADER:case p.TAG_ID.HGROUP:case p.TAG_ID.DIALOG:case p.TAG_ID.ADDRESS:case p.TAG_ID.ARTICLE:case p.TAG_ID.DETAILS:case p.TAG_ID.SEARCH:case p.TAG_ID.SECTION:case p.TAG_ID.SUMMARY:case p.TAG_ID.LISTING:case p.TAG_ID.FIELDSET:case p.TAG_ID.BLOCKQUOTE:case p.TAG_ID.FIGCAPTION:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n));}(e,t);break;case p.TAG_ID.LI:e.openElements.hasInListItemScope(p.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.LI),e.openElements.popUntilTagNamePopped(p.TAG_ID.LI));break;case p.TAG_ID.DD:case p.TAG_ID.DT:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n));}(e,t);break;case p.TAG_ID.H1:case p.TAG_ID.H2:case p.TAG_ID.H3:case p.TAG_ID.H4:case p.TAG_ID.H5:case p.TAG_ID.H6:e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped());break;case p.TAG_ID.BR:e._reconstructActiveFormattingElements(),e._insertFakeElement(p.TAG_NAMES.BR,p.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1;break;case p.TAG_ID.BODY:!function(e,t){if(e.openElements.hasInScope(p.TAG_ID.BODY)&&(e.insertionMode=T.AFTER_BODY,e.options.sourceCodeLocationInfo)){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t);}}(e,t);break;case p.TAG_ID.HTML:e.openElements.hasInScope(p.TAG_ID.BODY)&&(e.insertionMode=T.AFTER_BODY,er(e,t));break;case p.TAG_ID.FORM:!function(e){let t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.TAG_ID.FORM):n&&e.openElements.remove(n));}(e);break;case p.TAG_ID.APPLET:case p.TAG_ID.OBJECT:case p.TAG_ID.MARQUEE:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker());}(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:v(e,t);}}function W(e,t){e.tmplInsertionModeStack.length>0?eo(e,t):k(e,t);}function X(e,t){if(d.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=T.IN_TABLE_TEXT,t.type){case m.TokenType.CHARACTER:Q(e,t);break;case m.TokenType.WHITESPACE_CHARACTER:j(e,t);}else V(e,t);}function z(e,t){switch(t.tagID){case p.TAG_ID.TD:case p.TAG_ID.TH:case p.TAG_ID.TR:e.openElements.clearBackToTableContext(),e._insertFakeElement(p.TAG_NAMES.TBODY,p.TAG_ID.TBODY),e.insertionMode=T.IN_TABLE_BODY,ee(e,t);break;case p.TAG_ID.STYLE:case p.TAG_ID.SCRIPT:case p.TAG_ID.TEMPLATE:C(e,t);break;case p.TAG_ID.COL:e.openElements.clearBackToTableContext(),e._insertFakeElement(p.TAG_NAMES.COLGROUP,p.TAG_ID.COLGROUP),e.insertionMode=T.IN_COLUMN_GROUP,Z(e,t);break;case p.TAG_ID.FORM:e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,p.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop());break;case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t));break;case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.clearBackToTableContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_TABLE_BODY;break;case p.TAG_ID.INPUT:U(t)?e._appendElement(t,p.NS.HTML):V(e,t),t.ackSelfClosing=!0;break;case p.TAG_ID.CAPTION:e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_CAPTION;break;case p.TAG_ID.COLGROUP:e.openElements.clearBackToTableContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_COLUMN_GROUP;break;default:V(e,t);}}function K(e,t){switch(t.tagID){case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.TABLE),e._resetInsertionMode());break;case p.TAG_ID.TEMPLATE:u(e,t);break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TBODY:case p.TAG_ID.TD:case p.TAG_ID.TFOOT:case p.TAG_ID.TH:case p.TAG_ID.THEAD:case p.TAG_ID.TR:break;default:V(e,t);}}function V(e,t){let n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,P(e,t),e.fosterParentingEnabled=n;}function j(e,t){e.pendingCharacterTokens.push(t);}function Q(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0;}function J(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)V(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t);}let q=new Set([p.TAG_ID.CAPTION,p.TAG_ID.COL,p.TAG_ID.COLGROUP,p.TAG_ID.TBODY,p.TAG_ID.TD,p.TAG_ID.TFOOT,p.TAG_ID.TH,p.TAG_ID.THEAD,p.TAG_ID.TR]);function Z(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.COL:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.TEMPLATE:C(e,t);break;default:$(e,t);}}function $(e,t){e.openElements.currentTagId===p.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=T.IN_TABLE,e._processToken(t));}function ee(e,t){switch(t.tagID){case p.TAG_ID.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_ROW;break;case p.TAG_ID.TH:case p.TAG_ID.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(p.TAG_NAMES.TR,p.TAG_ID.TR),e.insertionMode=T.IN_ROW,en(e,t);break;case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE,z(e,t));break;default:z(e,t);}}function et(e,t){let n=t.tagID;switch(t.tagID){case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE);break;case p.TAG_ID.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE,K(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TD:case p.TAG_ID.TH:case p.TAG_ID.TR:break;default:K(e,t);}}function en(e,t){switch(t.tagID){case p.TAG_ID.TH:case p.TAG_ID.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_CELL,e.activeFormattingElements.insertMarker();break;case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.TR:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,ee(e,t));break;default:z(e,t);}}function es(e,t){switch(t.tagID){case p.TAG_ID.TR:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY);break;case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,et(e,t));break;case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,et(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TD:case p.TAG_ID.TH:break;default:K(e,t);}}function ea(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.OPTION:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.OPTGROUP:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.HR:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.INPUT:case p.TAG_ID.KEYGEN:case p.TAG_ID.TEXTAREA:case p.TAG_ID.SELECT:e.openElements.hasInSelectScope(p.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==p.TAG_ID.SELECT&&e._processStartTag(t));break;case p.TAG_ID.SCRIPT:case p.TAG_ID.TEMPLATE:C(e,t);}}function eT(e,t){switch(t.tagID){case p.TAG_ID.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop();break;case p.TAG_ID.OPTION:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop();break;case p.TAG_ID.SELECT:e.openElements.hasInSelectScope(p.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode());break;case p.TAG_ID.TEMPLATE:u(e,t);}}function eo(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):k(e,t);}function er(e,t){var n;if(t.tagID===p.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=T.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);let s=e.openElements.items[1];!s||(null===(n=e.treeAdapter.getNodeSourceCodeLocation(s))||void 0===n?void 0:n.endTag)||e._setEndLocation(s,t);}}else ei(e,t);}function ei(e,t){e.insertionMode=T.IN_BODY,P(e,t);}function ec(e,t){e.insertionMode=T.IN_BODY,P(e,t);}function eE(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==p.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop();}},"39171beb":function  (e,t,o,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultTreeAdapter",{enumerable:!0,get:function(){return c;}});let n=o("f0b4b8b2"),c={createDocument:()=>({nodeName:"#document",mode:n.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,o)=>({nodeName:e,tagName:e,attrs:o,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e;},insertBefore(e,t,o){let d=e.childNodes.indexOf(o);e.childNodes.splice(d,0,t),t.parentNode=e;},setTemplateContent(e,t){e.content=t;},getTemplateContent:e=>e.content,setDocumentType(e,t,o,d){let n=e.childNodes.find(e=>"#documentType"===e.nodeName);n?(n.name=t,n.publicId=o,n.systemId=d):c.appendChild(e,{nodeName:"#documentType",name:t,publicId:o,systemId:d,parentNode:null});},setDocumentMode(e,t){e.mode=t;},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null;}},insertText(e,t){if(e.childNodes.length>0){let o=e.childNodes[e.childNodes.length-1];if(c.isTextNode(o)){o.value+=t;return;}}c.appendChild(e,c.createTextNode(t));},insertTextBefore(e,t,o){let d=e.childNodes[e.childNodes.indexOf(o)-1];d&&c.isTextNode(d)?d.value+=t:c.insertBefore(e,c.createTextNode(t),o);},adoptAttributes(e,t){let o=new Set(e.attrs.map(e=>e.name));for(let d=0;d<t.length;d++)o.has(t[d].name)||e.attrs.push(t[d]);},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t;},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t};}};},"42d73029":function  (e,t,n,i){"use strict";var r,c;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ERR",{enumerable:!0,get:function(){return r;}}),(c=r||(r={})).controlCharacterInInputStream="control-character-in-input-stream",c.noncharacterInInputStream="noncharacter-in-input-stream",c.surrogateInInputStream="surrogate-in-input-stream",c.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",c.endTagWithAttributes="end-tag-with-attributes",c.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",c.unexpectedSolidusInTag="unexpected-solidus-in-tag",c.unexpectedNullCharacter="unexpected-null-character",c.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",c.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",c.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",c.missingEndTagName="missing-end-tag-name",c.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",c.unknownNamedCharacterReference="unknown-named-character-reference",c.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",c.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",c.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",c.eofBeforeTagName="eof-before-tag-name",c.eofInTag="eof-in-tag",c.missingAttributeValue="missing-attribute-value",c.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",c.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",c.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",c.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",c.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",c.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",c.missingDoctypePublicIdentifier="missing-doctype-public-identifier",c.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",c.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",c.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",c.cdataInHtmlContent="cdata-in-html-content",c.incorrectlyOpenedComment="incorrectly-opened-comment",c.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",c.eofInDoctype="eof-in-doctype",c.nestedComment="nested-comment",c.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",c.eofInComment="eof-in-comment",c.incorrectlyClosedComment="incorrectly-closed-comment",c.eofInCdata="eof-in-cdata",c.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",c.nullCharacterReference="null-character-reference",c.surrogateCharacterReference="surrogate-character-reference",c.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",c.controlCharacterReference="control-character-reference",c.noncharacterCharacterReference="noncharacter-character-reference",c.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",c.missingDoctypeName="missing-doctype-name",c.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",c.duplicateAttribute="duplicate-attribute",c.nonConformingDoctype="non-conforming-doctype",c.missingDoctype="missing-doctype",c.misplacedDoctype="misplaced-doctype",c.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",c.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",c.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",c.openElementsLeftAfterEof="open-elements-left-after-eof",c.abandonedHeadElementChild="abandoned-head-element-child",c.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",c.nestedNoscriptInHead="nested-noscript-in-head",c.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";},"47ec597a":function  (e,t,r,n){"use strict";var i,s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]});}(t,{EntryType:function(){return i;},FormattingElementList:function(){return h;}}),(s=i||(i={}))[s.Marker=0]="Marker",s[s.Element=1]="Element";let l={type:i.Marker};class h{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null;}_getNoahArkConditionCandidates(e,t){let r=[],n=t.length,s=this.treeAdapter.getTagName(e),l=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){let t=this.entries[e];if(t.type===i.Marker)break;let{element:h}=t;if(this.treeAdapter.getTagName(h)===s&&this.treeAdapter.getNamespaceURI(h)===l){let t=this.treeAdapter.getAttrList(h);t.length===n&&r.push({idx:e,attrs:t});}}return r;}_ensureNoahArkCondition(e){if(this.entries.length<3)return;let t=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,t);if(r.length<3)return;let n=new Map(t.map(e=>[e.name,e.value])),i=0;for(let e=0;e<r.length;e++){let t=r[e];t.attrs.every(e=>n.get(e.name)===e.value)&&(i+=1)>=3&&this.entries.splice(t.idx,1);}}insertMarker(){this.entries.unshift(l);}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:i.Element,element:e,token:t});}insertElementAfterBookmark(e,t){let r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:i.Element,element:e,token:t});}removeEntry(e){let t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1);}clearToLastMarker(){let e=this.entries.indexOf(l);e>=0?this.entries.splice(0,e+1):this.entries.length=0;}getElementEntryInScopeWithTagName(e){let t=this.entries.find(t=>t.type===i.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===i.Element?t:null;}getElementEntry(e){return this.entries.find(t=>t.type===i.Element&&t.element===e);}}},"507960b3":function  (t,e,s,_){"use strict";var E,r;Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var s in e)Object.defineProperty(t,s,{enumerable:!0,get:e[s]});}(e,{Tokenizer:function(){return o;},TokenizerMode:function(){return O;}});let T=s("f4718d32"),i=s("d342ab36"),A=s("b7941f75"),S=s("42dc32b2"),C=s("42d73029"),D=s("f0b4b8b2");(r=E||(E={}))[r.DATA=0]="DATA",r[r.RCDATA=1]="RCDATA",r[r.RAWTEXT=2]="RAWTEXT",r[r.SCRIPT_DATA=3]="SCRIPT_DATA",r[r.PLAINTEXT=4]="PLAINTEXT",r[r.TAG_OPEN=5]="TAG_OPEN",r[r.END_TAG_OPEN=6]="END_TAG_OPEN",r[r.TAG_NAME=7]="TAG_NAME",r[r.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",r[r.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",r[r.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",r[r.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",r[r.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",r[r.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",r[r.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",r[r.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",r[r.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",r[r.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",r[r.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",r[r.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",r[r.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",r[r.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",r[r.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",r[r.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",r[r.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",r[r.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",r[r.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",r[r.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",r[r.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",r[r.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",r[r.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",r[r.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",r[r.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",r[r.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",r[r.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",r[r.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",r[r.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",r[r.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",r[r.BOGUS_COMMENT=40]="BOGUS_COMMENT",r[r.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",r[r.COMMENT_START=42]="COMMENT_START",r[r.COMMENT_START_DASH=43]="COMMENT_START_DASH",r[r.COMMENT=44]="COMMENT",r[r.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",r[r.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",r[r.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",r[r.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",r[r.COMMENT_END_DASH=49]="COMMENT_END_DASH",r[r.COMMENT_END=50]="COMMENT_END",r[r.COMMENT_END_BANG=51]="COMMENT_END_BANG",r[r.DOCTYPE=52]="DOCTYPE",r[r.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",r[r.DOCTYPE_NAME=54]="DOCTYPE_NAME",r[r.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",r[r.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",r[r.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",r[r.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",r[r.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",r[r.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",r[r.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",r[r.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",r[r.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",r[r.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",r[r.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",r[r.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",r[r.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",r[r.CDATA_SECTION=68]="CDATA_SECTION",r[r.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",r[r.CDATA_SECTION_END=70]="CDATA_SECTION_END",r[r.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",r[r.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND";let O={DATA:E.DATA,RCDATA:E.RCDATA,RAWTEXT:E.RAWTEXT,SCRIPT_DATA:E.SCRIPT_DATA,PLAINTEXT:E.PLAINTEXT,CDATA_SECTION:E.CDATA_SECTION};function h(t){return t>=i.CODE_POINTS.LATIN_CAPITAL_A&&t<=i.CODE_POINTS.LATIN_CAPITAL_Z;}function c(t){return t>=i.CODE_POINTS.LATIN_SMALL_A&&t<=i.CODE_POINTS.LATIN_SMALL_Z||h(t);}function N(t){return c(t)||t>=i.CODE_POINTS.DIGIT_0&&t<=i.CODE_POINTS.DIGIT_9;}function n(t){return t===i.CODE_POINTS.SPACE||t===i.CODE_POINTS.LINE_FEED||t===i.CODE_POINTS.TABULATION||t===i.CODE_POINTS.FORM_FEED;}function I(t){return n(t)||t===i.CODE_POINTS.SOLIDUS||t===i.CODE_POINTS.GREATER_THAN_SIGN;}class o{constructor(t,e){this.options=t,this.handler=e,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=E.DATA,this.returnState=E.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new T.Preprocessor(e),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new S.EntityDecoder(S.htmlDecodeTree,(t,e)=>{this.preprocessor.pos=this.entityStartPos+e-1,this._flushCodePointConsumedAsCharacterReference(t);},e.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(C.ERR.missingSemicolonAfterCharacterReference,1);},absenceOfDigitsInNumericCharacterReference:t=>{this._err(C.ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+t);},validateNumericCharacterReference:t=>{var e;let s=(e=t)===i.CODE_POINTS.NULL?C.ERR.nullCharacterReference:e>1114111?C.ERR.characterReferenceOutsideUnicodeRange:(0,i.isSurrogate)(e)?C.ERR.surrogateCharacterReference:(0,i.isUndefinedCodePoint)(e)?C.ERR.noncharacterCharacterReference:(0,i.isControlCodePoint)(e)||e===i.CODE_POINTS.CARRIAGE_RETURN?C.ERR.controlCharacterReference:null;s&&this._err(s,1);}}:void 0);}_err(t,e=0){var s,_;null===(_=(s=this.handler).onParseError)||void 0===_||_.call(s,this.preprocessor.getError(t,e));}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null;}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let t=this._consume();this._ensureHibernation()||this._callState(t);}this.inLoop=!1;}}pause(){this.paused=!0;}resume(t){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==t||t());}write(t,e,s){this.active=!0,this.preprocessor.write(t,e),this._runParsingLoop(),this.paused||null==s||s();}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop();}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0);}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance();}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let e=0;e<t;e++)this.preprocessor.advance();}_consumeSequenceIfMatch(t,e){return!!this.preprocessor.startsWith(t,e)&&(this._advanceBy(t.length-1),!0);}_createStartTagToken(){this.currentToken={type:A.TokenType.START_TAG,tagName:"",tagID:D.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)};}_createEndTagToken(){this.currentToken={type:A.TokenType.END_TAG,tagName:"",tagID:D.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)};}_createCommentToken(t){this.currentToken={type:A.TokenType.COMMENT,data:"",location:this.getCurrentLocation(t)};}_createDoctypeToken(t){this.currentToken={type:A.TokenType.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation};}_createCharacterToken(t,e){this.currentCharacterToken={type:t,chars:e,location:this.currentLocation};}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0);}_leaveAttrName(){var t,e;let s=this.currentToken;null===(0,A.getTokenAttr)(s,this.currentAttr.name)?(s.attrs.push(this.currentAttr),s.location&&this.currentLocation&&((null!==(t=(e=s.location).attrs)&&void 0!==t?t:e.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(C.ERR.duplicateAttribute);}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset);}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1);}emitCurrentTagToken(){let t=this.currentToken;this.prepareToken(t),t.tagID=(0,D.getTagID)(t.tagName),t.type===A.TokenType.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(C.ERR.endTagWithAttributes),t.selfClosing&&this._err(C.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk();}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk();}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk();}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case A.TokenType.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case A.TokenType.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case A.TokenType.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken);}this.currentCharacterToken=null;}}_emitEOFToken(){let t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:A.TokenType.EOF,location:t}),this.active=!1;}_appendCharToCurrentCharacterToken(t,e){if(this.currentCharacterToken){if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=e;return;}this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();}this._createCharacterToken(t,e);}_emitCodePoint(t){let e=n(t)?A.TokenType.WHITESPACE_CHARACTER:t===i.CODE_POINTS.NULL?A.TokenType.NULL_CHARACTER:A.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(e,String.fromCodePoint(t));}_emitChars(t){this._appendCharToCurrentCharacterToken(A.TokenType.CHARACTER,t);}_startCharacterReference(){this.returnState=this.state,this.state=E.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?S.DecodingMode.Attribute:S.DecodingMode.Legacy);}_isCharacterReferenceInAttribute(){return this.returnState===E.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===E.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===E.ATTRIBUTE_VALUE_UNQUOTED;}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t);}_callState(t){switch(this.state){case E.DATA:this._stateData(t);break;case E.RCDATA:this._stateRcdata(t);break;case E.RAWTEXT:this._stateRawtext(t);break;case E.SCRIPT_DATA:this._stateScriptData(t);break;case E.PLAINTEXT:this._statePlaintext(t);break;case E.TAG_OPEN:this._stateTagOpen(t);break;case E.END_TAG_OPEN:this._stateEndTagOpen(t);break;case E.TAG_NAME:this._stateTagName(t);break;case E.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(t);break;case E.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(t);break;case E.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(t);break;case E.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(t);break;case E.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(t);break;case E.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(t);break;case E.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(t);break;case E.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(t);break;case E.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(t);break;case E.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(t);break;case E.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(t);break;case E.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(t);break;case E.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(t);break;case E.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(t);break;case E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(t);break;case E.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(t);break;case E.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(t);break;case E.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(t);break;case E.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(t);break;case E.ATTRIBUTE_NAME:this._stateAttributeName(t);break;case E.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(t);break;case E.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(t);break;case E.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(t);break;case E.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(t);break;case E.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(t);break;case E.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(t);break;case E.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(t);break;case E.BOGUS_COMMENT:this._stateBogusComment(t);break;case E.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(t);break;case E.COMMENT_START:this._stateCommentStart(t);break;case E.COMMENT_START_DASH:this._stateCommentStartDash(t);break;case E.COMMENT:this._stateComment(t);break;case E.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(t);break;case E.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(t);break;case E.COMMENT_END_DASH:this._stateCommentEndDash(t);break;case E.COMMENT_END:this._stateCommentEnd(t);break;case E.COMMENT_END_BANG:this._stateCommentEndBang(t);break;case E.DOCTYPE:this._stateDoctype(t);break;case E.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(t);break;case E.DOCTYPE_NAME:this._stateDoctypeName(t);break;case E.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(t);break;case E.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(t);break;case E.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(t);break;case E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(t);break;case E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(t);break;case E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(t);break;case E.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break;case E.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(t);break;case E.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(t);break;case E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(t);break;case E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(t);break;case E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(t);break;case E.BOGUS_DOCTYPE:this._stateBogusDoctype(t);break;case E.CDATA_SECTION:this._stateCdataSection(t);break;case E.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(t);break;case E.CDATA_SECTION_END:this._stateCdataSectionEnd(t);break;case E.CHARACTER_REFERENCE:this._stateCharacterReference();break;case E.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(t);break;default:throw Error("Unknown state");}}_stateData(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.TAG_OPEN;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitCodePoint(t);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateRcdata(t){switch(t){case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.RCDATA_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateRawtext(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.RAWTEXT_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptData(t){switch(t){case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_statePlaintext(t){switch(t){case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateTagOpen(t){if(c(t))this._createStartTagToken(),this.state=E.TAG_NAME,this._stateTagName(t);else switch(t){case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.MARKUP_DECLARATION_OPEN;break;case i.CODE_POINTS.SOLIDUS:this.state=E.END_TAG_OPEN;break;case i.CODE_POINTS.QUESTION_MARK:this._err(C.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(C.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=E.DATA,this._stateData(t);}}_stateEndTagOpen(t){if(c(t))this._createEndTagToken(),this.state=E.TAG_NAME,this._stateTagName(t);else switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingEndTagName),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(C.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t);}}_stateTagName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.SOLIDUS:this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.tagName+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:e.tagName+=String.fromCodePoint(h(t)?t+32:t);}}_stateRcdataLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=E.RCDATA,this._stateRcdata(t));}_stateRcdataEndTagOpen(t){c(t)?(this.state=E.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=E.RCDATA,this._stateRcdata(t));}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=E.BEFORE_ATTRIBUTE_NAME,!1;case i.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=E.SELF_CLOSING_START_TAG,!1;case i.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=E.DATA,!1;default:return!this._ensureHibernation();}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.RCDATA,this._stateRcdata(t));}_stateRawtextLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateRawtextEndTagOpen(t){c(t)?(this.state=E.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.RAWTEXT,this._stateRawtext(t));}_stateScriptDataLessThanSign(t){switch(t){case i.CODE_POINTS.SOLIDUS:this.state=E.SCRIPT_DATA_END_TAG_OPEN;break;case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=E.SCRIPT_DATA,this._stateScriptData(t);}}_stateScriptDataEndTagOpen(t){c(t)?(this.state=E.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscapeStart(t){t===i.CODE_POINTS.HYPHEN_MINUS?(this.state=E.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscapeStartDash(t){t===i.CODE_POINTS.HYPHEN_MINUS?(this.state=E.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=E.SCRIPT_DATA,this._stateScriptData(t));}_stateScriptDataEscaped(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptDataEscapedDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataEscapedDashDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.SCRIPT_DATA,this._emitChars(">");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataEscapedLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?this.state=E.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:c(t)?(this._emitChars("<"),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataEscapedEndTagOpen(t){c(t)?(this.state=E.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(i.SEQUENCES.SCRIPT,!1)&&I(this.preprocessor.peek(i.SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let t=0;t<i.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED;}else this._ensureHibernation()||(this.state=E.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t));}_stateScriptDataDoubleEscaped(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case i.CODE_POINTS.LESS_THAN_SIGN:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.SCRIPT_DATA,this._emitChars(">");break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(i.REPLACEMENT_CHARACTER);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t);}}_stateScriptDataDoubleEscapedLessThanSign(t){t===i.CODE_POINTS.SOLIDUS?(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t));}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(i.SEQUENCES.SCRIPT,!1)&&I(this.preprocessor.peek(i.SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let t=0;t<i.SEQUENCES.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=E.SCRIPT_DATA_ESCAPED;}else this._ensureHibernation()||(this.state=E.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t));}_stateBeforeAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.SOLIDUS:case i.CODE_POINTS.GREATER_THAN_SIGN:case i.CODE_POINTS.EOF:this.state=E.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case i.CODE_POINTS.EQUALS_SIGN:this._err(C.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=E.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=E.ATTRIBUTE_NAME,this._stateAttributeName(t);}}_stateAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:case i.CODE_POINTS.SOLIDUS:case i.CODE_POINTS.GREATER_THAN_SIGN:case i.CODE_POINTS.EOF:this._leaveAttrName(),this.state=E.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break;case i.CODE_POINTS.EQUALS_SIGN:this._leaveAttrName(),this.state=E.BEFORE_ATTRIBUTE_VALUE;break;case i.CODE_POINTS.QUOTATION_MARK:case i.CODE_POINTS.APOSTROPHE:case i.CODE_POINTS.LESS_THAN_SIGN:this._err(C.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.name+=i.REPLACEMENT_CHARACTER;break;default:this.currentAttr.name+=String.fromCodePoint(h(t)?t+32:t);}}_stateAfterAttributeName(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.SOLIDUS:this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.EQUALS_SIGN:this.state=E.BEFORE_ATTRIBUTE_VALUE;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=E.ATTRIBUTE_NAME,this._stateAttributeName(t);}}_stateBeforeAttributeValue(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:this.state=E.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this.state=E.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingAttributeValue),this.state=E.DATA,this.emitCurrentTagToken();break;default:this.state=E.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t);}}_stateAttributeValueDoubleQuoted(t){switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAttributeValueSingleQuoted(t){switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAttributeValueUnquoted(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.AMPERSAND:this._startCharacterReference();break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.QUOTATION_MARK:case i.CODE_POINTS.APOSTROPHE:case i.CODE_POINTS.LESS_THAN_SIGN:case i.CODE_POINTS.EQUALS_SIGN:case i.CODE_POINTS.GRAVE_ACCENT:this._err(C.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(t);}}_stateAfterAttributeValueQuoted(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=E.BEFORE_ATTRIBUTE_NAME;break;case i.CODE_POINTS.SOLIDUS:this._leaveAttrValue(),this.state=E.SELF_CLOSING_START_TAG;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._err(C.ERR.missingWhitespaceBetweenAttributes),this.state=E.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t);}}_stateSelfClosingStartTag(t){switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=E.DATA,this.emitCurrentTagToken();break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInTag),this._emitEOFToken();break;default:this._err(C.ERR.unexpectedSolidusInTag),this.state=E.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t);}}_stateBogusComment(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this.emitCurrentComment(e),this._emitEOFToken();break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.data+=i.REPLACEMENT_CHARACTER;break;default:e.data+=String.fromCodePoint(t);}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(i.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(i.SEQUENCES.DASH_DASH.length+1),this.state=E.COMMENT_START):this._consumeSequenceIfMatch(i.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(i.SEQUENCES.DOCTYPE.length+1),this.state=E.DOCTYPE):this._consumeSequenceIfMatch(i.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=E.CDATA_SECTION:(this._err(C.ERR.cdataInHtmlContent),this._createCommentToken(i.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=E.BOGUS_COMMENT):this._ensureHibernation()||(this._err(C.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=E.BOGUS_COMMENT,this._stateBogusComment(t));}_stateCommentStart(t){switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_START_DASH;break;case i.CODE_POINTS.GREATER_THAN_SIGN:{this._err(C.ERR.abruptClosingOfEmptyComment),this.state=E.DATA;let t=this.currentToken;this.emitCurrentComment(t);break;}default:this.state=E.COMMENT,this._stateComment(t);}}_stateCommentStartDash(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptClosingOfEmptyComment),this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=E.COMMENT,this._stateComment(t);}}_stateComment(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END_DASH;break;case i.CODE_POINTS.LESS_THAN_SIGN:e.data+="<",this.state=E.COMMENT_LESS_THAN_SIGN;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.data+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+=String.fromCodePoint(t);}}_stateCommentLessThanSign(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.EXCLAMATION_MARK:e.data+="!",this.state=E.COMMENT_LESS_THAN_SIGN_BANG;break;case i.CODE_POINTS.LESS_THAN_SIGN:e.data+="<";break;default:this.state=E.COMMENT,this._stateComment(t);}}_stateCommentLessThanSignBang(t){t===i.CODE_POINTS.HYPHEN_MINUS?this.state=E.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=E.COMMENT,this._stateComment(t));}_stateCommentLessThanSignBangDash(t){t===i.CODE_POINTS.HYPHEN_MINUS?this.state=E.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=E.COMMENT_END_DASH,this._stateCommentEndDash(t));}_stateCommentLessThanSignBangDashDash(t){t!==i.CODE_POINTS.GREATER_THAN_SIGN&&t!==i.CODE_POINTS.EOF&&this._err(C.ERR.nestedComment),this.state=E.COMMENT_END,this._stateCommentEnd(t);}_stateCommentEndDash(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:this.state=E.COMMENT_END;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="-",this.state=E.COMMENT,this._stateComment(t);}}_stateCommentEnd(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EXCLAMATION_MARK:this.state=E.COMMENT_END_BANG;break;case i.CODE_POINTS.HYPHEN_MINUS:e.data+="-";break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--",this.state=E.COMMENT,this._stateComment(t);}}_stateCommentEndBang(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.HYPHEN_MINUS:e.data+="--!",this.state=E.COMMENT_END_DASH;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.incorrectlyClosedComment),this.state=E.DATA,this.emitCurrentComment(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInComment),this.emitCurrentComment(e),this._emitEOFToken();break;default:e.data+="--!",this.state=E.COMMENT,this._stateComment(t);}}_stateDoctype(t){switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break;case i.CODE_POINTS.EOF:{this._err(C.ERR.eofInDoctype),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;}default:this._err(C.ERR.missingWhitespaceBeforeDoctypeName),this.state=E.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);}}_stateBeforeDoctypeName(t){if(h(t))this._createDoctypeToken(String.fromCharCode(t+32)),this.state=E.DOCTYPE_NAME;else switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),this._createDoctypeToken(i.REPLACEMENT_CHARACTER),this.state=E.DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:{this._err(C.ERR.missingDoctypeName),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=E.DATA;break;}case i.CODE_POINTS.EOF:{this._err(C.ERR.eofInDoctype),this._createDoctypeToken(null);let t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=E.DOCTYPE_NAME;}}_stateDoctypeName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.AFTER_DOCTYPE_NAME;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.name+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.name+=String.fromCodePoint(h(t)?t+32:t);}}_stateAfterDoctypeName(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(i.SEQUENCES.PUBLIC,!1)?this.state=E.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(i.SEQUENCES.SYSTEM,!1)?this.state=E.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(C.ERR.invalidCharacterSequenceAfterDoctypeName),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t));}}_stateAfterDoctypePublicKeyword(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceAfterDoctypePublicKeyword),e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBeforeDoctypePublicIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.publicId="",this.state=E.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypePublicIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateDoctypePublicIdentifierDoubleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.publicId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t);}}_stateDoctypePublicIdentifierSingleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.publicId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypePublicIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.publicId+=String.fromCodePoint(t);}}_stateAfterDoctypePublicIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.QUOTATION_MARK:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateAfterDoctypeSystemKeyword(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:this.state=E.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.QUOTATION_MARK:this._err(C.ERR.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:this._err(C.ERR.missingWhitespaceAfterDoctypeSystemKeyword),e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBeforeDoctypeSystemIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.QUOTATION_MARK:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case i.CODE_POINTS.APOSTROPHE:e.systemId="",this.state=E.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.missingDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.DATA,this.emitCurrentDoctype(e);break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.missingQuoteBeforeDoctypeSystemIdentifier),e.forceQuirks=!0,this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateDoctypeSystemIdentifierDoubleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.QUOTATION_MARK:this.state=E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.systemId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t);}}_stateDoctypeSystemIdentifierSingleQuoted(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.APOSTROPHE:this.state=E.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter),e.systemId+=i.REPLACEMENT_CHARACTER;break;case i.CODE_POINTS.GREATER_THAN_SIGN:this._err(C.ERR.abruptDoctypeSystemIdentifier),e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:e.systemId+=String.fromCodePoint(t);}}_stateAfterDoctypeSystemIdentifier(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.SPACE:case i.CODE_POINTS.LINE_FEED:case i.CODE_POINTS.TABULATION:case i.CODE_POINTS.FORM_FEED:break;case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInDoctype),e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break;default:this._err(C.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=E.BOGUS_DOCTYPE,this._stateBogusDoctype(t);}}_stateBogusDoctype(t){let e=this.currentToken;switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(e),this.state=E.DATA;break;case i.CODE_POINTS.NULL:this._err(C.ERR.unexpectedNullCharacter);break;case i.CODE_POINTS.EOF:this.emitCurrentDoctype(e),this._emitEOFToken();}}_stateCdataSection(t){switch(t){case i.CODE_POINTS.RIGHT_SQUARE_BRACKET:this.state=E.CDATA_SECTION_BRACKET;break;case i.CODE_POINTS.EOF:this._err(C.ERR.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(t);}}_stateCdataSectionBracket(t){t===i.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=E.CDATA_SECTION_END:(this._emitChars("]"),this.state=E.CDATA_SECTION,this._stateCdataSection(t));}_stateCdataSectionEnd(t){switch(t){case i.CODE_POINTS.GREATER_THAN_SIGN:this.state=E.DATA;break;case i.CODE_POINTS.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=E.CDATA_SECTION,this._stateCdataSection(t);}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0){if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return;}}0===t?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(i.CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&N(this.preprocessor.peek(1))?E.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState;}_stateAmbiguousAmpersand(t){N(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===i.CODE_POINTS.SEMICOLON&&this._err(C.ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t));}}},"559e374d":function  (t,e,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var d in e)Object.defineProperty(t,d,{enumerable:!0,get:e[d]});}(e,{getDocumentMode:function(){return u;},isConforming:function(){return f;}});let i=d("f0b4b8b2"),m="html",r=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],s=[...r,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],n=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),o=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],h=[...o,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function c(t,e){return e.some(e=>t.startsWith(e));}function f(t){return t.name===m&&null===t.publicId&&(null===t.systemId||"about:legacy-compat"===t.systemId);}function u(t){if(t.name!==m)return i.DOCUMENT_MODE.QUIRKS;let{systemId:e}=t;if(e&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===e.toLowerCase())return i.DOCUMENT_MODE.QUIRKS;let{publicId:d}=t;if(null!==d){if(d=d.toLowerCase(),n.has(d))return i.DOCUMENT_MODE.QUIRKS;let t=null===e?s:r;if(c(d,t))return i.DOCUMENT_MODE.QUIRKS;if(c(d,t=null===e?o:h))return i.DOCUMENT_MODE.LIMITED_QUIRKS;}return i.DOCUMENT_MODE.NO_QUIRKS;}},"82d47fba":function  (e,t,r,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serializeOuter",{enumerable:!0,get:function(){return o;}});let n=r("f0b4b8b2"),N=r("50f74a4e"),T=r("39171beb"),E=new Set([n.TAG_NAMES.AREA,n.TAG_NAMES.BASE,n.TAG_NAMES.BASEFONT,n.TAG_NAMES.BGSOUND,n.TAG_NAMES.BR,n.TAG_NAMES.COL,n.TAG_NAMES.EMBED,n.TAG_NAMES.FRAME,n.TAG_NAMES.HR,n.TAG_NAMES.IMG,n.TAG_NAMES.INPUT,n.TAG_NAMES.KEYGEN,n.TAG_NAMES.LINK,n.TAG_NAMES.META,n.TAG_NAMES.PARAM,n.TAG_NAMES.SOURCE,n.TAG_NAMES.TRACK,n.TAG_NAMES.WBR]),d={treeAdapter:T.defaultTreeAdapter,scriptingEnabled:!0};function o(e,t){return function e(t,r){return r.treeAdapter.isElementNode(t)?function(t,r){let A=r.treeAdapter.getTagName(t);return`<${A}${function(e,{treeAdapter:t}){let r="";for(let A of t.getAttrList(e)){if(r+=" ",A.namespace)switch(A.namespace){case n.NS.XML:r+=`xml:${A.name}`;break;case n.NS.XMLNS:"xmlns"!==A.name&&(r+="xmlns:"),r+=A.name;break;case n.NS.XLINK:r+=`xlink:${A.name}`;break;default:r+=`${A.prefix}:${A.name}`;}else r+=A.name;r+=`="${(0,N.escapeAttribute)(A.value)}"`;}return r;}(t,r)}>${r.treeAdapter.isElementNode(t)&&r.treeAdapter.getNamespaceURI(t)===n.NS.HTML&&E.has(r.treeAdapter.getTagName(t))?"":`${function(t,r){let A="",N=r.treeAdapter.isElementNode(t)&&r.treeAdapter.getTagName(t)===n.TAG_NAMES.TEMPLATE&&r.treeAdapter.getNamespaceURI(t)===n.NS.HTML?r.treeAdapter.getTemplateContent(t):t,T=r.treeAdapter.getChildNodes(N);if(T)for(let t of T)A+=e(t,r);return A;}(t,r)}</${A}>`}`;}(t,r):r.treeAdapter.isTextNode(t)?function(e,t){let{treeAdapter:r}=t,A=r.getTextNodeContent(e),T=r.getParentNode(e),E=T&&r.isElementNode(T)&&r.getTagName(T);return E&&r.getNamespaceURI(T)===n.NS.HTML&&(0,n.hasUnescapedText)(E,t.scriptingEnabled)?A:(0,N.escapeText)(A);}(t,r):r.treeAdapter.isCommentNode(t)?function(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`;}(t,r):r.treeAdapter.isDocumentTypeNode(t)?function(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`;}(t,r):"";}(e,{...d,...t});}},"8ddbe450":function  (e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]});}(t,{SVG_TAG_NAMES_ADJUSTMENT_MAP:function(){return o;},adjustTokenMathMLAttrs:function(){return I;},adjustTokenSVGAttrs:function(){return D;},adjustTokenSVGTagName:function(){return p;},adjustTokenXMLAttrs:function(){return m;},causesExit:function(){return f;},isIntegrationPoint:function(){return G;}});let i=n("f0b4b8b2"),T={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},s=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),l=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:i.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:i.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:i.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:i.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:i.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:i.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:i.NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:i.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:i.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:i.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:i.NS.XMLNS}]]),o=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),A=new Set([i.TAG_ID.B,i.TAG_ID.BIG,i.TAG_ID.BLOCKQUOTE,i.TAG_ID.BODY,i.TAG_ID.BR,i.TAG_ID.CENTER,i.TAG_ID.CODE,i.TAG_ID.DD,i.TAG_ID.DIV,i.TAG_ID.DL,i.TAG_ID.DT,i.TAG_ID.EM,i.TAG_ID.EMBED,i.TAG_ID.H1,i.TAG_ID.H2,i.TAG_ID.H3,i.TAG_ID.H4,i.TAG_ID.H5,i.TAG_ID.H6,i.TAG_ID.HEAD,i.TAG_ID.HR,i.TAG_ID.I,i.TAG_ID.IMG,i.TAG_ID.LI,i.TAG_ID.LISTING,i.TAG_ID.MENU,i.TAG_ID.META,i.TAG_ID.NOBR,i.TAG_ID.OL,i.TAG_ID.P,i.TAG_ID.PRE,i.TAG_ID.RUBY,i.TAG_ID.S,i.TAG_ID.SMALL,i.TAG_ID.SPAN,i.TAG_ID.STRONG,i.TAG_ID.STRIKE,i.TAG_ID.SUB,i.TAG_ID.SUP,i.TAG_ID.TABLE,i.TAG_ID.TT,i.TAG_ID.U,i.TAG_ID.UL,i.TAG_ID.VAR]);function f(e){let t=e.tagID;return t===i.TAG_ID.FONT&&e.attrs.some(({name:e})=>e===i.ATTRS.COLOR||e===i.ATTRS.SIZE||e===i.ATTRS.FACE)||A.has(t);}function I(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break;}}function D(e){for(let t=0;t<e.attrs.length;t++){let n=s.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n);}}function m(e){for(let t=0;t<e.attrs.length;t++){let n=l.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace);}}function p(e){let t=o.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=(0,i.getTagID)(e.tagName));}function G(e,t,n,r){return(!r||r===i.NS.HTML)&&function(e,t,n){if(t===i.NS.MATHML&&e===i.TAG_ID.ANNOTATION_XML){for(let e=0;e<n.length;e++)if(n[e].name===i.ATTRS.ENCODING){let t=n[e].value.toLowerCase();return t===T.TEXT_HTML||t===T.APPLICATION_XML;}}return t===i.NS.SVG&&(e===i.TAG_ID.FOREIGN_OBJECT||e===i.TAG_ID.DESC||e===i.TAG_ID.TITLE);}(e,t,n)||(!r||r===i.NS.MATHML)&&t===i.NS.MATHML&&(e===i.TAG_ID.MI||e===i.TAG_ID.MO||e===i.TAG_ID.MN||e===i.TAG_ID.MS||e===i.TAG_ID.MTEXT);}},"b7941f75":function  (e,t,T,n){"use strict";var A,r;function E(e,t){for(let T=e.attrs.length-1;T>=0;T--)if(e.attrs[T].name===t)return e.attrs[T].value;return null;}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var T in t)Object.defineProperty(e,T,{enumerable:!0,get:t[T]});}(t,{TokenType:function(){return A;},getTokenAttr:function(){return E;}}),(r=A||(A={}))[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION";},"beb501d5":function  (t,e,s,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"OpenElementStack",{enumerable:!0,get:function(){return u;}});let i=s("f0b4b8b2"),r=new Set([i.TAG_ID.DD,i.TAG_ID.DT,i.TAG_ID.LI,i.TAG_ID.OPTGROUP,i.TAG_ID.OPTION,i.TAG_ID.P,i.TAG_ID.RB,i.TAG_ID.RP,i.TAG_ID.RT,i.TAG_ID.RTC]),h=new Set([...r,i.TAG_ID.CAPTION,i.TAG_ID.COLGROUP,i.TAG_ID.TBODY,i.TAG_ID.TD,i.TAG_ID.TFOOT,i.TAG_ID.TH,i.TAG_ID.THEAD,i.TAG_ID.TR]),n=new Set([i.TAG_ID.APPLET,i.TAG_ID.CAPTION,i.TAG_ID.HTML,i.TAG_ID.MARQUEE,i.TAG_ID.OBJECT,i.TAG_ID.TABLE,i.TAG_ID.TD,i.TAG_ID.TEMPLATE,i.TAG_ID.TH]),o=new Set([...n,i.TAG_ID.OL,i.TAG_ID.UL]),I=new Set([...n,i.TAG_ID.BUTTON]),p=new Set([i.TAG_ID.ANNOTATION_XML,i.TAG_ID.MI,i.TAG_ID.MN,i.TAG_ID.MO,i.TAG_ID.MS,i.TAG_ID.MTEXT]),c=new Set([i.TAG_ID.DESC,i.TAG_ID.FOREIGN_OBJECT,i.TAG_ID.TITLE]),D=new Set([i.TAG_ID.TR,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),l=new Set([i.TAG_ID.TBODY,i.TAG_ID.TFOOT,i.TAG_ID.THEAD,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),A=new Set([i.TAG_ID.TABLE,i.TAG_ID.TEMPLATE,i.TAG_ID.HTML]),_=new Set([i.TAG_ID.TD,i.TAG_ID.TH]);class u{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current;}constructor(t,e,s){this.treeAdapter=e,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=i.TAG_ID.UNKNOWN,this.current=t;}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop);}_isInTemplate(){return this.currentTagId===i.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===i.NS.HTML;}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop];}push(t,e){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=e,this.currentTagId=e,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,e,!0);}pop(){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0);}replace(t,e){let s=this._indexOf(t);this.items[s]=e,s===this.stackTop&&(this.current=e);}insertAfter(t,e,s){let T=this._indexOf(t)+1;this.items.splice(T,0,e),this.tagIDs.splice(T,0,s),this.stackTop++,T===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,T===this.stackTop);}popUntilTagNamePopped(t){let e=this.stackTop+1;do e=this.tagIDs.lastIndexOf(t,e-1);while(e>0&&this.treeAdapter.getNamespaceURI(this.items[e])!==i.NS.HTML)this.shortenToLength(e<0?0:e);}shortenToLength(t){for(;this.stackTop>=t;){let e=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,this.stackTop<t);}}popUntilElementPopped(t){let e=this._indexOf(t);this.shortenToLength(e<0?0:e);}popUntilPopped(t,e){let s=this._indexOfTagNames(t,e);this.shortenToLength(s<0?0:s);}popUntilNumberedHeaderPopped(){this.popUntilPopped(i.NUMBERED_HEADERS,i.NS.HTML);}popUntilTableCellPopped(){this.popUntilPopped(_,i.NS.HTML);}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1);}_indexOfTagNames(t,e){for(let s=this.stackTop;s>=0;s--)if(t.has(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===e)return s;return -1;}clearBackTo(t,e){let s=this._indexOfTagNames(t,e);this.shortenToLength(s+1);}clearBackToTableContext(){this.clearBackTo(A,i.NS.HTML);}clearBackToTableBodyContext(){this.clearBackTo(l,i.NS.HTML);}clearBackToTableRowContext(){this.clearBackTo(D,i.NS.HTML);}remove(t){let e=this._indexOf(t);e>=0&&(e===this.stackTop?this.pop():(this.items.splice(e,1),this.tagIDs.splice(e,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)));}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===i.TAG_ID.BODY?this.items[1]:null;}contains(t){return this._indexOf(t)>-1;}getCommonAncestor(t){let e=this._indexOf(t)-1;return e>=0?this.items[e]:null;}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===i.TAG_ID.HTML;}hasInDynamicScope(t,e){for(let s=this.stackTop;s>=0;s--){let T=this.tagIDs[s];switch(this.treeAdapter.getNamespaceURI(this.items[s])){case i.NS.HTML:if(T===t)return!0;if(e.has(T))return!1;break;case i.NS.SVG:if(c.has(T))return!1;break;case i.NS.MATHML:if(p.has(T))return!1;}}return!0;}hasInScope(t){return this.hasInDynamicScope(t,n);}hasInListItemScope(t){return this.hasInDynamicScope(t,o);}hasInButtonScope(t){return this.hasInDynamicScope(t,I);}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){let e=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case i.NS.HTML:if(i.NUMBERED_HEADERS.has(e))return!0;if(n.has(e))return!1;break;case i.NS.SVG:if(c.has(e))return!1;break;case i.NS.MATHML:if(p.has(e))return!1;}}return!0;}hasInTableScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===i.NS.HTML)switch(this.tagIDs[e]){case t:return!0;case i.TAG_ID.TABLE:case i.TAG_ID.HTML:return!1;}return!0;}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===i.NS.HTML)switch(this.tagIDs[t]){case i.TAG_ID.TBODY:case i.TAG_ID.THEAD:case i.TAG_ID.TFOOT:return!0;case i.TAG_ID.TABLE:case i.TAG_ID.HTML:return!1;}return!0;}hasInSelectScope(t){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===i.NS.HTML)switch(this.tagIDs[e]){case t:return!0;case i.TAG_ID.OPTION:case i.TAG_ID.OPTGROUP:break;default:return!1;}return!0;}generateImpliedEndTags(){for(;r.has(this.currentTagId);)this.pop();}generateImpliedEndTagsThoroughly(){for(;h.has(this.currentTagId);)this.pop();}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&h.has(this.currentTagId);)this.pop();}}},"d342ab36":function  (A,E,_,n){"use strict";var T,t;Object.defineProperty(E,"__esModule",{value:!0}),function(A,E){for(var _ in E)Object.defineProperty(A,_,{enumerable:!0,get:E[_]});}(E,{CODE_POINTS:function(){return T;},REPLACEMENT_CHARACTER:function(){return S;},SEQUENCES:function(){return r;},getSurrogatePairCodePoint:function(){return L;},isControlCodePoint:function(){return R;},isSurrogate:function(){return N;},isSurrogatePair:function(){return e;},isUndefinedCodePoint:function(){return u;}});let I=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),S="";(t=T||(T={}))[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z";let r={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function N(A){return A>=55296&&A<=57343;}function e(A){return A>=56320&&A<=57343;}function L(A,E){return(A-55296)*1024+9216+E;}function R(A){return 32!==A&&10!==A&&13!==A&&9!==A&&12!==A&&A>=1&&A<=31||A>=127&&A<=159;}function u(A){return A>=64976&&A<=65007||I.has(A);}},"f0b4b8b2":function  (E,T,A,R){"use strict";var O,I,M,N,S,L,D,P,B,t;Object.defineProperty(T,"__esModule",{value:!0}),function(E,T){for(var A in T)Object.defineProperty(E,A,{enumerable:!0,get:T[A]});}(T,{ATTRS:function(){return I;},DOCUMENT_MODE:function(){return M;},NS:function(){return O;},NUMBERED_HEADERS:function(){return G;},SPECIAL_ELEMENTS:function(){return H;},TAG_ID:function(){return S;},TAG_NAMES:function(){return N;},getTagID:function(){return e;},hasUnescapedText:function(){return r;}}),(L=O||(O={})).HTML="http://www.w3.org/1999/xhtml",L.MATHML="http://www.w3.org/1998/Math/MathML",L.SVG="http://www.w3.org/2000/svg",L.XLINK="http://www.w3.org/1999/xlink",L.XML="http://www.w3.org/XML/1998/namespace",L.XMLNS="http://www.w3.org/2000/xmlns/",(D=I||(I={})).TYPE="type",D.ACTION="action",D.ENCODING="encoding",D.PROMPT="prompt",D.NAME="name",D.COLOR="color",D.FACE="face",D.SIZE="size",(P=M||(M={})).NO_QUIRKS="no-quirks",P.QUIRKS="quirks",P.LIMITED_QUIRKS="limited-quirks",(B=N||(N={})).A="a",B.ADDRESS="address",B.ANNOTATION_XML="annotation-xml",B.APPLET="applet",B.AREA="area",B.ARTICLE="article",B.ASIDE="aside",B.B="b",B.BASE="base",B.BASEFONT="basefont",B.BGSOUND="bgsound",B.BIG="big",B.BLOCKQUOTE="blockquote",B.BODY="body",B.BR="br",B.BUTTON="button",B.CAPTION="caption",B.CENTER="center",B.CODE="code",B.COL="col",B.COLGROUP="colgroup",B.DD="dd",B.DESC="desc",B.DETAILS="details",B.DIALOG="dialog",B.DIR="dir",B.DIV="div",B.DL="dl",B.DT="dt",B.EM="em",B.EMBED="embed",B.FIELDSET="fieldset",B.FIGCAPTION="figcaption",B.FIGURE="figure",B.FONT="font",B.FOOTER="footer",B.FOREIGN_OBJECT="foreignObject",B.FORM="form",B.FRAME="frame",B.FRAMESET="frameset",B.H1="h1",B.H2="h2",B.H3="h3",B.H4="h4",B.H5="h5",B.H6="h6",B.HEAD="head",B.HEADER="header",B.HGROUP="hgroup",B.HR="hr",B.HTML="html",B.I="i",B.IMG="img",B.IMAGE="image",B.INPUT="input",B.IFRAME="iframe",B.KEYGEN="keygen",B.LABEL="label",B.LI="li",B.LINK="link",B.LISTING="listing",B.MAIN="main",B.MALIGNMARK="malignmark",B.MARQUEE="marquee",B.MATH="math",B.MENU="menu",B.META="meta",B.MGLYPH="mglyph",B.MI="mi",B.MO="mo",B.MN="mn",B.MS="ms",B.MTEXT="mtext",B.NAV="nav",B.NOBR="nobr",B.NOFRAMES="noframes",B.NOEMBED="noembed",B.NOSCRIPT="noscript",B.OBJECT="object",B.OL="ol",B.OPTGROUP="optgroup",B.OPTION="option",B.P="p",B.PARAM="param",B.PLAINTEXT="plaintext",B.PRE="pre",B.RB="rb",B.RP="rp",B.RT="rt",B.RTC="rtc",B.RUBY="ruby",B.S="s",B.SCRIPT="script",B.SEARCH="search",B.SECTION="section",B.SELECT="select",B.SOURCE="source",B.SMALL="small",B.SPAN="span",B.STRIKE="strike",B.STRONG="strong",B.STYLE="style",B.SUB="sub",B.SUMMARY="summary",B.SUP="sup",B.TABLE="table",B.TBODY="tbody",B.TEMPLATE="template",B.TEXTAREA="textarea",B.TFOOT="tfoot",B.TD="td",B.TH="th",B.THEAD="thead",B.TITLE="title",B.TR="tr",B.TRACK="track",B.TT="tt",B.U="u",B.UL="ul",B.SVG="svg",B.VAR="var",B.WBR="wbr",B.XMP="xmp",(t=S||(S={}))[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP";let C=new Map([[N.A,S.A],[N.ADDRESS,S.ADDRESS],[N.ANNOTATION_XML,S.ANNOTATION_XML],[N.APPLET,S.APPLET],[N.AREA,S.AREA],[N.ARTICLE,S.ARTICLE],[N.ASIDE,S.ASIDE],[N.B,S.B],[N.BASE,S.BASE],[N.BASEFONT,S.BASEFONT],[N.BGSOUND,S.BGSOUND],[N.BIG,S.BIG],[N.BLOCKQUOTE,S.BLOCKQUOTE],[N.BODY,S.BODY],[N.BR,S.BR],[N.BUTTON,S.BUTTON],[N.CAPTION,S.CAPTION],[N.CENTER,S.CENTER],[N.CODE,S.CODE],[N.COL,S.COL],[N.COLGROUP,S.COLGROUP],[N.DD,S.DD],[N.DESC,S.DESC],[N.DETAILS,S.DETAILS],[N.DIALOG,S.DIALOG],[N.DIR,S.DIR],[N.DIV,S.DIV],[N.DL,S.DL],[N.DT,S.DT],[N.EM,S.EM],[N.EMBED,S.EMBED],[N.FIELDSET,S.FIELDSET],[N.FIGCAPTION,S.FIGCAPTION],[N.FIGURE,S.FIGURE],[N.FONT,S.FONT],[N.FOOTER,S.FOOTER],[N.FOREIGN_OBJECT,S.FOREIGN_OBJECT],[N.FORM,S.FORM],[N.FRAME,S.FRAME],[N.FRAMESET,S.FRAMESET],[N.H1,S.H1],[N.H2,S.H2],[N.H3,S.H3],[N.H4,S.H4],[N.H5,S.H5],[N.H6,S.H6],[N.HEAD,S.HEAD],[N.HEADER,S.HEADER],[N.HGROUP,S.HGROUP],[N.HR,S.HR],[N.HTML,S.HTML],[N.I,S.I],[N.IMG,S.IMG],[N.IMAGE,S.IMAGE],[N.INPUT,S.INPUT],[N.IFRAME,S.IFRAME],[N.KEYGEN,S.KEYGEN],[N.LABEL,S.LABEL],[N.LI,S.LI],[N.LINK,S.LINK],[N.LISTING,S.LISTING],[N.MAIN,S.MAIN],[N.MALIGNMARK,S.MALIGNMARK],[N.MARQUEE,S.MARQUEE],[N.MATH,S.MATH],[N.MENU,S.MENU],[N.META,S.META],[N.MGLYPH,S.MGLYPH],[N.MI,S.MI],[N.MO,S.MO],[N.MN,S.MN],[N.MS,S.MS],[N.MTEXT,S.MTEXT],[N.NAV,S.NAV],[N.NOBR,S.NOBR],[N.NOFRAMES,S.NOFRAMES],[N.NOEMBED,S.NOEMBED],[N.NOSCRIPT,S.NOSCRIPT],[N.OBJECT,S.OBJECT],[N.OL,S.OL],[N.OPTGROUP,S.OPTGROUP],[N.OPTION,S.OPTION],[N.P,S.P],[N.PARAM,S.PARAM],[N.PLAINTEXT,S.PLAINTEXT],[N.PRE,S.PRE],[N.RB,S.RB],[N.RP,S.RP],[N.RT,S.RT],[N.RTC,S.RTC],[N.RUBY,S.RUBY],[N.S,S.S],[N.SCRIPT,S.SCRIPT],[N.SEARCH,S.SEARCH],[N.SECTION,S.SECTION],[N.SELECT,S.SELECT],[N.SOURCE,S.SOURCE],[N.SMALL,S.SMALL],[N.SPAN,S.SPAN],[N.STRIKE,S.STRIKE],[N.STRONG,S.STRONG],[N.STYLE,S.STYLE],[N.SUB,S.SUB],[N.SUMMARY,S.SUMMARY],[N.SUP,S.SUP],[N.TABLE,S.TABLE],[N.TBODY,S.TBODY],[N.TEMPLATE,S.TEMPLATE],[N.TEXTAREA,S.TEXTAREA],[N.TFOOT,S.TFOOT],[N.TD,S.TD],[N.TH,S.TH],[N.THEAD,S.THEAD],[N.TITLE,S.TITLE],[N.TR,S.TR],[N.TRACK,S.TRACK],[N.TT,S.TT],[N.U,S.U],[N.UL,S.UL],[N.SVG,S.SVG],[N.VAR,S.VAR],[N.WBR,S.WBR],[N.XMP,S.XMP]]);function e(E){var T;return null!==(T=C.get(E))&&void 0!==T?T:S.UNKNOWN;}let U=S,H={[O.HTML]:new Set([U.ADDRESS,U.APPLET,U.AREA,U.ARTICLE,U.ASIDE,U.BASE,U.BASEFONT,U.BGSOUND,U.BLOCKQUOTE,U.BODY,U.BR,U.BUTTON,U.CAPTION,U.CENTER,U.COL,U.COLGROUP,U.DD,U.DETAILS,U.DIR,U.DIV,U.DL,U.DT,U.EMBED,U.FIELDSET,U.FIGCAPTION,U.FIGURE,U.FOOTER,U.FORM,U.FRAME,U.FRAMESET,U.H1,U.H2,U.H3,U.H4,U.H5,U.H6,U.HEAD,U.HEADER,U.HGROUP,U.HR,U.HTML,U.IFRAME,U.IMG,U.INPUT,U.LI,U.LINK,U.LISTING,U.MAIN,U.MARQUEE,U.MENU,U.META,U.NAV,U.NOEMBED,U.NOFRAMES,U.NOSCRIPT,U.OBJECT,U.OL,U.P,U.PARAM,U.PLAINTEXT,U.PRE,U.SCRIPT,U.SECTION,U.SELECT,U.SOURCE,U.STYLE,U.SUMMARY,U.TABLE,U.TBODY,U.TD,U.TEMPLATE,U.TEXTAREA,U.TFOOT,U.TH,U.THEAD,U.TITLE,U.TR,U.TRACK,U.UL,U.WBR,U.XMP]),[O.MATHML]:new Set([U.MI,U.MO,U.MN,U.MS,U.MTEXT,U.ANNOTATION_XML]),[O.SVG]:new Set([U.TITLE,U.FOREIGN_OBJECT,U.DESC]),[O.XLINK]:new Set,[O.XML]:new Set,[O.XMLNS]:new Set},G=new Set([U.H1,U.H2,U.H3,U.H4,U.H5,U.H6]),n=new Set([N.STYLE,N.SCRIPT,N.XMP,N.IFRAME,N.NOEMBED,N.NOFRAMES,N.PLAINTEXT]);function r(E,T){return n.has(E)||T&&E===N.NOSCRIPT;}},"f4718d32":function  (t,s,i,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Preprocessor",{enumerable:!0,get:function(){return n;}});let h=i("d342ab36"),r=i("42d73029");class n{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1;}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos);}get offset(){return this.droppedBufferSize+this.pos;}getError(t,s){let{line:i,col:e,offset:h}=this,r=e+s,n=h+s;return{code:t,startLine:i,endLine:i,startCol:r,endCol:r,startOffset:n,endOffset:n};}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)));}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos;}_processSurrogate(t){if(this.pos!==this.html.length-1){let s=this.html.charCodeAt(this.pos+1);if((0,h.isSurrogatePair)(s))return this.pos++,this._addGap(),(0,h.getSurrogatePairCodePoint)(t,s);}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,h.CODE_POINTS.EOF;return this._err(r.ERR.surrogateInInputStream),t;}willDropParsedChunk(){return this.pos>this.bufferWaterline;}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0);}write(t,s){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=s;}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1;}startsWith(t,s){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(s)return this.html.startsWith(t,this.pos);for(let s=0;s<t.length;s++)if((32|this.html.charCodeAt(this.pos+s))!==t.charCodeAt(s))return!1;return!0;}peek(t){let s=this.pos+t;if(s>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,h.CODE_POINTS.EOF;let i=this.html.charCodeAt(s);return i===h.CODE_POINTS.CARRIAGE_RETURN?h.CODE_POINTS.LINE_FEED:i;}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,h.CODE_POINTS.EOF;let t=this.html.charCodeAt(this.pos);return t===h.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,h.CODE_POINTS.LINE_FEED):t===h.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,h.isSurrogate)(t)&&(t=this._processSurrogate(t)),null===this.handler.onParseError||t>31&&t<127||t===h.CODE_POINTS.LINE_FEED||t===h.CODE_POINTS.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t);}_checkForProblematicCharacters(t){(0,h.isControlCodePoint)(t)?this._err(r.ERR.controlCharacterInInputStream):(0,h.isUndefinedCodePoint)(t)&&this._err(r.ERR.noncharacterInInputStream);}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1;}}},"fd44cfd5":function  (e,r,t,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]});}(r,{html:function(){return o;},parse:function(){return s;},parseFragment:function(){return c;},serializeOuter:function(){return f.serializeOuter;}});let i=t("@swc/helpers/_/_interop_require_wildcard"),u=t("253158f3"),f=t("82d47fba");t("42d73029"),t("8ddbe450");let o=i._(t("f0b4b8b2"));function s(e,r){return u.Parser.parse(e,r);}function c(e,r,t){"string"==typeof e&&(t=r,r=e,e=null);let n=u.Parser.getFragmentParser(e,t);return n.tokenizer.write(r,!0),n.getFragment();}t("b7941f75"),t("507960b3");},});  # c4787a0ca4c3651a99c286415015eea5   #                                                                                          \`d        XT    P