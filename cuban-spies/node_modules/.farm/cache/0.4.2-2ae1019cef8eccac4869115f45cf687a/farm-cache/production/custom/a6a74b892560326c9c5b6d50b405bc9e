node_modules/parse5/dist/parser/index.jsfunction  (e,t,n,s){"use strict";var T,o;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return N;}});let r=n("@swc/helpers/_/_interop_require_wildcard"),i=n("507960b3"),c=n("beb501d5"),E=n("47ec597a"),_=n("39171beb"),A=r._(n("559e374d")),I=r._(n("8ddbe450")),l=n("42d73029"),D=r._(n("d342ab36")),p=n("f0b4b8b2"),m=n("b7941f75");(o=T||(T={}))[o.INITIAL=0]="INITIAL",o[o.BEFORE_HTML=1]="BEFORE_HTML",o[o.BEFORE_HEAD=2]="BEFORE_HEAD",o[o.IN_HEAD=3]="IN_HEAD",o[o.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",o[o.AFTER_HEAD=5]="AFTER_HEAD",o[o.IN_BODY=6]="IN_BODY",o[o.TEXT=7]="TEXT",o[o.IN_TABLE=8]="IN_TABLE",o[o.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",o[o.IN_CAPTION=10]="IN_CAPTION",o[o.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",o[o.IN_TABLE_BODY=12]="IN_TABLE_BODY",o[o.IN_ROW=13]="IN_ROW",o[o.IN_CELL=14]="IN_CELL",o[o.IN_SELECT=15]="IN_SELECT",o[o.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",o[o.IN_TEMPLATE=17]="IN_TEMPLATE",o[o.AFTER_BODY=18]="AFTER_BODY",o[o.IN_FRAMESET=19]="IN_FRAMESET",o[o.AFTER_FRAMESET=20]="AFTER_FRAMESET",o[o.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",o[o.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";let G={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},d=new Set([p.TAG_ID.TABLE,p.TAG_ID.TBODY,p.TAG_ID.TFOOT,p.TAG_ID.THEAD,p.TAG_ID.TR]),h={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:_.defaultTreeAdapter,onParseError:null};class N{constructor(e,t,n=null,s=null){this.fragmentContext=n,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=T.INITIAL,this.originalInsertionMode=T.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...h,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new i.Tokenizer(this.options,this),this.activeFormattingElements=new E.FormattingElementList(this.treeAdapter),this.fragmentContextID=n?(0,p.getTagID)(this.treeAdapter.getTagName(n)):p.TAG_ID.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new c.OpenElementStack(this.document,this.treeAdapter,this);}static parse(e,t){let n=new this(t);return n.tokenizer.write(e,!0),n.document;}static getFragmentParser(e,t){let n={...h,...t};null!=e||(e=n.treeAdapter.createElement(p.TAG_NAMES.TEMPLATE,p.NS.HTML,[]));let s=n.treeAdapter.createElement("documentmock",p.NS.HTML,[]),o=new this(n,s,e);return o.fragmentContextID===p.TAG_ID.TEMPLATE&&o.tmplInsertionModeStack.unshift(T.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o;}getFragment(){let e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t;}_err(e,t,n){var s;if(!this.onParseError)return;let T=null!==(s=e.location)&&void 0!==s?s:G,o={code:t,startLine:T.startLine,startCol:T.startCol,startOffset:T.startOffset,endLine:n?T.startLine:T.endLine,endCol:n?T.startCol:T.endCol,endOffset:n?T.startOffset:T.endOffset};this.onParseError(o);}onItemPush(e,t,n){var s,T;null===(T=(s=this.treeAdapter).onItemPush)||void 0===T||T.call(s,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t);}onItemPop(e,t){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(s=(n=this.treeAdapter).onItemPop)||void 0===s||s.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):{current:e,currentTagId:t}=this.openElements,this._setContextModes(e,t);}}_setContextModes(e,t){let n=e===this.document||this.treeAdapter.getNamespaceURI(e)===p.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e);}_switchToTextParsing(e,t){this._insertElement(e,p.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=T.TEXT;}switchToPlaintextParsing(){this.insertionMode=T.TEXT,this.originalInsertionMode=T.IN_BODY,this.tokenizer.state=i.TokenizerMode.PLAINTEXT;}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current;}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===p.TAG_NAMES.FORM){this.formElement=e;break;}e=this.treeAdapter.getParentNode(e);}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.NS.HTML)switch(this.fragmentContextID){case p.TAG_ID.TITLE:case p.TAG_ID.TEXTAREA:this.tokenizer.state=i.TokenizerMode.RCDATA;break;case p.TAG_ID.STYLE:case p.TAG_ID.XMP:case p.TAG_ID.IFRAME:case p.TAG_ID.NOEMBED:case p.TAG_ID.NOFRAMES:case p.TAG_ID.NOSCRIPT:this.tokenizer.state=i.TokenizerMode.RAWTEXT;break;case p.TAG_ID.SCRIPT:this.tokenizer.state=i.TokenizerMode.SCRIPT_DATA;break;case p.TAG_ID.PLAINTEXT:this.tokenizer.state=i.TokenizerMode.PLAINTEXT;}}_setDocumentType(e){let t=e.name||"",n=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,s),e.location){let t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location);}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){let n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n);}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{let t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e);}}_appendElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location);}_insertElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID);}_insertFakeElement(e,t){let n=this.treeAdapter.createElement(e,p.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t);}_insertTemplate(e){let t=this.treeAdapter.createElement(e.tagName,p.NS.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null);}_insertFakeRootElement(){let e=this.treeAdapter.createElement(p.TAG_NAMES.HTML,p.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,p.TAG_ID.HTML);}_appendCommentNode(e,t){let n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location);}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;let s=this.treeAdapter.getChildNodes(t),T=n?s.lastIndexOf(n):s.length,o=s[T-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){let{endLine:t,endCol:n,endOffset:s}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:s});}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location);}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n);}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){let n=t.location,s=this.treeAdapter.getTagName(e),T=t.type===m.TokenType.END_TAG&&s===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,T);}}shouldProcessStartTagTokenInForeignContent(e){let t,n;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):{current:t,currentTagId:n}=this.openElements,(e.tagID!==p.TAG_ID.SVG||this.treeAdapter.getTagName(t)!==p.TAG_NAMES.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==p.NS.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===p.TAG_ID.MGLYPH||e.tagID===p.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,t,p.NS.HTML)));}_processToken(e){switch(e.type){case m.TokenType.CHARACTER:this.onCharacter(e);break;case m.TokenType.NULL_CHARACTER:this.onNullCharacter(e);break;case m.TokenType.COMMENT:this.onComment(e);break;case m.TokenType.DOCTYPE:this.onDoctype(e);break;case m.TokenType.START_TAG:this._processStartTag(e);break;case m.TokenType.END_TAG:this.onEndTag(e);break;case m.TokenType.EOF:this.onEof(e);break;case m.TokenType.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e);}}_isIntegrationPoint(e,t,n){let s=this.treeAdapter.getNamespaceURI(t),T=this.treeAdapter.getAttrList(t);return I.isIntegrationPoint(e,s,T,n);}_reconstructActiveFormattingElements(){let e=this.activeFormattingElements.entries.length;if(e){let t=this.activeFormattingElements.entries.findIndex(e=>e.type===E.EntryType.Marker||this.openElements.contains(e.element)),n=t<0?e-1:t-1;for(let e=n;e>=0;e--){let t=this.activeFormattingElements.entries[e];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current;}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=T.IN_ROW;}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.P),this.openElements.popUntilTagNamePopped(p.TAG_ID.P);}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case p.TAG_ID.TR:this.insertionMode=T.IN_ROW;return;case p.TAG_ID.TBODY:case p.TAG_ID.THEAD:case p.TAG_ID.TFOOT:this.insertionMode=T.IN_TABLE_BODY;return;case p.TAG_ID.CAPTION:this.insertionMode=T.IN_CAPTION;return;case p.TAG_ID.COLGROUP:this.insertionMode=T.IN_COLUMN_GROUP;return;case p.TAG_ID.TABLE:this.insertionMode=T.IN_TABLE;return;case p.TAG_ID.BODY:this.insertionMode=T.IN_BODY;return;case p.TAG_ID.FRAMESET:this.insertionMode=T.IN_FRAMESET;return;case p.TAG_ID.SELECT:this._resetInsertionModeForSelect(e);return;case p.TAG_ID.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case p.TAG_ID.HTML:this.insertionMode=this.headElement?T.AFTER_HEAD:T.BEFORE_HEAD;return;case p.TAG_ID.TD:case p.TAG_ID.TH:if(e>0){this.insertionMode=T.IN_CELL;return;}break;case p.TAG_ID.HEAD:if(e>0){this.insertionMode=T.IN_HEAD;return;}}this.insertionMode=T.IN_BODY;}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){let e=this.openElements.tagIDs[t];if(e===p.TAG_ID.TEMPLATE)break;if(e===p.TAG_ID.TABLE){this.insertionMode=T.IN_SELECT_IN_TABLE;return;}}this.insertionMode=T.IN_SELECT;}_isElementCausesFosterParenting(e){return d.has(e);}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId);}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){let t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case p.TAG_ID.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===p.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case p.TAG_ID.TABLE:{let n=this.treeAdapter.getParentNode(t);if(n)return{parent:n,beforeElement:t};return{parent:this.openElements.items[e-1],beforeElement:null};}}}return{parent:this.openElements.items[0],beforeElement:null};}_fosterParentElement(e){let t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e);}_isSpecialElement(e,t){let n=this.treeAdapter.getNamespaceURI(e);return p.SPECIAL_ELEMENTS[n].has(t);}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){this._insertCharacters(e),this.framesetOk=!1;return;}switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.IN_BODY:case T.IN_CAPTION:case T.IN_CELL:case T.IN_TEMPLATE:F(this,e);break;case T.TEXT:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_TABLE_TEXT:Q(this,e);break;case T.IN_COLUMN_GROUP:$(this,e);break;case T.AFTER_BODY:ei(this,e);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){e.chars=D.REPLACEMENT_CHARACTER,this._insertCharacters(e);return;}switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.TEXT:this._insertCharacters(e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_COLUMN_GROUP:$(this,e);break;case T.AFTER_BODY:ei(this,e);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){O(this,e);return;}switch(this.insertionMode){case T.INITIAL:case T.BEFORE_HTML:case T.BEFORE_HEAD:case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:case T.IN_BODY:case T.IN_TABLE:case T.IN_CAPTION:case T.IN_COLUMN_GROUP:case T.IN_TABLE_BODY:case T.IN_ROW:case T.IN_CELL:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:case T.IN_TEMPLATE:case T.IN_FRAMESET:case T.AFTER_FRAMESET:O(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0]);}(this,e);break;case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document);}(this,e);}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case T.INITIAL:!function(e,t){e._setDocumentType(t);let n=t.forceQuirks?p.DOCUMENT_MODE.QUIRKS:A.getDocumentMode(t);A.isConforming(t)||e._err(t,l.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=T.BEFORE_HTML;}(this,e);break;case T.BEFORE_HEAD:case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:this._err(e,l.ERR.misplacedDoctype);break;case T.IN_TABLE_TEXT:J(this,e);}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,l.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(I.causesExit(t))eE(e),e._startTagOutsideForeignContent(t);else{let n=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(n);s===p.NS.MATHML?I.adjustTokenMathMLAttrs(t):s===p.NS.SVG&&(I.adjustTokenSVGTagName(t),I.adjustTokenSVGAttrs(t)),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0;}}(this,e):this._startTagOutsideForeignContent(e);}_startTagOutsideForeignContent(e){switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:e.tagID===p.TAG_ID.HTML?(this._insertElement(e,p.NS.HTML),this.insertionMode=T.BEFORE_HEAD):g(this,e);break;case T.BEFORE_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.HEAD:e._insertElement(t,p.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=T.IN_HEAD;break;default:R(e,t);}}(this,e);break;case T.IN_HEAD:C(this,e);break;case T.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.HEAD:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.STYLE:C(e,t);break;case p.TAG_ID.NOSCRIPT:e._err(t,l.ERR.nestedNoscriptInHead);break;default:b(e,t);}}(this,e);break;case T.AFTER_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BODY:e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=T.IN_BODY;break;case p.TAG_ID.FRAMESET:e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_FRAMESET;break;case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.SCRIPT:case p.TAG_ID.STYLE:case p.TAG_ID.TEMPLATE:case p.TAG_ID.TITLE:e._err(t,l.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,p.TAG_ID.HEAD),C(e,t),e.openElements.remove(e.headElement);break;case p.TAG_ID.HEAD:e._err(t,l.ERR.misplacedStartTagForHeadElement);break;default:f(e,t);}}(this,e);break;case T.IN_BODY:w(this,e);break;case T.IN_TABLE:z(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_CAPTION:!function(e,t){let n=t.tagID;q.has(n)?e.openElements.hasInTableScope(p.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_TABLE,z(e,t)):w(e,t);}(this,e);break;case T.IN_COLUMN_GROUP:Z(this,e);break;case T.IN_TABLE_BODY:ee(this,e);break;case T.IN_ROW:en(this,e);break;case T.IN_CELL:!function(e,t){let n=t.tagID;q.has(n)?(e.openElements.hasInTableScope(p.TAG_ID.TD)||e.openElements.hasInTableScope(p.TAG_ID.TH))&&(e._closeTableCell(),en(e,t)):w(e,t);}(this,e);break;case T.IN_SELECT:ea(this,e);break;case T.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===p.TAG_ID.CAPTION||n===p.TAG_ID.TABLE||n===p.TAG_ID.TBODY||n===p.TAG_ID.TFOOT||n===p.TAG_ID.THEAD||n===p.TAG_ID.TR||n===p.TAG_ID.TD||n===p.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ea(e,t);}(this,e);break;case T.IN_TEMPLATE:!function(e,t){switch(t.tagID){case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.NOFRAMES:case p.TAG_ID.SCRIPT:case p.TAG_ID.STYLE:case p.TAG_ID.TEMPLATE:case p.TAG_ID.TITLE:C(e,t);break;case p.TAG_ID.CAPTION:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.tmplInsertionModeStack[0]=T.IN_TABLE,e.insertionMode=T.IN_TABLE,z(e,t);break;case p.TAG_ID.COL:e.tmplInsertionModeStack[0]=T.IN_COLUMN_GROUP,e.insertionMode=T.IN_COLUMN_GROUP,Z(e,t);break;case p.TAG_ID.TR:e.tmplInsertionModeStack[0]=T.IN_TABLE_BODY,e.insertionMode=T.IN_TABLE_BODY,ee(e,t);break;case p.TAG_ID.TD:case p.TAG_ID.TH:e.tmplInsertionModeStack[0]=T.IN_ROW,e.insertionMode=T.IN_ROW,en(e,t);break;default:e.tmplInsertionModeStack[0]=T.IN_BODY,e.insertionMode=T.IN_BODY,w(e,t);}}(this,e);break;case T.AFTER_BODY:e.tagID===p.TAG_ID.HTML?w(this,e):ei(this,e);break;case T.IN_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.FRAMESET:e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.FRAME:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);break;case T.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);break;case T.AFTER_AFTER_BODY:e.tagID===p.TAG_ID.HTML?w(this,e):ec(this,e);break;case T.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.NOFRAMES:C(e,t);}}(this,e);}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===p.TAG_ID.P||t.tagID===p.TAG_ID.BR){eE(e),e._endTagOutsideForeignContent(t);return;}for(let n=e.openElements.stackTop;n>0;n--){let s=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(s)===p.NS.HTML){e._endTagOutsideForeignContent(t);break;}let T=e.treeAdapter.getTagName(s);if(T.toLowerCase()===t.tagName){t.tagName=T,e.openElements.shortenToLength(n);break;}}}(this,e):this._endTagOutsideForeignContent(e);}_endTagOutsideForeignContent(e){var t;switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:!function(e,t){let n=t.tagID;(n===p.TAG_ID.HTML||n===p.TAG_ID.HEAD||n===p.TAG_ID.BODY||n===p.TAG_ID.BR)&&g(e,t);}(this,e);break;case T.BEFORE_HEAD:!function(e,t){let n=t.tagID;n===p.TAG_ID.HEAD||n===p.TAG_ID.BODY||n===p.TAG_ID.HTML||n===p.TAG_ID.BR?R(e,t):e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}(this,e);break;case T.IN_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.HEAD:e.openElements.pop(),e.insertionMode=T.AFTER_HEAD;break;case p.TAG_ID.BODY:case p.TAG_ID.BR:case p.TAG_ID.HTML:S(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case p.TAG_ID.NOSCRIPT:e.openElements.pop(),e.insertionMode=T.IN_HEAD;break;case p.TAG_ID.BR:b(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.AFTER_HEAD:!function(e,t){switch(t.tagID){case p.TAG_ID.BODY:case p.TAG_ID.HTML:case p.TAG_ID.BR:f(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}}(this,e);break;case T.IN_BODY:y(this,e);break;case T.TEXT:e.tagID===p.TAG_ID.SCRIPT&&(null===(t=this.scriptHandler)||void 0===t||t.call(this,this.openElements.current)),this.openElements.pop(),this.insertionMode=this.originalInsertionMode;break;case T.IN_TABLE:K(this,e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_CAPTION:!function(e,t){let n=t.tagID;switch(n){case p.TAG_ID.CAPTION:case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_TABLE,n===p.TAG_ID.TABLE&&K(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TBODY:case p.TAG_ID.TD:case p.TAG_ID.TFOOT:case p.TAG_ID.TH:case p.TAG_ID.THEAD:case p.TAG_ID.TR:break;default:y(e,t);}}(this,e);break;case T.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case p.TAG_ID.COLGROUP:e.openElements.currentTagId===p.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=T.IN_TABLE);break;case p.TAG_ID.TEMPLATE:u(e,t);break;case p.TAG_ID.COL:break;default:$(e,t);}}(this,e);break;case T.IN_TABLE_BODY:et(this,e);break;case T.IN_ROW:es(this,e);break;case T.IN_CELL:!function(e,t){let n=t.tagID;switch(n){case p.TAG_ID.TD:case p.TAG_ID.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=T.IN_ROW);break;case p.TAG_ID.TABLE:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),es(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:break;default:y(e,t);}}(this,e);break;case T.IN_SELECT:eT(this,e);break;case T.IN_SELECT_IN_TABLE:!function(e,t){let n=t.tagID;n===p.TAG_ID.CAPTION||n===p.TAG_ID.TABLE||n===p.TAG_ID.TBODY||n===p.TAG_ID.TFOOT||n===p.TAG_ID.THEAD||n===p.TAG_ID.TR||n===p.TAG_ID.TD||n===p.TAG_ID.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):eT(e,t);}(this,e);break;case T.IN_TEMPLATE:e.tagID===p.TAG_ID.TEMPLATE&&u(this,e);break;case T.AFTER_BODY:er(this,e);break;case T.IN_FRAMESET:e.tagID!==p.TAG_ID.FRAMESET||this.openElements.isRootHtmlElementCurrent()||(this.openElements.pop(),this.fragmentContext||this.openElements.currentTagId===p.TAG_ID.FRAMESET||(this.insertionMode=T.AFTER_FRAMESET));break;case T.AFTER_FRAMESET:e.tagID===p.TAG_ID.HTML&&(this.insertionMode=T.AFTER_AFTER_FRAMESET);break;case T.AFTER_AFTER_BODY:ec(this,e);}}onEof(e){switch(this.insertionMode){case T.INITIAL:M(this,e);break;case T.BEFORE_HTML:g(this,e);break;case T.BEFORE_HEAD:R(this,e);break;case T.IN_HEAD:S(this,e);break;case T.IN_HEAD_NO_SCRIPT:b(this,e);break;case T.AFTER_HEAD:f(this,e);break;case T.IN_BODY:case T.IN_TABLE:case T.IN_CAPTION:case T.IN_COLUMN_GROUP:case T.IN_TABLE_BODY:case T.IN_ROW:case T.IN_CELL:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:W(this,e);break;case T.TEXT:this._err(e,l.ERR.eofInElementThatCanContainOnlyText),this.openElements.pop(),this.insertionMode=this.originalInsertionMode,this.onEof(e);break;case T.IN_TABLE_TEXT:J(this,e);break;case T.IN_TEMPLATE:eo(this,e);break;case T.AFTER_BODY:case T.IN_FRAMESET:case T.AFTER_FRAMESET:case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:k(this,e);}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===D.CODE_POINTS.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1);}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return;}switch(this.insertionMode){case T.IN_HEAD:case T.IN_HEAD_NO_SCRIPT:case T.AFTER_HEAD:case T.TEXT:case T.IN_COLUMN_GROUP:case T.IN_SELECT:case T.IN_SELECT_IN_TABLE:case T.IN_FRAMESET:case T.AFTER_FRAMESET:this._insertCharacters(e);break;case T.IN_BODY:case T.IN_CAPTION:case T.IN_CELL:case T.IN_TEMPLATE:case T.AFTER_BODY:case T.AFTER_AFTER_BODY:case T.AFTER_AFTER_FRAMESET:B(this,e);break;case T.IN_TABLE:case T.IN_TABLE_BODY:case T.IN_ROW:X(this,e);break;case T.IN_TABLE_TEXT:j(this,e);}}}function L(e,t){for(let n=0;n<8;n++){let n=function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):v(e,t),n;}(e,t);if(!n)break;let s=function(e,t){let n=null,s=e.openElements.stackTop;for(;s>=0;s--){let T=e.openElements.items[s];if(T===t.element)break;e._isSpecialElement(T,e.openElements.tagIDs[s])&&(n=T);}return n||(e.openElements.shortenToLength(s<0?0:s),e.activeFormattingElements.removeEntry(t)),n;}(e,n);if(!s)break;e.activeFormattingElements.bookmark=n;let T=function(e,t,n){let s=t,T=e.openElements.getCommonAncestor(t);for(let o=0,r=T;r!==n;o++,r=T){T=e.openElements.getCommonAncestor(r);let n=e.activeFormattingElements.getElementEntry(r),i=n&&o>=3;!n||i?(i&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(r)):(r=function(e,t){let n=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s;}(e,n),s===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(r,s),s=r);}return s;}(e,s,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(T),o&&function(e,t,n){let s=e.treeAdapter.getTagName(t),T=(0,p.getTagID)(s);if(e._isElementCausesFosterParenting(T))e._fosterParentElement(n);else{let s=e.treeAdapter.getNamespaceURI(t);T===p.TAG_ID.TEMPLATE&&s===p.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n);}}(e,o,T),function(e,t,n){let s=e.treeAdapter.getNamespaceURI(n.element),{token:T}=n,o=e.treeAdapter.createElement(T.tagName,s,T.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,T),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,T.tagID);}(e,s,n);}}function O(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode);}function k(e,t){if(e.stopped=!0,t.location){let n=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=n;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(n);if(s&&!s.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let n=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(n);s&&!s.endTag&&e._setEndLocation(n,t);}}}}function M(e,t){e._err(t,l.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,p.DOCUMENT_MODE.QUIRKS),e.insertionMode=T.BEFORE_HTML,e._processToken(t);}function g(e,t){e._insertFakeRootElement(),e.insertionMode=T.BEFORE_HEAD,e._processToken(t);}function R(e,t){e._insertFakeElement(p.TAG_NAMES.HEAD,p.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=T.IN_HEAD,e._processToken(t);}function C(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.BASE:case p.TAG_ID.BASEFONT:case p.TAG_ID.BGSOUND:case p.TAG_ID.LINK:case p.TAG_ID.META:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.TITLE:e._switchToTextParsing(t,i.TokenizerMode.RCDATA);break;case p.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT):(e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_HEAD_NO_SCRIPT);break;case p.TAG_ID.NOFRAMES:case p.TAG_ID.STYLE:e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SCRIPT:e._switchToTextParsing(t,i.TokenizerMode.SCRIPT_DATA);break;case p.TAG_ID.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=T.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(T.IN_TEMPLATE);break;case p.TAG_ID.HEAD:e._err(t,l.ERR.misplacedStartTagForHeadElement);break;default:S(e,t);}}function u(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==p.TAG_ID.TEMPLATE&&e._err(t,l.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(p.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,l.ERR.endTagWithoutMatchingOpenElement);}function S(e,t){e.openElements.pop(),e.insertionMode=T.AFTER_HEAD,e._processToken(t);}function b(e,t){let n=t.type===m.TokenType.EOF?l.ERR.openElementsLeftAfterEof:l.ERR.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=T.IN_HEAD,e._processToken(t);}function f(e,t){e._insertFakeElement(p.TAG_NAMES.BODY,p.TAG_ID.BODY),e.insertionMode=T.IN_BODY,P(e,t);}function P(e,t){switch(t.type){case m.TokenType.CHARACTER:F(e,t);break;case m.TokenType.WHITESPACE_CHARACTER:B(e,t);break;case m.TokenType.COMMENT:O(e,t);break;case m.TokenType.START_TAG:w(e,t);break;case m.TokenType.END_TAG:y(e,t);break;case m.TokenType.EOF:W(e,t);}}function B(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t);}function F(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1;}function H(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;}function U(e){let t=(0,m.getTokenAttr)(e,p.ATTRS.TYPE);return null!=t&&"hidden"===t.toLowerCase();}function Y(e,t){e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);}function x(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML);}function w(e,t){switch(t.tagID){case p.TAG_ID.I:case p.TAG_ID.S:case p.TAG_ID.B:case p.TAG_ID.U:case p.TAG_ID.EM:case p.TAG_ID.TT:case p.TAG_ID.BIG:case p.TAG_ID.CODE:case p.TAG_ID.FONT:case p.TAG_ID.SMALL:case p.TAG_ID.STRIKE:case p.TAG_ID.STRONG:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case p.TAG_ID.A:!function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(p.TAG_NAMES.A);n&&(L(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);}(e,t);break;case p.TAG_ID.H1:case p.TAG_ID.H2:case p.TAG_ID.H3:case p.TAG_ID.H4:case p.TAG_ID.H5:case p.TAG_ID.H6:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),p.NUMBERED_HEADERS.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.P:case p.TAG_ID.DL:case p.TAG_ID.OL:case p.TAG_ID.UL:case p.TAG_ID.DIV:case p.TAG_ID.DIR:case p.TAG_ID.NAV:case p.TAG_ID.MAIN:case p.TAG_ID.MENU:case p.TAG_ID.ASIDE:case p.TAG_ID.CENTER:case p.TAG_ID.FIGURE:case p.TAG_ID.FOOTER:case p.TAG_ID.HEADER:case p.TAG_ID.HGROUP:case p.TAG_ID.DIALOG:case p.TAG_ID.DETAILS:case p.TAG_ID.ADDRESS:case p.TAG_ID.ARTICLE:case p.TAG_ID.SEARCH:case p.TAG_ID.SECTION:case p.TAG_ID.SUMMARY:case p.TAG_ID.FIELDSET:case p.TAG_ID.BLOCKQUOTE:case p.TAG_ID.FIGCAPTION:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.LI:case p.TAG_ID.DD:case p.TAG_ID.DT:!function(e,t){e.framesetOk=!1;let n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){let s=e.openElements.tagIDs[t];if(n===p.TAG_ID.LI&&s===p.TAG_ID.LI||(n===p.TAG_ID.DD||n===p.TAG_ID.DT)&&(s===p.TAG_ID.DD||s===p.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break;}if(s!==p.TAG_ID.ADDRESS&&s!==p.TAG_ID.DIV&&s!==p.TAG_ID.P&&e._isSpecialElement(e.openElements.items[t],s))break;}e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML);}(e,t);break;case p.TAG_ID.BR:case p.TAG_ID.IMG:case p.TAG_ID.WBR:case p.TAG_ID.AREA:case p.TAG_ID.EMBED:case p.TAG_ID.KEYGEN:H(e,t);break;case p.TAG_ID.HR:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._appendElement(t,p.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;break;case p.TAG_ID.RB:case p.TAG_ID.RTC:e.openElements.hasInScope(p.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.RT:case p.TAG_ID.RP:e.openElements.hasInScope(p.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.RTC),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.PRE:case p.TAG_ID.LISTING:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1;break;case p.TAG_ID.XMP:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SVG:e._reconstructActiveFormattingElements(),I.adjustTokenSVGAttrs(t),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.NS.SVG):e._insertElement(t,p.NS.SVG),t.ackSelfClosing=!0;break;case p.TAG_ID.HTML:0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs);break;case p.TAG_ID.BASE:case p.TAG_ID.LINK:case p.TAG_ID.META:case p.TAG_ID.STYLE:case p.TAG_ID.TITLE:case p.TAG_ID.SCRIPT:case p.TAG_ID.BGSOUND:case p.TAG_ID.BASEFONT:case p.TAG_ID.TEMPLATE:C(e,t);break;case p.TAG_ID.BODY:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs));}(e,t);break;case p.TAG_ID.FORM:!function(e,t){let n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),n||(e.formElement=e.openElements.current));}(e,t);break;case p.TAG_ID.NOBR:e._reconstructActiveFormattingElements(),e.openElements.hasInScope(p.TAG_ID.NOBR)&&(L(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case p.TAG_ID.MATH:e._reconstructActiveFormattingElements(),I.adjustTokenMathMLAttrs(t),I.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.NS.MATHML):e._insertElement(t,p.NS.MATHML),t.ackSelfClosing=!0;break;case p.TAG_ID.TABLE:e.treeAdapter.getDocumentMode(e.document)!==p.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=T.IN_TABLE;break;case p.TAG_ID.INPUT:e._reconstructActiveFormattingElements(),e._appendElement(t,p.NS.HTML),U(t)||(e.framesetOk=!1),t.ackSelfClosing=!0;break;case p.TAG_ID.PARAM:case p.TAG_ID.TRACK:case p.TAG_ID.SOURCE:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.IMAGE:t.tagName=p.TAG_NAMES.IMG,t.tagID=p.TAG_ID.IMG,H(e,t);break;case p.TAG_ID.BUTTON:e.openElements.hasInScope(p.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(p.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1;break;case p.TAG_ID.APPLET:case p.TAG_ID.OBJECT:case p.TAG_ID.MARQUEE:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1;break;case p.TAG_ID.IFRAME:e.framesetOk=!1,e._switchToTextParsing(t,i.TokenizerMode.RAWTEXT);break;case p.TAG_ID.SELECT:e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===T.IN_TABLE||e.insertionMode===T.IN_CAPTION||e.insertionMode===T.IN_TABLE_BODY||e.insertionMode===T.IN_ROW||e.insertionMode===T.IN_CELL?T.IN_SELECT_IN_TABLE:T.IN_SELECT;break;case p.TAG_ID.OPTION:case p.TAG_ID.OPTGROUP:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.NOEMBED:case p.TAG_ID.NOFRAMES:Y(e,t);break;case p.TAG_ID.FRAMESET:!function(e,t){let n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_FRAMESET);}(e,t);break;case p.TAG_ID.TEXTAREA:e._insertElement(t,p.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=i.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=T.TEXT;break;case p.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?Y(e,t):x(e,t);break;case p.TAG_ID.PLAINTEXT:e.openElements.hasInButtonScope(p.TAG_ID.P)&&e._closePElement(),e._insertElement(t,p.NS.HTML),e.tokenizer.state=i.TokenizerMode.PLAINTEXT;break;case p.TAG_ID.COL:case p.TAG_ID.TH:case p.TAG_ID.TD:case p.TAG_ID.TR:case p.TAG_ID.HEAD:case p.TAG_ID.FRAME:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.CAPTION:case p.TAG_ID.COLGROUP:break;default:x(e,t);}}function v(e,t){let n=t.tagName,s=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){let T=e.openElements.items[t],o=e.openElements.tagIDs[t];if(s===o&&(s!==p.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(T)===n)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break;}if(e._isSpecialElement(T,o))break;}}function y(e,t){switch(t.tagID){case p.TAG_ID.A:case p.TAG_ID.B:case p.TAG_ID.I:case p.TAG_ID.S:case p.TAG_ID.U:case p.TAG_ID.EM:case p.TAG_ID.TT:case p.TAG_ID.BIG:case p.TAG_ID.CODE:case p.TAG_ID.FONT:case p.TAG_ID.NOBR:case p.TAG_ID.SMALL:case p.TAG_ID.STRIKE:case p.TAG_ID.STRONG:L(e,t);break;case p.TAG_ID.P:e.openElements.hasInButtonScope(p.TAG_ID.P)||e._insertFakeElement(p.TAG_NAMES.P,p.TAG_ID.P),e._closePElement();break;case p.TAG_ID.DL:case p.TAG_ID.UL:case p.TAG_ID.OL:case p.TAG_ID.DIR:case p.TAG_ID.DIV:case p.TAG_ID.NAV:case p.TAG_ID.PRE:case p.TAG_ID.MAIN:case p.TAG_ID.MENU:case p.TAG_ID.ASIDE:case p.TAG_ID.BUTTON:case p.TAG_ID.CENTER:case p.TAG_ID.FIGURE:case p.TAG_ID.FOOTER:case p.TAG_ID.HEADER:case p.TAG_ID.HGROUP:case p.TAG_ID.DIALOG:case p.TAG_ID.ADDRESS:case p.TAG_ID.ARTICLE:case p.TAG_ID.DETAILS:case p.TAG_ID.SEARCH:case p.TAG_ID.SECTION:case p.TAG_ID.SUMMARY:case p.TAG_ID.LISTING:case p.TAG_ID.FIELDSET:case p.TAG_ID.BLOCKQUOTE:case p.TAG_ID.FIGCAPTION:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n));}(e,t);break;case p.TAG_ID.LI:e.openElements.hasInListItemScope(p.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(p.TAG_ID.LI),e.openElements.popUntilTagNamePopped(p.TAG_ID.LI));break;case p.TAG_ID.DD:case p.TAG_ID.DT:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n));}(e,t);break;case p.TAG_ID.H1:case p.TAG_ID.H2:case p.TAG_ID.H3:case p.TAG_ID.H4:case p.TAG_ID.H5:case p.TAG_ID.H6:e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped());break;case p.TAG_ID.BR:e._reconstructActiveFormattingElements(),e._insertFakeElement(p.TAG_NAMES.BR,p.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1;break;case p.TAG_ID.BODY:!function(e,t){if(e.openElements.hasInScope(p.TAG_ID.BODY)&&(e.insertionMode=T.AFTER_BODY,e.options.sourceCodeLocationInfo)){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t);}}(e,t);break;case p.TAG_ID.HTML:e.openElements.hasInScope(p.TAG_ID.BODY)&&(e.insertionMode=T.AFTER_BODY,er(e,t));break;case p.TAG_ID.FORM:!function(e){let t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(p.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(p.TAG_ID.FORM):n&&e.openElements.remove(n));}(e);break;case p.TAG_ID.APPLET:case p.TAG_ID.OBJECT:case p.TAG_ID.MARQUEE:!function(e,t){let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker());}(e,t);break;case p.TAG_ID.TEMPLATE:u(e,t);break;default:v(e,t);}}function W(e,t){e.tmplInsertionModeStack.length>0?eo(e,t):k(e,t);}function X(e,t){if(d.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=T.IN_TABLE_TEXT,t.type){case m.TokenType.CHARACTER:Q(e,t);break;case m.TokenType.WHITESPACE_CHARACTER:j(e,t);}else V(e,t);}function z(e,t){switch(t.tagID){case p.TAG_ID.TD:case p.TAG_ID.TH:case p.TAG_ID.TR:e.openElements.clearBackToTableContext(),e._insertFakeElement(p.TAG_NAMES.TBODY,p.TAG_ID.TBODY),e.insertionMode=T.IN_TABLE_BODY,ee(e,t);break;case p.TAG_ID.STYLE:case p.TAG_ID.SCRIPT:case p.TAG_ID.TEMPLATE:C(e,t);break;case p.TAG_ID.COL:e.openElements.clearBackToTableContext(),e._insertFakeElement(p.TAG_NAMES.COLGROUP,p.TAG_ID.COLGROUP),e.insertionMode=T.IN_COLUMN_GROUP,Z(e,t);break;case p.TAG_ID.FORM:e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,p.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop());break;case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t));break;case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.clearBackToTableContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_TABLE_BODY;break;case p.TAG_ID.INPUT:U(t)?e._appendElement(t,p.NS.HTML):V(e,t),t.ackSelfClosing=!0;break;case p.TAG_ID.CAPTION:e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_CAPTION;break;case p.TAG_ID.COLGROUP:e.openElements.clearBackToTableContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_COLUMN_GROUP;break;default:V(e,t);}}function K(e,t){switch(t.tagID){case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.TABLE),e._resetInsertionMode());break;case p.TAG_ID.TEMPLATE:u(e,t);break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TBODY:case p.TAG_ID.TD:case p.TAG_ID.TFOOT:case p.TAG_ID.TH:case p.TAG_ID.THEAD:case p.TAG_ID.TR:break;default:V(e,t);}}function V(e,t){let n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,P(e,t),e.fosterParentingEnabled=n;}function j(e,t){e.pendingCharacterTokens.push(t);}function Q(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0;}function J(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)V(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t);}let q=new Set([p.TAG_ID.CAPTION,p.TAG_ID.COL,p.TAG_ID.COLGROUP,p.TAG_ID.TBODY,p.TAG_ID.TD,p.TAG_ID.TFOOT,p.TAG_ID.TH,p.TAG_ID.THEAD,p.TAG_ID.TR]);function Z(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.COL:e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.TEMPLATE:C(e,t);break;default:$(e,t);}}function $(e,t){e.openElements.currentTagId===p.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=T.IN_TABLE,e._processToken(t));}function ee(e,t){switch(t.tagID){case p.TAG_ID.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_ROW;break;case p.TAG_ID.TH:case p.TAG_ID.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(p.TAG_NAMES.TR,p.TAG_ID.TR),e.insertionMode=T.IN_ROW,en(e,t);break;case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE,z(e,t));break;default:z(e,t);}}function et(e,t){let n=t.tagID;switch(t.tagID){case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE);break;case p.TAG_ID.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE,K(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TD:case p.TAG_ID.TH:case p.TAG_ID.TR:break;default:K(e,t);}}function en(e,t){switch(t.tagID){case p.TAG_ID.TH:case p.TAG_ID.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,p.NS.HTML),e.insertionMode=T.IN_CELL,e.activeFormattingElements.insertMarker();break;case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:case p.TAG_ID.TR:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,ee(e,t));break;default:z(e,t);}}function es(e,t){switch(t.tagID){case p.TAG_ID.TR:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY);break;case p.TAG_ID.TABLE:e.openElements.hasInTableScope(p.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,et(e,t));break;case p.TAG_ID.TBODY:case p.TAG_ID.TFOOT:case p.TAG_ID.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(p.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=T.IN_TABLE_BODY,et(e,t));break;case p.TAG_ID.BODY:case p.TAG_ID.CAPTION:case p.TAG_ID.COL:case p.TAG_ID.COLGROUP:case p.TAG_ID.HTML:case p.TAG_ID.TD:case p.TAG_ID.TH:break;default:K(e,t);}}function ea(e,t){switch(t.tagID){case p.TAG_ID.HTML:w(e,t);break;case p.TAG_ID.OPTION:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.OPTGROUP:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,p.NS.HTML);break;case p.TAG_ID.HR:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e._appendElement(t,p.NS.HTML),t.ackSelfClosing=!0;break;case p.TAG_ID.INPUT:case p.TAG_ID.KEYGEN:case p.TAG_ID.TEXTAREA:case p.TAG_ID.SELECT:e.openElements.hasInSelectScope(p.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==p.TAG_ID.SELECT&&e._processStartTag(t));break;case p.TAG_ID.SCRIPT:case p.TAG_ID.TEMPLATE:C(e,t);}}function eT(e,t){switch(t.tagID){case p.TAG_ID.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===p.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===p.TAG_ID.OPTGROUP&&e.openElements.pop();break;case p.TAG_ID.OPTION:e.openElements.currentTagId===p.TAG_ID.OPTION&&e.openElements.pop();break;case p.TAG_ID.SELECT:e.openElements.hasInSelectScope(p.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(p.TAG_ID.SELECT),e._resetInsertionMode());break;case p.TAG_ID.TEMPLATE:u(e,t);}}function eo(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(p.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):k(e,t);}function er(e,t){var n;if(t.tagID===p.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=T.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===p.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);let s=e.openElements.items[1];!s||(null===(n=e.treeAdapter.getNodeSourceCodeLocation(s))||void 0===n?void 0:n.endTag)||e._setEndLocation(s,t);}}else ei(e,t);}function ei(e,t){e.insertionMode=T.IN_BODY,P(e,t);}function ec(e,t){e.insertionMode=T.IN_BODY,P(e,t);}function eE(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==p.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop();}}  Ã  ì<ÿÿnode_modules/parse5/dist/parser/index.js(   <ÿÿ        Àÿÿÿ(   Äÿÿÿ        ¬ÿÿÿ        Ã  í  Èÿÿÿ    Àÿÿÿ    