node_modules/http-cache-semantics/index.jsfunction  (e,t,s,i){"use strict";let r=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),h=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),c=new Set([500,502,503,504]),n={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},o={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function d(e){let t=parseInt(e,10);return isFinite(t)?t:0;}function _(e){let t={};if(!e)return t;for(let s of e.trim().split(/,/)){let[e,i]=s.split(/=/,2);t[e.trim()]=void 0===i||i.trim().replace(/^"|"$/g,"");}return t;}e.exports=class{constructor(e,t,{shared:s,cacheHeuristic:i,immutableMinTimeToLive:r,ignoreCargoCult:h,_fromObject:c}={}){if(c){this._fromObject(c);return;}if(!t||!t.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=!1!==s,this._cacheHeuristic=void 0!==i?i:.1,this._immutableMinTtl=void 0!==r?r:864e5,this._status="status"in t?t.status:200,this._resHeaders=t.headers,this._rescc=_(t.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=t.headers.vary?e.headers:null,this._reqcc=_(e.headers["cache-control"]),h&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":function(e){let t=[];for(let s in e){let i=e[s];t.push(!0===i?s:s+"="+i);}if(t.length)return t.join(", ");}(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),null==t.headers["cache-control"]&&/no-cache/.test(t.headers.pragma)&&(this._rescc["no-cache"]=!0);}now(){return Date.now();}storable(){return!!(!this._reqcc["no-store"]&&("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())&&h.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||r.has(this._status)));}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires;}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing");}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let t=_(e.headers["cache-control"]);return!(t["no-cache"]||/no-cache/.test(e.headers.pragma)||t["max-age"]&&this.age()>t["max-age"]||t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"]||this.stale()&&!(t["max-stale"]&&!this._rescc["must-revalidate"]&&(!0===t["max-stale"]||t["max-stale"]>this.age()-this.maxAge())))&&this._requestMatches(e,!1);}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&"HEAD"===e.method)&&this._varyMatches(e);}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"];}_varyMatches(e){if(!this._resHeaders.vary)return!0;if("*"===this._resHeaders.vary)return!1;for(let t of this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/))if(e.headers[t]!==this._reqHeaders[t])return!1;return!0;}_copyWithoutHopByHopHeaders(e){let t={};for(let s in e)n[s]||(t[s]=e[s]);if(e.connection)for(let s of e.connection.trim().split(/\s*,\s*/))delete t[s];if(t.warning){let e=t.warning.split(/,/).filter(e=>!/^\s*1[0-9][0-9]/.test(e));e.length?t.warning=e.join(",").trim():delete t.warning;}return t;}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),t=this.age();return t>86400&&!this._hasExplicitExpiration()&&this.maxAge()>86400&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(t)}`,e.date=new Date(this.now()).toUTCString(),e;}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime;}age(){return this._ageValue()+(this.now()-this._responseTime)/1e3;}_ageValue(){return d(this._resHeaders.age);}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||"*"===this._resHeaders.vary)return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return d(this._rescc["s-maxage"]);}if(this._rescc["max-age"])return d(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,t=this.date();if(this._resHeaders.expires){let s=Date.parse(this._resHeaders.expires);return Number.isNaN(s)||s<t?0:Math.max(e,(s-t)/1e3);}if(this._resHeaders["last-modified"]){let s=Date.parse(this._resHeaders["last-modified"]);if(isFinite(s)&&t>s)return Math.max(e,(t-s)/1e3*this._cacheHeuristic);}return e;}timeToLive(){let e=this.maxAge()-this.age(),t=e+d(this._rescc["stale-if-error"]),s=e+d(this._rescc["stale-while-revalidate"]);return 1e3*Math.max(0,e,t,s);}stale(){return this.maxAge()<=this.age();}_useStaleIfError(){return this.maxAge()+d(this._rescc["stale-if-error"])>this.age();}useStaleWhileRevalidate(){return this.maxAge()+d(this._rescc["stale-while-revalidate"])>this.age();}static fromObject(e){return new this(void 0,void 0,{_fromObject:e});}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||1!==e.v)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=void 0!==e.imm?e.imm:864e5,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc;}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc};}revalidationHeaders(e){this._assertRequestHasHeaders(e);let t=this._copyWithoutHopByHopHeaders(e.headers);if(delete t["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete t["if-none-match"],delete t["if-modified-since"],t;if(this._resHeaders.etag&&(t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&"GET"!=this._method){if(delete t["if-modified-since"],t["if-none-match"]){let e=t["if-none-match"].split(/,/).filter(e=>!/^\s*W\//.test(e));e.length?t["if-none-match"]=e.join(",").trim():delete t["if-none-match"];}}else this._resHeaders["last-modified"]&&!t["if-modified-since"]&&(t["if-modified-since"]=this._resHeaders["last-modified"]);return t;}revalidatedPolicy(e,t){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&(!t||c.has(t.status)))return{modified:!1,matches:!1,policy:this};if(!t||!t.headers)throw Error("Response headers missing");let s=!1;if(void 0!==t.status&&304!=t.status?s=!1:t.headers.etag&&!/^\s*W\//.test(t.headers.etag)?s=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag:this._resHeaders.etag&&t.headers.etag?s=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?s=this._resHeaders["last-modified"]===t.headers["last-modified"]:this._resHeaders.etag||this._resHeaders["last-modified"]||t.headers.etag||t.headers["last-modified"]||(s=!0),!s)return{policy:new this.constructor(e,t),modified:304!=t.status,matches:!1};let i={};for(let e in this._resHeaders)i[e]=e in t.headers&&!o[e]?t.headers[e]:this._resHeaders[e];let r=Object.assign({},t,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,r,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0};}};}  Ì  2àÿÿnode_modules/http-cache-semantics/index.js  *   Ôßÿÿ        ¼ÿÿÿ*   Àÿÿÿ        ¨ÿÿÿ        Ì  Ç\  Èÿÿÿ    Àÿÿÿ    